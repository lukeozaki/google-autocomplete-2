const __vite__fileDeps=["assets/static/debugger-2f_RQEzl-BnImUzHp.js","assets/static/index-lJc2iZZr.js","assets/static/commonjsHelpers-DZNb-E5g.js","assets/static/index-29uReCQH.js","assets/static/preload-helper-D58fUZad.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Gu=Object.defineProperty;var Zu=(i,r,o)=>r in i?Gu(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o;var Pr=(i,r,o)=>(Zu(i,typeof r!="symbol"?r+"":r,o),o);import{r as Oe,z as gt}from"./index-lJc2iZZr.js";import{d as ht,_ as Vu}from"./preload-helper-D58fUZad.js";import{R as Ju,r as Qu}from"./index-29uReCQH.js";var El={exports:{}},ir={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Oe,Cl=60103;ir.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Fs=Symbol.for;Cl=Fs("react.element"),ir.Fragment=Fs("react.fragment")}var Xu=qu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ec=Object.prototype.hasOwnProperty,tc={key:!0,ref:!0,__self:!0,__source:!0};function Nl(i,r,o){var a,f={},g=null,m=null;o!==void 0&&(g=""+o),r.key!==void 0&&(g=""+r.key),r.ref!==void 0&&(m=r.ref);for(a in r)ec.call(r,a)&&!tc.hasOwnProperty(a)&&(f[a]=r[a]);if(i&&i.defaultProps)for(a in r=i.defaultProps,r)f[a]===void 0&&(f[a]=r[a]);return{$$typeof:Cl,type:i,key:g,ref:m,props:f,_owner:Xu.current}}ir.jsx=Nl;ir.jsxs=Nl;El.exports=ir;var Cg=El.exports,bl={},nc=Object.defineProperty,rc=(i,r,o)=>r in i?nc(i,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[r]=o,it=(i,r,o)=>(rc(i,typeof r!="symbol"?r+"":r,o),o),ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ht.global<"u"?ht.global:typeof self<"u"?self:{};function Tl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wl={exports:{}},Qn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs;function ic(){if(Bs)return Qn;Bs=1;var i=gt,r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,f=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function m(v,x,b){var N,O={},S=null,D=null;b!==void 0&&(S=""+b),x.key!==void 0&&(S=""+x.key),x.ref!==void 0&&(D=x.ref);for(N in x)a.call(x,N)&&!g.hasOwnProperty(N)&&(O[N]=x[N]);if(v&&v.defaultProps)for(N in x=v.defaultProps,x)O[N]===void 0&&(O[N]=x[N]);return{$$typeof:r,type:v,key:S,ref:D,props:O,_owner:f.current}}return Qn.Fragment=o,Qn.jsx=m,Qn.jsxs=m,Qn}wl.exports=ic();var Ae=wl.exports;function oc(i){switch(i){case"AD":case"AM":case"AT":case"AX":case"AZ":case"BA":case"BY":case"CY":case"CZ":case"DK":case"DZ":case"EC":case"EH":case"ET":case"FI":case"FR":case"GE":case"GF":case"GI":case"GP":case"GW":case"HT":case"KE":case"KV":case"KW":case"LA":case"LU":case"MC":case"MD":case"ME":case"MG":case"MK":case"MQ":case"MZ":case"NC":case"NL":case"NO":case"PL":case"PT":case"PY":case"RE":case"RS":case"SA":case"SE":case"SJ":case"SM":case"SN":case"TC":case"TJ":case"TM":case"TN":case"TZ":case"UY":case"VG":case"ZM":return[["line1"],["line2"],["postalCode","city"],["countryCode"]];case"AF":case"IR":return[["line1"],["line2"],["city"],["region"],["postalCode"],["countryCode"]];case"AG":case"AO":case"AW":case"BJ":case"BO":case"BS":case"BZ":case"CI":case"CW":case"DJ":case"FJ":case"GA":case"GH":case"GM":case"GY":case"JM":case"KI":case"LY":case"MW":case"NA":case"NR":case"PS":case"QA":case"RW":case"SC":case"SR":case"SX":case"TG":case"TT":case"UG":case"VU":return[["line1"],["line2"],["city"],["countryCode"]];case"AL":case"EE":case"IS":return[["line1"],["line2"],["postalCode","city"]];case"AR":return[["line1"],["line2"],["postalCode","city",",","region"],["countryCode"]];case"AS":case"BB":case"BD":case"BM":case"BN":case"BT":case"CR":case"DO":case"FK":case"FM":case"GR":case"GU":case"JO":case"KZ":case"LB":case"LK":case"LS":case"MA":case"MH":case"MM":case"MR":case"MT":case"MV":case"NG":case"PG":case"PK":case"PR":case"RO":case"SG":case"VC":case"WS":return[["line1"],["line2"],["city","postalCode"],["countryCode"]];case"AU":case"CA":case"SZ":case"US":case"VI":return[["line1"],["line2"],["city",",","region","postalCode"],["countryCode"]];case"BE":case"PE":return[["line1"],["line2"],["postalCode","sublocality","city"],["countryCode"]];case"BF":case"BI":case"BQ":case"BW":case"CF":case"CG":case"CM":case"DM":case"ER":case"GQ":case"KM":case"ML":case"SY":case"TD":case"ZW":return[["line1"],["line2"],["city"],["region"],["countryCode"]];case"BG":return[["line1"],["postalCode","region"],["countryCode"]];case"BH":return[["line1"],["line2"],["sublocality","city"],["countryCode"]];case"BR":return[["line1"],["line2"],["sublocality"],["city","region"],["postalCode"],["countryCode"]];case"CH":case"DE":case"GT":case"IT":case"LI":case"MY":case"NI":case"OM":case"SK":case"VA":return[["line1"],["line2"],["postalCode","city","region"],["countryCode"]];case"CL":case"PF":return[["line1"],["line2"],["city","postalCode","region"],["countryCode"]];case"CN":return[["region","city","sublocality"],["line1"],["line2"],["countryCode"]];case"CO":case"ID":case"IQ":case"KH":case"MP":case"NP":case"PW":case"UA":return[["line1"],["line2"],["city","region","postalCode"],["countryCode"]];case"EG":return[["line1"],["line2"],["sublocality","city","region","postalCode"],["countryCode"]];case"ES":case"IL":return[["line1"],["line2"],["city","postalCode"],["region"],["countryCode"]];case"GB":case"MN":case"ZA":return[["line1"],["line2"],["sublocality","city","postalCode"],["countryCode"]];case"GG":case"IM":case"JE":return[["line1"],["line2"],["sublocality"],["city"],["postalCode"],["countryCode"]];case"GN":return[["line1","line2","city"],["countryCode"]];case"HK":return[["line1"],["line2"],["sublocality"],["city"],["region"],["countryCode"]];case"HR":return[["line1"],["postalCode","city","region"],["countryCode"]];case"HU":case"SI":return[["postalCode","city"],["line1"],["line2"],["countryCode"]];case"IE":return[["line1"],["line2"],["sublocality"],["city","region","postalCode"],["countryCode"]];case"IN":case"VE":return[["line1"],["line2"],["city","postalCode"],["region"],["countryCode"]];case"JP":return[["line2"],["line1","sublocality"],["city","region"],["postalCode"],["countryCode"]];case"KR":return[["countryCode"],["region","city","sublocality","line1"],["line2"],["postalCode"]];case"KY":return[["line1"],["line2"],["postalCode"],["countryCode"]];case"LT":return[["line1"],["postalCode","city","sublocality","region"],["countryCode"]];case"LV":return[["line1"],["city",",","postalCode"],["countryCode"]];case"MO":return[["line1"],["line2"],["sublocality"],["city"],["countryCode"]];case"MU":return[["line1"],["line2"],["city"],["region","postalCode"],["countryCode"]];case"MX":return[["line1"],["line2"],["sublocality"],["postalCode","city",",","region"],["countryCode"]];case"NE":case"SD":return[["line1"],["line2"],["postalCode"],["city"],["region"],["countryCode"]];case"NZ":return[["line1"],["line2"],["sublocality"],["city"],["postalCode"],["countryCode"]];case"PH":case"TW":case"VN":return[["line1"],["line2"],["sublocality","city"],["region","postalCode"],["countryCode"]];case"RU":return[["line1"],["line2"],["city"],["postalCode"],["countryCode"]];case"SB":case"SL":case"ST":case"TL":case"TO":case"TV":return[["line1"],["line2"],["city",",","region"],["countryCode"]];case"TH":case"TR":return[["line1"],["line2"],["sublocality"],["postalCode","city"],["countryCode"]];case"UZ":return[["line1"],["line2"],["region","postalCode"],["countryCode"]]}return[["line1","line2"],["city","region","postalCode"],["countryCode"]]}const sc={GOOGLEMYBUSINESS:"GOOGLEMYBUSINESS"},Hs={GOOGLE:"google",APPLE:"apple",BING:"bing"},ac=(i,r)=>{const o={region:"localizedRegionName",countryCode:"localizedCountryName"}[i];return o&&r[o]},Ng=(i,r=[],o,a={route:!1})=>{const f="Failed to construct query for maps service.";let g=i&&Us([i.line1,i.line2,i.city,i.region,i.postalCode,i.countryCode]);switch(a.provider){case Hs.APPLE:{if(!g){console.warn(`${f} Check that you've provided a valid Yext Address.`);break}return lc(g,a.route)}case Hs.BING:{if(g=i&&Us([i.line1,i.city,i.region,i.postalCode]),!g){console.warn(`${f} Check that you've provided a valid Yext Address.`);break}return uc(g,a.route)}default:{const m=r.find(v=>{var x;return((x=v==null?void 0:v.publisher)==null?void 0:x.toUpperCase())===sc.GOOGLEMYBUSINESS});if(m!=null&&m.listingUrl)return m.listingUrl;if(o)return cc(o,g,a.route);if(!g){console.warn(`${f} Check that you've provided a valid Yext Address, Yext ListingType, or Google Place ID.`);break}return dc(g,a.route)}}},lc=(i,r)=>r?`https://maps.apple.com/?daddr=${i}`:`https://maps.apple.com/?address=${i}`,uc=(i,r)=>r?`https://bing.com/maps/default.aspx?rtp=adr.${i}`:`https://bing.com/maps/default.aspx?where1=${i}`,cc=(i,r,o)=>{const a=r?`&query=${r}`:"";return o?`https://maps.google.com/maps/dir/?api=1${a}&destination_place_id=${i}&destination=direct`:a?`https://maps.google.com/maps/search/?api=1${a}&query_place_id=${i}`:`https://maps.google.com/maps/dir/?api=1&destination_place_id=${i}&destination=direct`},dc=(i,r)=>r?`https://maps.google.com/maps/dir/?api=1&destination=${i}`:`https://maps.google.com/maps/search/?api=1&query=${i}`,Us=(i=[])=>{if(!i.length)return"";const r=i.filter(Boolean).join(", ");return encodeURI(r)},bg=({address:i,lines:r,separator:o=",",...a})=>{const f=(r||oc(i.countryCode)).map(g=>Ae.jsx(hc,{address:i,line:g,separator:o},g.toString()));return Oe.createElement("div",{...a,key:i.toString()},f)},hc=({address:i,line:r,separator:o})=>{const a=[];for(const f of r){if(f===","){a.push(Ae.jsx("span",{children:o},f));continue}const g=i[f];if(!g)continue;const m=ac(f,i);if(m){a.push(Ae.jsxs(Oe.Fragment,{children:[" ",Ae.jsx("abbr",{title:m,children:g})]},f));continue}a.push(Ae.jsx("span",{children:" "+g},f))}return Ae.jsx("div",{className:"address-line",children:a})};var wn={};Object.defineProperty(wn,"__esModule",{value:!0});var gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},fc=typeof window<"u"&&typeof window.document<"u",pc=typeof ht.process<"u"&&ht.process.versions!=null&&ht.process.versions.node!=null,_c=(typeof self>"u"?"undefined":gc(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",mc=typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),yc=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",zs=wn.isBrowser=fc;wn.isWebWorker=_c;var vc=wn.isNode=pc;wn.isJsDom=mc;var Ec=wn.isDeno=yc;class Cc{constructor(){it(this,"name"),it(this,"isServerSide"),it(this,"version");var r;Ec?(this.name="deno",this.version="",zs&&(this.version=((r=window.Deno)==null?void 0:r.version.deno)||""),this.isServerSide=!0):vc?(this.name="node",this.version=ht.process.versions.node,this.isServerSide=!0):zs?(this.name="browser",this.version=navigator.userAgent,this.isServerSide=!1):(this.name="unknown",this.version="",this.isServerSide=!1)}getNodeMajorVersion(){if(this.name!=="node")throw new Error("Not running in Node.");return+this.version.split(".")[0]}}const cn=()=>new Cc,Nc=(...i)=>{var r;if(cn().name!=="browser")return!1;const o=(r=window==null?void 0:window.location)==null?void 0:r.hostname;return i.length===0?o!=="localhost"&&!o.includes("preview.pagescdn.com"):i.some(a=>a==null?void 0:a.includes(o))};var io={exports:{}};(function(i,r){var o=typeof self<"u"?self:ro,a=function(){function g(){this.fetch=!1,this.DOMException=o.DOMException}return g.prototype=o,new g}();(function(g){(function(m){var v={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function x(G){return G&&DataView.prototype.isPrototypeOf(G)}if(v.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],N=ArrayBuffer.isView||function(G){return G&&b.indexOf(Object.prototype.toString.call(G))>-1};function O(G){if(typeof G!="string"&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(G))throw new TypeError("Invalid character in header field name");return G.toLowerCase()}function S(G){return typeof G!="string"&&(G=String(G)),G}function D(G){var le={next:function(){var W=G.shift();return{done:W===void 0,value:W}}};return v.iterable&&(le[Symbol.iterator]=function(){return le}),le}function p(G){this.map={},G instanceof p?G.forEach(function(le,W){this.append(W,le)},this):Array.isArray(G)?G.forEach(function(le){this.append(le[0],le[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(le){this.append(le,G[le])},this)}p.prototype.append=function(G,le){G=O(G),le=S(le);var W=this.map[G];this.map[G]=W?W+", "+le:le},p.prototype.delete=function(G){delete this.map[O(G)]},p.prototype.get=function(G){return G=O(G),this.has(G)?this.map[G]:null},p.prototype.has=function(G){return this.map.hasOwnProperty(O(G))},p.prototype.set=function(G,le){this.map[O(G)]=S(le)},p.prototype.forEach=function(G,le){for(var W in this.map)this.map.hasOwnProperty(W)&&G.call(le,this.map[W],W,this)},p.prototype.keys=function(){var G=[];return this.forEach(function(le,W){G.push(W)}),D(G)},p.prototype.values=function(){var G=[];return this.forEach(function(le){G.push(le)}),D(G)},p.prototype.entries=function(){var G=[];return this.forEach(function(le,W){G.push([W,le])}),D(G)},v.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function _(G){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}function C(G){return new Promise(function(le,W){G.onload=function(){le(G.result)},G.onerror=function(){W(G.error)}})}function A(G){var le=new FileReader,W=C(le);return le.readAsArrayBuffer(G),W}function y(G){var le=new FileReader,W=C(le);return le.readAsText(G),W}function w(G){for(var le=new Uint8Array(G),W=new Array(le.length),M=0;M<le.length;M++)W[M]=String.fromCharCode(le[M]);return W.join("")}function k(G){if(G.slice)return G.slice(0);var le=new Uint8Array(G.byteLength);return le.set(new Uint8Array(G)),le.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(G){this._bodyInit=G,G?typeof G=="string"?this._bodyText=G:v.blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:v.formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:v.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():v.arrayBuffer&&v.blob&&x(G)?(this._bodyArrayBuffer=k(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||N(G))?this._bodyArrayBuffer=k(G):this._bodyText=G=Object.prototype.toString.call(G):this._bodyText="",this.headers.get("content-type")||(typeof G=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var G=_(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var G=_(this);if(G)return G;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(G){var le=G.toUpperCase();return z.indexOf(le)>-1?le:G}function X(G,le){le=le||{};var W=le.body;if(G instanceof X){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,le.headers||(this.headers=new p(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,!W&&G._bodyInit!=null&&(W=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=le.credentials||this.credentials||"same-origin",(le.headers||!this.headers)&&(this.headers=new p(le.headers)),this.method=q(le.method||this.method||"GET"),this.mode=le.mode||this.mode||null,this.signal=le.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(W)}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})};function B(G){var le=new FormData;return G.trim().split("&").forEach(function(W){if(W){var M=W.split("="),$=M.shift().replace(/\+/g," "),j=M.join("=").replace(/\+/g," ");le.append(decodeURIComponent($),decodeURIComponent(j))}}),le}function R(G){var le=new p,W=G.replace(/\r?\n[\t ]+/g," ");return W.split(/\r?\n/).forEach(function(M){var $=M.split(":"),j=$.shift().trim();if(j){var K=$.join(":").trim();le.append(j,K)}}),le}I.call(X.prototype);function P(G,le){le||(le={}),this.type="default",this.status=le.status===void 0?200:le.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in le?le.statusText:"OK",this.headers=new p(le.headers),this.url=le.url||"",this._initBody(G)}I.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},P.error=function(){var G=new P(null,{status:0,statusText:""});return G.type="error",G};var ie=[301,302,303,307,308];P.redirect=function(G,le){if(ie.indexOf(le)===-1)throw new RangeError("Invalid status code");return new P(null,{status:le,headers:{location:G}})},m.DOMException=g.DOMException;try{new m.DOMException}catch{m.DOMException=function(G,le){this.message=G,this.name=le;var W=Error(G);this.stack=W.stack},m.DOMException.prototype=Object.create(Error.prototype),m.DOMException.prototype.constructor=m.DOMException}function Ee(G,le){return new Promise(function(W,M){var $=new X(G,le);if($.signal&&$.signal.aborted)return M(new m.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function K(){j.abort()}j.onload=function(){var se={status:j.status,statusText:j.statusText,headers:R(j.getAllResponseHeaders()||"")};se.url="responseURL"in j?j.responseURL:se.headers.get("X-Request-URL");var he="response"in j?j.response:j.responseText;W(new P(he,se))},j.onerror=function(){M(new TypeError("Network request failed"))},j.ontimeout=function(){M(new TypeError("Network request failed"))},j.onabort=function(){M(new m.DOMException("Aborted","AbortError"))},j.open($.method,$.url,!0),$.credentials==="include"?j.withCredentials=!0:$.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&v.blob&&(j.responseType="blob"),$.headers.forEach(function(se,he){j.setRequestHeader(he,se)}),$.signal&&($.signal.addEventListener("abort",K),j.onreadystatechange=function(){j.readyState===4&&$.signal.removeEventListener("abort",K)}),j.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return Ee.polyfill=!0,g.fetch||(g.fetch=Ee,g.Headers=p,g.Request=X,g.Response=P),m.Headers=p,m.Request=X,m.Response=P,m.fetch=Ee,Object.defineProperty(m,"__esModule",{value:!0}),m})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var f=a;r=f.fetch,r.default=f.fetch,r.fetch=f.fetch,r.Headers=f.Headers,r.Request=f.Request,r.Response=f.Response,i.exports=r})(io,io.exports);var bc=io.exports;const Ks=Tl(bc);var Tc=function(){function i(){}return i.prototype.post=function(r,o,a){var f=JSON.stringify(o),g={method:"POST",headers:a,body:f,keepalive:!0};return typeof window<"u"&&window.fetch?window.fetch(r,g):Ks(r,g)},i.prototype.get=function(r){var o={method:"GET",mode:"no-cors",keepalive:!0};return typeof window<"u"&&window.fetch?window.fetch(r,o):Ks(r,o)},i}(),wc={US:{PRODUCTION:"https://us.yextevents.com",SANDBOX:"https://sbx.us.yextevents.com"},EU:{PRODUCTION:"https://eu.yextevents.com",SANDBOX:void 0}},xc={US:{PRODUCTION:"https://realtimeanalytics.yext.com",SANDBOX:"https://sandbox-realtimeanalytics.yext.com"},EU:{PRODUCTION:void 0,SANDBOX:void 0}};function Sc(i,r){var o=r?fo(i):Rc(i);return"".concat(o,"/store_pagespixel")}function Oc(){var i=fo("US","PRODUCTION");return"".concat(i,"/conversiontracking/conversion")}function Ac(){var i=fo("US","PRODUCTION");return"".concat(i,"/listings")}function fo(i,r){return xl(xc,i,r,!0)}function Rc(i,r){return xl(wc,i,r)}function xl(i,r,o,a){r===void 0&&(r="US"),o===void 0&&(o="PRODUCTION"),a===void 0&&(a=!1);var f=i[r][o];if(!f)throw Error('The combination of the environment: "'.concat(o,'", region: "').concat(r,'",')+'and conversionTrackingEnabled: "'.concat(a,'" is unsupported.'));return f}var js;(function(i){i.AllTabNavigation="ALL_TAB_NAVIGATION",i.VerticalTabNavigation="VERTICAL_TAB_NAVIGATION",i.ScrollToBottomOfPage="SCROLL_TO_BOTTOM_OF_PAGE",i.QuestionFocus="QUESTION_FOCUS",i.QuestionSubmit="QUESTION_SUBMIT",i.RowExpand="ROW_EXPAND",i.RowCollapse="ROW_COLLAPSE",i.ThumbsUp="THUMBS_UP",i.ThumbsDown="THUMBS_DOWN",i.VoiceStart="VOICE_START",i.VoiceStop="VOICE_STOP",i.SearchBarImpression="SEARCH_BAR_IMPRESSION",i.SearchClearButton="SEARCH_CLEAR_BUTTON",i.Paginate="PAGINATE",i.AutocompleteSelection="AUTO_COMPLETE_SELECTION",i.VerticalViewAll="VERTICAL_VIEW_ALL",i.CtaClick="CTA_CLICK",i.TitleClick="TITLE_CLICK",i.TapToCall="TAP_TO_CALL",i.OrderNow="ORDER_NOW",i.AddToCart="ADD_TO_CART",i.ApplyNow="APPLY_NOW",i.DrivingDirections="DRIVING_DIRECTIONS",i.ViewWebsite="VIEW_WEBSITE",i.Email="EMAIL",i.BookAppointment="BOOK_APPOINTMENT",i.Rsvp="RSVP",i.ResultsHidden="RESULTS_HIDDEN",i.ResultsUnhidden="RESULTS_UNHIDDEN",i.FollowUpQuery="FOLLOW_UP_QUERY"})(js||(js={}));var yt;(function(i){i.PageView="PAGE_VIEW",i.CTA="CTA_CLICK",i.Website="WEBSITE",i.DrivingDirection="DRIVING_DIRECTIONS",i.PhoneCall="CALL"})(yt||(yt={}));yt.CTA;yt.Website;yt.DrivingDirection;var Mc={eventType:yt.PageView};yt.PhoneCall;var Ws;(function(i){i.Production="PRODUCTION",i.Sandbox="SANDBOX"})(Ws||(Ws={}));var Ys;(function(i){i.US="US",i.EU="EU"})(Ys||(Ys={}));var tr="_yfpc",zi="__temp__",Sl="y_source";function Ol(){return Date.now()+Math.floor(1e3*Math.random())}var Ki=function(i,r,o,a){function f(g){return g instanceof o?g:new o(function(m){m(g)})}return new(o||(o=Promise))(function(g,m){function v(N){try{b(a.next(N))}catch(O){m(O)}}function x(N){try{b(a.throw(N))}catch(O){m(O)}}function b(N){N.done?g(N.value):f(N.value).then(v,x)}b((a=a.apply(i,r||[])).next())})},ji=function(i,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},a,f,g,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(b){return function(N){return x([b,N])}}function x(b){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,f&&(g=b[0]&2?f.return:b[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,b[1])).done)return g;switch(f=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return o.label++,{value:b[1],done:!1};case 5:o.label++,f=b[1],b=[0];continue;case 7:b=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){o=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){o.label=b[1];break}if(b[0]===6&&o.label<g[1]){o.label=g[1],g=b;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(b);break}g[2]&&o.ops.pop(),o.trys.pop();continue}b=r.call(i,o)}catch(N){b=[6,N],f=0}finally{a=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},kc=function(){function i(r,o){this.httpRequesterService=r,this.debug=o,this._debug=o,this._conversionTrackingEndpoint=Oc(),this._conversionTrackingListingsEndpoint=Ac()}return i.prototype.printEvent=function(r,o){this._debug&&console.log("%c[YextAnalytics]%c- Tracked ".concat(o," event: ").concat(r),"background: white; color: blue;","")},i.prototype.handleRequest=function(r){return Ki(this,void 0,void 0,function(){var o,a;return ji(this,function(f){switch(f.label){case 0:return[4,this.httpRequesterService.get(r.toString())];case 1:return o=f.sent(),o.status!==200&&!(o.type==="opaqueredirect"||o.type==="opaque")?[4,o.text()]:[3,3];case 2:throw a=f.sent(),new Error(a);case 3:return[2]}})})},i.formatBaseEvent=function(r,o){o.set(tr,r.cookieId),r.referrer&&o.set("referrer",r.referrer),o.set("v",Ol().toString()),o.set("location",r.location)},i.prototype.trackConversion=function(r){return Ki(this,void 0,void 0,function(){var o,a;return ji(this,function(f){switch(f.label){case 0:return o=new URL(this._conversionTrackingEndpoint),a=new URLSearchParams,a.set("cid",r.cid),r.cv&&a.set("cv",r.cv),i.formatBaseEvent(r,a),o.search=a.toString(),[4,this.handleRequest(o.toString())];case 1:return f.sent(),this.printEvent(r.cid,"Conversion"),[2]}})})},i.prototype.trackListings=function(r){return Ki(this,void 0,void 0,function(){var o,a;return ji(this,function(f){switch(f.label){case 0:return o=new URL(this._conversionTrackingListingsEndpoint),a=new URLSearchParams,a.set(Sl,r.source),i.formatBaseEvent(r,a),o.search=a.toString(),[4,this.handleRequest(o.toString())];case 1:return f.sent(),this.printEvent(r.source,"Listings Click"),[2]}})})},i.prototype.setDebugEnabled=function(r){this._debug=r},i}(),Gs=function(i,r,o,a){function f(g){return g instanceof o?g:new o(function(m){m(g)})}return new(o||(o=Promise))(function(g,m){function v(N){try{b(a.next(N))}catch(O){m(O)}}function x(N){try{b(a.throw(N))}catch(O){m(O)}}function b(N){N.done?g(N.value):f(N.value).then(v,x)}b((a=a.apply(i,r||[])).next())})},Zs=function(i,r){var o={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},a,f,g,m;return m={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function v(b){return function(N){return x([b,N])}}function x(b){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,f&&(g=b[0]&2?f.return:b[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,b[1])).done)return g;switch(f=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return o.label++,{value:b[1],done:!1};case 5:o.label++,f=b[1],b=[0];continue;case 7:b=o.ops.pop(),o.trys.pop();continue;default:if(g=o.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){o=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){o.label=b[1];break}if(b[0]===6&&o.label<g[1]){o.label=g[1],g=b;break}if(g&&o.label<g[2]){o.label=g[2],o.ops.push(b);break}g[2]&&o.ops.pop(),o.trys.pop();continue}b=r.call(i,o)}catch(N){b=[6,N],f=0}finally{a=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Pc="sites",He;(function(i){i.BusinessId="businessids",i.Product="product",i.SiteId="siteId",i.IsStaging="isStaging",i.CacheBuster="v",i.UrlPath="pageurl",i.Referrer="pagesReferrer",i.EventType="eventType",i.PageSetId="pageSetId",i.EntityInternalId="ids",i.DirectoryId="directoryId",i.SearchId="searchId",i.StaticPageId="staticPageId",i.PageType="pageType",i.VisitorId="visitorId",i.VisitorMethod="visitorIdMethod",i.PageDomain="pageDomain"})(He||(He={}));var xn=new Map;xn.set(yt.PageView,"pageview");xn.set(yt.CTA,"calltoactionclick");xn.set(yt.PhoneCall,"phonecall");xn.set(yt.DrivingDirection,"drivingdirection");xn.set(yt.Website,"clicktowebsite");function Ic(i){var r=xn.get(i);return typeof r=="string"?r:i}var Dc=function(){function i(r,o){this.config=r,this.httpRequesterService=o,this.setVisitor(r.visitor),this._debug=r.debug,this._conversionTracker=new kc(this.httpRequesterService,this._debug),this._hasTrackedListings=!1,this._region=r.region;try{this._pageUrl=new URL(r.pageUrl)}catch{throw new Error("pageUrl property must be a valid URL, was: '".concat(r.pageUrl,"'"))}if(r.pageDomain)try{this._pageDomain=new URL(r.pageDomain)}catch{console.warn("pageDomain '".concat(r.pageDomain,"' is not a valid URL."),"It will not be included as a query param sent to the API.")}}return i.prototype.printEvent=function(r){this._debug&&console.log("%c[YextAnalytics]%c- Tracked Pages event: ".concat(r.eventType),"background: white; color: blue;","")},i.prototype.urlParameters=function(r){var o=new URLSearchParams;return o.set(He.BusinessId,this.config.businessId.toString()),o.set(He.Product,Pc),o.set(He.SiteId,this.config.siteId.toString()),o.set(He.IsStaging,(!this.config.production).toString()),o.set(He.EventType,Ic(r.eventType)),o.set(He.PageType,this.config.pageType.name),this.config.pageType.name==="entity"?(o.set(He.PageSetId,this.config.pageType.pageSetId),o.set(He.EntityInternalId,this.config.pageType.id.toString())):this.config.pageType.name==="directory"?(o.set(He.DirectoryId,this.config.pageType.directoryId),o.set(He.EntityInternalId,this.config.pageType.id.toString())):this.config.pageType.name==="locator"?o.set(He.SearchId,this.config.pageType.searchId):He.StaticPageId in this.config.pageType&&o.set(He.StaticPageId,this.config.pageType.staticPageId),o.set(He.CacheBuster,Ol().toString()),o.set(He.UrlPath,this._pageUrl.pathname),o.set(He.Referrer,this.config.referrer),this._pageDomain&&o.set(He.PageDomain,this._pageDomain.toString()),this._conversionTrackingEnabled&&this._cookieID&&o.set(tr,this._cookieID),this._visitor&&(o.set(He.VisitorId,this._visitor.id),this._visitor.idMethod&&o.set(He.VisitorMethod,this._visitor.idMethod)),o},i.prototype.pageView=function(){return Gs(this,void 0,void 0,function(){var r;return Zs(this,function(o){switch(o.label){case 0:return r=this._pageUrl.searchParams.get(Sl),this._conversionTrackingEnabled&&this._cookieID&&!this._hasTrackedListings&&r?[4,this._conversionTracker.trackListings({cookieId:this._cookieID,location:this._pageUrl.toString(),source:r})]:[3,2];case 1:o.sent(),this._hasTrackedListings=!0,o.label=2;case 2:return[2,this.track(Mc)]}})})},i.prototype.track=function(r,o){return Gs(this,void 0,void 0,function(){var a,f,g,m;return Zs(this,function(v){switch(v.label){case 0:return a=Sc(this._region,this._conversionTrackingEnabled),f=new URL(a),f.search=this.urlParameters(r).toString(),[4,this.httpRequesterService.get(f.toString())];case 1:return g=v.sent(),g.status!==200&&!(g.type=="opaque"||g.type=="opaqueredirect")?[4,g.text()]:[3,3];case 2:throw m=v.sent(),new Error(m);case 3:return this.printEvent(r),this._conversionTrackingEnabled&&this._cookieID&&o?[4,this._conversionTracker.trackConversion({cid:o.cid,cv:o.cv,cookieId:this._cookieID,location:this._pageUrl.toString()})]:[3,5];case 4:v.sent(),v.label=5;case 5:return[2]}})})},i.prototype.setDebugEnabled=function(r){this._debug=r,this._conversionTracker&&this._conversionTracker.setDebugEnabled(r)},i.prototype.setVisitor=function(r){this._visitor=r},i.prototype.setConversionTrackingEnabled=function(r,o){this._conversionTrackingEnabled=r,this._cookieID=o},i}(),Lc=function(){function i(r,o){r===void 0&&(r=window),o===void 0&&(o=document),this._outerWindow=r,this._outerDocument=o}return i.prototype.setAndGetYextCookie=function(){var r=this.fetchCookie();return r||(r=i.generateRandomCookie().toString()),this.setCookieAndRemoveOldCookies(r),r},i.generateRandomCookie=function(){return Math.floor(Math.random()*new Date().getTime())},i.prototype.fetchCookie=function(){var r=this,o="",a=function(f){if(r.canSetCookieWithDomain(f)){var g=r.removeCookieByDomain(f);return g&&(o=g,r.setCookie(o,f)),!0}};return this.forEachDomainIncreasingSpecificity(a),o||a(""),o},i.prototype.forEachDomainIncreasingSpecificity=function(r){for(var o=!1,a=this._outerDocument.location.hostname.split(".").reverse(),f="",g=0;g<a.length;g++)if(f="."+a[g]+f,r(f)){o=!0;break}o||r("")},i.prototype.removeCookieByDomain=function(r){var o=this.persistentCookies();this.clearCookie(r);var a=this.persistentCookies();return a.length<o.length&&i.listDifference(o,a)[0]||""},i.listDifference=function(r,o){for(var a=Array.from(r),f=0;f<o.length;f++){var g=a.indexOf(o[f]);g!==-1&&a.splice(g,1)}return a},i.prototype.persistentCookies=function(){return this.allCookies().filter(function(r){return r!==zi})},i.prototype.allCookies=function(){var r=[];return this.forEachCookieNameValue(function(o,a){o===tr&&r.push(a)}),r},i.prototype.forEachCookieNameValue=function(r){this._outerDocument.cookie.split(";").forEach(function(o){var a=o.split("="),f=a[0],g=a[1];f&&g&&r(f.trim(),g.trim())})},i.prototype.setCookieAndRemoveOldCookies=function(r){var o=this,a=!1,f=this.allCookies().length,g=0;this.forEachDomainIncreasingSpecificity(function(m){if(a?o.removeCookieByDomain(m)&&g++:o.canSetCookieWithDomain(m)&&(o.removeCookieByDomain(m)&&g++,o.setCookie(r,m),a=!0),g>=f&&a)return!0})},i.prototype.canSetCookieWithDomain=function(r){var o=this.removeCookieByDomain(r),a=this.allCookies();this.setCookie(zi,r);var f=this.allCookies();return a.length<f.length?(o?this.setCookie(o,r):this.clearCookie(r),!0):!1},i.prototype.setCookie=function(r,o){this._outerDocument.cookie=this.formatCookie(tr,r,o)},i.prototype.formatCookie=function(r,o,a,f){f===void 0&&(f="/");var g=r+"="+o,m=new Date;return m.setTime(m.getTime()+90*24*60*60*1e3),g+=";path="+f,g+=";expires="+m.toUTCString(),a&&(g+=";domain="+a),g+=";samesite=None;",this._outerWindow.location.protocol==="https:"&&(g+=" Secure "),g},i.prototype.clearCookie=function(r,o){r===void 0&&(r=""),o===void 0&&(o="/");var a=new Date(0),f=tr+"="+zi;f+=";path="+o,f+=";expires="+a.toUTCString(),r&&(f+=";domain="+r+";"),f+=";samesite=None;",this._outerWindow.location.protocol==="https:"&&(f+=" Secure "),this._outerDocument.cookie=f},i}();function $c(i){var r=new Tc;return new Dc(i,r)}function Al(i){return i?i.toLowerCase().trim().replace(/\s/g,""):""}function oo(i,r){return[i,r].filter(o=>!!o).map(o=>Al(o)).join("_")}class Fc{constructor(r,o,a,f=[]){it(this,"_optedIn"),it(this,"_conversionTrackingEnabled",!1),it(this,"_cookieManager"),it(this,"_analyticsReporter"),it(this,"_pageViewFired",!1),it(this,"_enableDebugging",!1),this.templateData=r,this.pageDomain=a,this.productionDomains=f,this._optedIn=!o,this.makeReporter(),this.pageView()}calculatePageType(){var r,o,a,f;const g=!!((o=(r=this.templateData.document)==null?void 0:r.__)!=null&&o.staticPage),m=!!((f=(a=this.templateData.document)==null?void 0:a.__)!=null&&f.entityPageSet);let v;if(g)v={name:"static",staticPageId:this.templateData.document.__.name};else if(m)v={name:"entity",pageSetId:this.templateData.document.__.name,id:this.templateData.document.uid};else throw new Error("invalid document type");return v}makeReporter(){if(cn().name!=="browser"||!this._optedIn)return;const r=Nc(...this.productionDomains);this._analyticsReporter=$c({businessId:this.templateData.document.businessId,pageType:this.calculatePageType(),pageUrl:window.location.href,production:r,referrer:document.referrer,siteId:this.templateData.document.siteId,pageDomain:this.pageDomain}),this.setDebugEnabled(this._enableDebugging)}canTrack(){return cn().name==="browser"&&this._optedIn&&!!this._analyticsReporter}setupConversionTracking(){var r;this._cookieManager=new Lc,(r=this._analyticsReporter)==null||r.setConversionTrackingEnabled(!0,this._cookieManager.setAndGetYextCookie())}enableTrackingCookie(){this._conversionTrackingEnabled=!0,this.canTrack()&&this.setupConversionTracking()}identify(r){var o;this.canTrack()&&((o=this._analyticsReporter)==null||o.setVisitor(r))}async optIn(){this._optedIn=!0,this.makeReporter(),this._conversionTrackingEnabled&&!this._cookieManager&&this.setupConversionTracking(),this._pageViewFired||await this.pageView()}async pageView(){var r;if(!this.canTrack())return Promise.resolve(void 0);await((r=this._analyticsReporter)==null?void 0:r.pageView()),this._pageViewFired=!0}async track(r,o){var a;if(!this.canTrack())return Promise.resolve();await((a=this._analyticsReporter)==null?void 0:a.track({eventType:Al(r)},o))}getDebugEnabled(){return this._enableDebugging}setDebugEnabled(r){var o;this._enableDebugging=r,(o=this._analyticsReporter)==null||o.setDebugEnabled(r)}trackClick(r,o){return a=>{if(!this.canTrack())return Promise.resolve();if(a.target===null||a.defaultPrevented)return this.track(r,o);const f=a.target;if(f.href===null||f.href===void 0)return this.track(r,o);const g=new URL(f.href);if(g.protocol==="mailto:"||g.protocol==="tel:"||g.protocol==="javascript:"||g.hostname===window.location.hostname)return this.track(r,o);if(f.target&&!f.target.match(/^_(self|parent|top)$/i)||a.ctrlKey||a.shiftKey||a.metaKey)return this.track(r,o);a.preventDefault();const m=()=>{window.location.assign(g)},v=new Promise(x=>{setTimeout(()=>{x()},1e3)});return Promise.race([this.track(r,o),v]).then(m).catch(m)}}}const Rl=Oe.createContext(null),so=Oe.createContext({name:""}),Ml=()=>Oe.useContext(so).name;function Tg(i){var r;const o=Ml(),[a]=Oe.useState({name:oo(o,i.name)});return(r=kl())!=null&&r.getDebugEnabled()?Ae.jsx("section",{"data-ya-scope":a.name,children:Ae.jsx(so.Provider,{value:a,children:i.children})}):Ae.jsx(so.Provider,{value:a,children:i.children})}function kl(){const i=Oe.useContext(Rl);if(!i)return i;cn().name==="browser"&&!window.setAnalyticsOptIn&&(window.setAnalyticsOptIn=async()=>{await i.optIn()});const r=Ml();return{trackClick(o,a){return i.trackClick(oo(r,o),a)},getDebugEnabled(){return i.getDebugEnabled()},setDebugEnabled(o){return i.setDebugEnabled(o)},enableTrackingCookie(){return i.enableTrackingCookie()},identify(o){return i.identify(o)},optIn(){return i.optIn()},pageView(){return i.pageView()},track(o,a){return i.track(oo(r,o),a)}}}const Bc=Oe.lazy(()=>Vu(()=>import("./debugger-2f_RQEzl-BnImUzHp.js"),__vite__mapDeps([0,1,2,3,4])));function wg(i){var r;const{children:o,requireOptIn:a,enableTrackingCookie:f,enableDebugging:g,templateData:m,pageDomain:v,productionDomains:x}=i,b=Oe.useRef(null);b.current===null&&(b.current=new Fc(m,a,v,x));const N=b.current;f&&N.enableTrackingCookie();let O=Hc();return cn().name==="node"&&(O=O||((r=bl)==null?void 0:r.NODE_ENV)==="development"),N.setDebugEnabled(g??O),Ae.jsxs(Ae.Fragment,{children:[Ae.jsx(Rl.Provider,{value:N,children:o}),(g??O)&&cn().name==="browser"?Ae.jsx(Oe.Suspense,{fallback:Ae.jsx(Ae.Fragment,{}),children:Ae.jsx(Bc,{})}):null]})}function Hc(){return cn().name!=="browser"||typeof window===void 0?!1:!!new URL(window.location.href).searchParams.get("xYextDebug")}const ln={INTRINSIC:"intrinsic",FIXED:"fixed",ASPECT:"aspect",FILL:"fill"},Fr=/(https?:\/\/a.mktgcdn.com\/p(?<env>-sandbox|-qa|-dev)?\/)(?<uuid>.+)\/.*?(\.(?<ext>.+))?$/,or=/(https?:\/\/a.eu.mktgcdn.com\/f(?<env>-qa)?\/(?<businessId>[0-9]+)\/)(?<uuid>.+)\.(?<ext>.+)/,xg=({image:i,className:r,width:o,height:a,aspectRatio:f,layout:g=ln.INTRINSIC,placeholder:m,imgOverrides:v,style:x={},loading:b="lazy"})=>{const N=Oe.useRef(null),[O,S]=Oe.useState(!1),D="image"in i?i.image:i;Oe.useEffect(()=>{var B;(B=N.current)!=null&&B.complete&&S(!0)},[]),Uc(g,D.width,D.height,o,a,f);const p=Math.abs(D.width);p||console.warn("Invalid image width.");const _=Math.abs(D.height);_||console.warn("Invalid image height.");const C=zc(D.url);if(!C)return Ae.jsx(Ae.Fragment,{children:m!=null&&m});const A=o&&o>0?o:void 0,y=a&&a>0?a:void 0,{src:w,imgStyle:k,widths:I}=Gc(g,p,_,C,x,D.url,A,y,f),z=I.map(B=>`${ao(C,B,_/p*B,D.url)} ${B}w`).join(", "),q=[640,768,1024,1280,1536],X=I.map((B,R)=>R===I.length-1?`${B}px`:`(max-width: ${q[R]}px) ${B}px`).join(", ");return Ae.jsxs(Ae.Fragment,{children:[!O&&m!=null&&m,Ae.jsx("img",{ref:N,style:k,src:w,className:r,width:A,height:y,srcSet:z,sizes:X,loading:b,alt:D.alternateText||"",...v})]})},Uc=(i,r,o,a,f,g)=>{if(r<0&&console.warn(`Invalid image width: ${r}.`),o<0&&console.warn(`Invalid image height: ${o}.`),i===ln.FIXED){if(!a&&!f){console.warn("Using fixed layout but neither width nor height is passed as props.");return}a&&a<0&&console.warn(`Using fixed layout but width is invalid: ${a}.`),f&&f<0&&console.warn(`Using fixed layout but height is invalid: ${f}.`);return}(a||f)&&console.warn("Width or height is passed in but layout is not fixed. These will have no impact. If you want to have a fixed height or width then set layout to fixed."),i===ln.ASPECT&&!g&&console.warn("Using aspect layout but aspectRatio is not passed as a prop.")},zc=i=>{var r,o;const a=i.match(Fr);if((r=a==null?void 0:a.groups)!=null&&r.uuid)return a.groups.uuid;const f=i.match(or);return(o=f==null?void 0:f.groups)!=null&&o.uuid?f.groups.uuid:(console.error(`Invalid image url: ${i}.`),"")},Kc=i=>{var r,o;const a=i.match(Fr);if((r=a==null?void 0:a.groups)!=null&&r.uuid)return a.groups.env;const f=i.match(or);return(o=f==null?void 0:f.groups)!=null&&o.uuid?f.groups.env:(console.error(`Invalid image url: ${i}.`),"")},jc=i=>{var r,o;const a=i.match(Fr);if((r=a==null?void 0:a.groups)!=null&&r.uuid)return"US";const f=i.match(or);return(o=f==null?void 0:f.groups)!=null&&o.uuid?"EU":(console.error(`Invalid image url: ${i}.`),"")},Wc=i=>{var r;const o=i.match(or);return(r=o==null?void 0:o.groups)!=null&&r.businessId?o.groups.businessId:(console.error(`Invalid image url: ${i}.`),"")},Yc=i=>{var r,o,a,f;const g=i.match(Fr);if((r=g==null?void 0:g.groups)!=null&&r.uuid)return((o=g==null?void 0:g.groups)==null?void 0:o.ext)??"";const m=i.match(or);return(a=m==null?void 0:m.groups)!=null&&a.uuid?((f=m==null?void 0:m.groups)==null?void 0:f.ext)??"":(console.error(`Invalid image url: ${i}.`),"")},ao=(i,r,o,a)=>{const f=Kc(a),g=jc(a);let m;const v=Yc(a);switch(g){case"EU":m=f?`f${f}`:"f";const x=Wc(a);return`https://dyn.eu.mktgcdn.com/${m}/${x}/${i}.${v}/width=${Math.round(r)},height=${Math.round(o)}`;case"US":default:return m=f?`p${f}`:"p",`https://dynl.mktgcdn.com/${m}/${i}/${Math.round(r)}x${Math.round(o)}${v?`.${v}`:""}`}},Gc=(i,r,o,a,f,g,m,v,x)=>{let b=[100,320,640,960,1280,1920],N=ao(a,500,500,g);const O={...f};switch(O.objectFit=O.objectFit||"cover",O.objectPosition=O.objectPosition||"center",i){case ln.INTRINSIC:O.maxWidth=r,O.width="100%",O.aspectRatio=x?`${x}`:`${r} / ${o}`;break;case ln.FIXED:{const{fixedWidth:S,fixedHeight:D,fixedWidths:p}=Zc(r,o,b,m,v);O.width=S,O.height=D,b=p,N=ao(a,S,D,g);break}case ln.ASPECT:O.aspectRatio=x?`${x}`:`${r} / ${o}`;break;case ln.FILL:O.width="100%",O.aspectRatio=x?`${x}`:`${r} / ${o}`;break;default:console.warn(`Unrecognized layout: ${i}.`);break}return{src:N,imgStyle:O,widths:b}},Zc=(i,r,o,a,f)=>a&&f?{fixedWidth:a,fixedHeight:f,fixedWidths:[a]}:a?{fixedWidth:a,fixedHeight:a*r/i,fixedWidths:[a]}:f?{fixedWidth:f/r*i,fixedHeight:f,fixedWidths:[f/r*i]}:{fixedWidth:i,fixedHeight:r,fixedWidths:o};var Pl={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(i){(function(){var r={}.hasOwnProperty;function o(){for(var a=[],f=0;f<arguments.length;f++){var g=arguments[f];if(g){var m=typeof g;if(m==="string"||m==="number")a.push(g);else if(Array.isArray(g)){if(g.length){var v=o.apply(null,g);v&&a.push(v)}}else if(m==="object"){if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]")){a.push(g.toString());continue}for(var x in g)r.call(g,x)&&g[x]&&a.push(x)}}}return a.join(" ")}i.exports?(o.default=o,i.exports=o):window.classNames=o})()})(Pl);var Vc=Pl.exports;const Il=Tl(Vc),Jc=i=>i.linkType==="Email"||!i.linkType&&Dl(i.link)?`mailto:${i.link}`:i.linkType==="Phone"?`tel:${i.link}`:i.link,Dl=i=>/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(i),Qc=i=>{let r="";for(let o=i.length-1;o>=0;r+=i[o--]);return r},qc=i=>"href"in i,Xc=gt.forwardRef(function(i,r){const o=qc(i)?{link:i.href}:i.cta,{children:a,onClick:f,className:g,eventName:m,cta:v,...x}=i,b=m||(v?"cta":"link"),N=kl(),O=i.obfuscate||i.obfuscate!==!1&&Dl(o.link),[S,D]=Oe.useState(!1),p=async w=>{if(D(!0),N!==null)try{await N.trackClick(b,i.conversionDetails)(w)}catch{console.error("Failed to report click Analytics Event")}f&&f(w)},_=!a&&!o.label,C=!S&&O,A={...i.style,unicodeBidi:"bidi-override",direction:_&&C?"rtl":"ltr"},y=C?Qc(o.link):o.link;return Ae.jsx("a",{className:Il("Link",g),href:S||!O?Jc(o):"obfuscate",onClick:p,rel:i.target&&!i.rel?"noopener":void 0,ref:r,style:A,"data-ya-track":b,...x,children:a||o.label||y})}),Pe=Object.freeze({DEGREE:Symbol("deg"),KILOMETER:Symbol("km"),MILE:Symbol("mi"),RADIAN:Symbol("r")}),Rt=Object.freeze({MERCATOR:Symbol("mercator"),SPHERICAL:Symbol("spherical")}),Wi=3959,Yi=6371,ed=["latitude","lat"],td=["longitude","lon","lng","long"];function Vs(i,r){for(const o of r)if(i[o]||i[o]===0)return i[o]}function Js(i){switch(typeof i){case"string":case"number":const r=Number.parseFloat(i);if(Number.isNaN(r))throw new Error(`'${i}' must be convertible to a Number'`);return r;default:throw new Error(`typeof '${i}' must be a number or a string that can be converted to a number, is '${typeof i}'`)}}function un(i){return i*Math.PI/180}function $t(i){return i/Math.PI*180}function nd(i,r){const o=un(i.latitude),a=un(r.latitude),f=a-o,g=un(r.longitude-i.longitude),m=Math.pow(Math.sin(f/2),2)+Math.cos(o)*Math.cos(a)*Math.pow(Math.sin(g/2),2);return 2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m))}function rd(i,r){const o=Math.tan(Math.PI/360*(i+90)),a=Math.tan(Math.PI/360*(r+90));return Math.log(a/o)}function id(i,r){const o=Math.tan(Math.PI/360*(i+90))*Math.pow(Math.E,r);return Math.atan(o)*360/Math.PI-90}class ke{constructor(r,o){let a=r;typeof r=="object"&&(a=Vs(r,ed),o=Vs(r,td),a=typeof a=="function"?a():a,o=typeof o=="function"?o():o),this.latitude=a,this.longitude=o}get latitude(){return this._lat}get longitude(){return this._lon}get normalLon(){return((this._lon+180)%360+360)%360-180}set latitude(r){this._lat=Math.max(-90,Math.min(Js(r),90))}set longitude(r){this._lon=Js(r)}add(r,o,a=Pe.DEGREE,f=Rt.SPHERICAL){if(f===Rt.MERCATOR&&(a===Pe.DEGREE||a===Pe.RADIAN)){const g=a===Pe.DEGREE?un(r):r,m=a===Pe.DEGREE?o:$t(o);this.latitude=id(this.latitude,g),this.longitude+=m}else switch(a){case Pe.DEGREE:this.latitude+=r,this.longitude+=o;break;case Pe.KILOMETER:this.latitude+=$t(r)*Yi,this.longitude+=$t(o)*Yi*Math.cos(un(this.latitude));break;case Pe.MILE:this.latitude+=$t(r)*Wi,this.longitude+=$t(o)*Wi*Math.cos(un(this.latitude));break;case Pe.RADIAN:this.latitude+=$t(r),this.longitude+=$t(o);break;default:throw new Error(`unit unhandled: ${a}`)}}distanceTo(r,o=Pe.MILE,a=Rt.SPHERICAL){if(a===Rt.MERCATOR&&(o===Pe.DEGREE||o===Pe.RADIAN)){const f=rd(this.latitude,r.latitude),g=Math.abs(r.normalLon-this.normalLon),m=un(Math.min(g,360-g)),v=Math.sqrt(Math.pow(f,2)+Math.pow(m,2));switch(o){case Pe.DEGREE:return $t(v);case Pe.RADIAN:return v;default:throw new Error(`unit unhandled: ${o}`)}}else{const f=nd(this,r);switch(o){case Pe.DEGREE:return $t(f);case Pe.KILOMETER:return f*Yi;case Pe.MILE:return f*Wi;case Pe.RADIAN:return f;default:throw new Error(`unit unhandled: ${o}`)}}}equals(r){return r&&r.latitude===this.latitude&&r.longitude===this.longitude}searchQueryString(){return`${this.latitude},${this.longitude}`}}function Ll(i,r=()=>null){const o=document.createElement("script");o.async=!0,o.onload=r,o.src=i,document.head.appendChild(o)}const tt={UNDEFINED:"undefined",NULL:"object",BOOLEAN:"boolean",NUMBER:"number",BIGINT:"bigint",STRING:"string",SYMBOL:"symbol",FUNCTION:"function",OBJECT:"object"};function ot(i,r){if(typeof r!="string")throw new Error("Assertion error: 'type' must be a string");if(typeof i!==r)throw new Error(`Expected an object of type '${r}' but received '${typeof i}'`)}function nt(i,r){let o;try{o=i instanceof r}catch{throw new Error("Assertion error: 'instanceClass' is not a valid constructor")}if(!o)throw new Error(`Expected an instance of '${r.name}' but received '${i.constructor.name}'`)}class $l{constructor(r,o){nt(r,hn),nt(o,HTMLElement),this.providerMapClass=r.getMapClass(),this.wrapper=o,this.controlEnabled=!0,this.panHandler=()=>null,this.panStartHandler=()=>null,this.providerOptions={}}withControlEnabled(r){return this.controlEnabled=r,this}withPanHandler(r){return ot(r,tt.FUNCTION),this.panHandler=r,this}withPanStartHandler(r){return ot(r,tt.FUNCTION),this.panStartHandler=r,this}withProviderOptions(r){return this.providerOptions=r,this}build(){const r=this.providerMapClass;return new r(this)}}class Sn{constructor(r){nt(r,$l),this._panHandler=r.panHandler,this._panStartHandler=r.panStartHandler}getCenter(){throw new Error("not implemented")}getZoom(){throw new Error("not implemented")}setCenter(r,o){throw new Error("not implemented")}setZoom(r,o){throw new Error("not implemented")}setZoomCenter(r,o,a){this.setZoom(r,a),this.setCenter(o,a)}}class Fl{constructor(r){nt(r,hn),this.providerPinClass=r.getPinClass(),this.clickHandler=()=>null,this.focusHandler=o=>null,this.hoverHandler=o=>null,this.icons={}}withClickHandler(r){return ot(r,tt.FUNCTION),this.clickHandler=r,this}withFocusHandler(r){return ot(r,tt.FUNCTION),this.focusHandler=r,this}withHoverHandler(r){return ot(r,tt.FUNCTION),this.hoverHandler=r,this}withIcons(r){return this.icons=r,this}build(){const r=this.providerPinClass;return new r(this)}}class po{constructor(r){nt(r,Fl),this._clickHandler=r.clickHandler,this._focusHandler=r.focusHandler,this._hoverHandler=r.hoverHandler,this._icons=r.icons}setCoordinate(r){throw new Error("not implemented")}setMap(r,o){throw new Error("not implemented")}setProperties(r){throw new Error("not implemented")}}const od=Object.freeze({backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",left:"0",outline:"none",pointerEvents:"auto",position:"absolute",top:"0"});class Br extends po{static get baseStyle(){return od}constructor(r){super(r),this._pinEl=document.createElement("button"),Object.assign(this._pinEl.style,this.constructor.baseStyle),this._pinAlt=document.createElement("span"),this._pinAlt.classList.add("sr-only"),this._pinEl.appendChild(this._pinAlt),this._wrapper=document.createElement("div"),this._wrapper.style.pointerEvents="none",this._wrapper.appendChild(this._pinEl),this.addListeners()}addListeners(){this._wrapper.addEventListener("click",()=>this._clickHandler()),this._wrapper.addEventListener("focusin",()=>this._focusHandler(!0)),this._wrapper.addEventListener("focusout",()=>this._focusHandler(!1)),this._wrapper.addEventListener("mouseover",()=>this._hoverHandler(!0)),this._wrapper.addEventListener("mouseout",()=>this._hoverHandler(!1))}getPinElement(){return this._pinEl}getWrapperElement(){return this._wrapper}setProperties(r){this.setElementProperties(r);const o=r.getClass(),a=r.getElement()||this._pinEl,f=r.getZIndex();a.style.pointerEvents="auto",this._wrapper&&(this._wrapper.style.zIndex=f,this._wrapper.setAttribute("class",o),a!==this._wrapper.children[0]&&(this._wrapper.children[0].style.pointerEvents="",this._wrapper.removeChild(this._wrapper.children[0]),this._wrapper.appendChild(a)))}setElementProperties(r){const o=r.getAnchorX(),a=r.getAnchorY(),f=r.getHeight(),g=this._icons[r.getIcon()],m=r.getSRText(),v=r.getWidth();Object.assign(this._pinEl.style,{backgroundImage:g?`url("${g}")`:"",height:f+"px",transform:`translate(${-100*o}%, ${-100*a}%)`,width:v+"px"}),this._pinAlt.innerText=m}}class dn{constructor(){this.loadFunction=(r,o,a,f)=>r(),this.mapClass=Sn,this.pinClass=po,this.providerName=""}withLoadFunction(r){return ot(r,tt.FUNCTION),this.loadFunction=r,this}withMapClass(r){return this.mapClass=r,this}withPinClass(r){return this.pinClass=r,this}withProviderName(r){return this.providerName=r,this}build(){return new hn(this)}}class hn{constructor(r){nt(r,dn),this._loadFunction=r.loadFunction,this._mapClass=r.mapClass,this._pinClass=r.pinClass,this._providerName=r.providerName,this._loadPromise=new Promise((o,a)=>{this._resolveLoad=o,this._rejectLoad=a}),this._apiKey="",this._loadInvoked=!1,this._loaded=!1,this._options={}}get loaded(){return this._loaded}getMapClass(){return this._mapClass}getPinClass(){return this._pinClass}getProviderName(){return this._providerName}async load(r=this._apiKey,o=this._options){this._loadInvoked||(this._loadInvoked=!0,this._loadFunction(this._resolveLoad,this._rejectLoad,r,o)),await this.ready(),this._loaded=!0}async ready(){await this._loadPromise}setLoadOptions(r,o=null){this._loadInvoked||(this._apiKey=r,this._options=o||this._options)}}const Qs={GEOCODER:"geocoder",PLACES:"places"};class sd extends Sn{constructor(r){super(r),this.map=new google.maps.Map(r.wrapper,{disableDefaultUI:!r.controlEnabled,fullscreenControl:!1,gestureHandling:r.controlEnabled?"auto":"none",mapTypeControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!1,zoomControl:r.controlEnabled,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},...r.providerOptions}),this._moving=!1,google.maps.event.addListener(this.map,"bounds_changed",()=>{this._moving||(this._moving=!0,this._panStartHandler())}),google.maps.event.addListener(this.map,"idle",()=>{this._moving=!1,this._panHandler()})}getCenter(){return new ke(this.map.getCenter())}getZoom(){return this.map.getZoom()}setCenter(r,o){const a=new google.maps.LatLng(r.latitude,r.longitude);o?this.map.panTo(a):this.map.setCenter(a)}setZoom(r,o){this.map.setZoom(Math.floor(r))}setZoomCenter(r,o,a){this.setCenter(o,a),this.setZoom(r,a)}}class ad extends Br{constructor(r){super(r),this._wrapper.style.position="absolute",google.maps.OverlayView.preventMapHitsAndGesturesFrom(this._wrapper);const o=this;class a extends google.maps.OverlayView{draw(){var g;const m=(g=this.getProjection())==null?void 0:g.fromLatLngToDivPixel(o._latLng);m&&(o._wrapper.style.left=m.x+"px",o._wrapper.style.top=m.y+"px")}onAdd(){this.getPanes().floatPane.appendChild(o._wrapper)}onRemove(){var g;(g=o._wrapper.parentNode)==null||g.removeChild(o._wrapper)}}this.pin=new a}setCoordinate(r){this._latLng=new google.maps.LatLng(r.latitude,r.longitude),this.pin.draw()}setMap(r,o){this.pin.setMap(r?r.getProviderMap().map:null)}}const qs="GoogleMapsCallback_b7d77ff2",ld="https://maps.googleapis.com/maps/api/js";function ud(i,r,o,{autocomplete:a=!1,channel:f=window.location.hostname,client:g,language:m,region:v,libraries:x=[],params:b={}}={}){window[qs]=i,a&&x.push(Qs.GEOCODER,Qs.PLACES);const N={callback:qs,channel:f,libraries:x.join(","),...b};o&&(N.key=o),g&&(N.client=g),m&&(N.language=m),v&&(N.region=v),Ll(ld+"?"+Object.entries(N).map(([O,S])=>O+"="+S).join("&"))}const Bl=new dn().withLoadFunction(ud).withMapClass(sd).withPinClass(ad).withProviderName("Google").build();class bn{static fit(r){const o=r.map(b=>b.latitude),a=Math.max(...o),f=Math.min(...o),g=r.map(b=>b.normalLon).sort((b,N)=>b-N),m=g.map((b,N)=>({distance:(N<g.length-1?g[N+1]:g[0]+360)-b,index:N})).reduce((b,N)=>N.distance>b.distance?N:b).index,v=g[m],x=g[(m+1)%g.length];return new this(new ke(f,x),new ke(a,v))}constructor(r,o){this._ne=new ke(o),this._sw=new ke(r)}get ne(){return this._ne}get sw(){return this._sw}set ne(r){this._ne=new ke(r)}set sw(r){this._sw=new ke(r)}contains(r){const o=this._sw.latitude<=r.latitude&&r.latitude<=this._ne.latitude,a=this._ne.longitude-this._sw.longitude>=360,f=this._sw.normalLon<=this._ne.normalLon?this._sw.normalLon<=r.normalLon&&r.normalLon<=this._ne.normalLon:this._sw.normalLon<=r.normalLon||r.normalLon<=this._ne.normalLon;return o&&(a||f)}extend(r){if(this._ne.latitude=Math.max(this._ne.latitude,r.latitude),this._sw.latitude=Math.min(this._sw.latitude,r.latitude),!this.contains(r)){const o=((r.longitude-this._ne.longitude)%360+360)%360,a=((this._sw.longitude-r.longitude)%360+360)%360;o<a?this._ne.longitude+=o:this._sw.longitude-=a}}getCenter(r=Rt.SPHERICAL){const o=new ke(this._ne.latitude,this._sw.longitude),a=this._sw.distanceTo(o,Pe.DEGREE,r),f=(o.longitude+this._ne.longitude)/2+(this._ne.longitude<o.longitude?180:0);return o.add(-a/2,0,Pe.DEGREE,r),o.longitude=f,o}}class cd{constructor(){this._anchorX=.5,this._anchorY=1,this._height=39,this._icon="default",this._srText="map pin",this._width=33,this._zIndex=0,this._class="",this._element=null}getAnchorX(){return this._anchorX}getAnchorY(){return this._anchorY}getClass(){return this._class}getElement(){return this._element}getHeight(){return this._height}getIcon(){return this._icon}getSRText(){return this._srText}getWidth(){return this._width}getZIndex(){return this._zIndex}setAnchorX(r){return this._anchorX=r,this}setAnchorY(r){return this._anchorY=r,this}setClass(r){return this._class=r,this}setElement(r){return this._element=r,this}setHeight(r){return this._height=r,this}setIcon(r){return this._icon=r,this}setSRText(r){return this._srText=r,this}setWidth(r){return this._width=r,this}setZIndex(r){return this._zIndex=r,this}}class _o{constructor(){this.coordinate=new ke(0,0),this.hideOffscreen=!1,this.icons={},this.propertiesForStatus=r=>new cd,this.provider=null,this.type=""}withCoordinate(r){return this.coordinate=new ke(r),this}withHideOffscreen(r){return this.hideOffscreen=r,this}withIcon(r,o){return this.icons[r]=o,this}withPropertiesForStatus(r){return ot(r,tt.FUNCTION),this.propertiesForStatus=r,this}withProvider(r){return nt(r,hn),this.provider=r,this}withType(r){return this.type=r,this}build(){return new dd(this)}}class dd{constructor(r){if(nt(r,_o),nt(r.provider,hn),!r.provider.loaded)throw new Error(`MapProvider '${r.provider.getProviderName()}' is not loaded. The MapProvider must be loaded before calling MapPin constructor.`);this._coordinate=r.coordinate,this._hideOffscreen=r.hideOffscreen,this._icons={...r.icons},this._propertiesForStatus=r.propertiesForStatus,this._type=r.type,this._clickHandler=()=>null,this._focusHandler=o=>this._hoverHandler(o),this._hoverHandler=o=>null,this._hidden=!1,this._cancelHiddenUpdater=()=>null,this._map=null,this._pin=new Fl(r.provider).withIcons({...this._icons}).withClickHandler(()=>this._clickHandler()).withFocusHandler(o=>this._focusHandler(o)).withHoverHandler(o=>this._hoverHandler(o)).build(),this._pin.setCoordinate(r.coordinate),this._status={},this.setStatus(this._status)}getCoordinate(){return this._coordinate}getIcon(r){return this._icons[r]}getMap(){return this._map}getProviderPin(){return this._pin}getType(){return this._type}remove(){this.setMap(null)}setClickHandler(r){ot(r,tt.FUNCTION),this._clickHandler=r}setCoordinate(r){this._coordinate=new ke(r),this._pin.setCoordinate(this._coordinate),this._hideOffscreen&&this._hideIfOffscreen()}setFocusHandler(r){ot(r,tt.FUNCTION),this._focusHandler=r}setHoverHandler(r){ot(r,tt.FUNCTION),this._hoverHandler=r}setMap(r){if(r!==this._map&&(r!==null&&nt(r,Ul),this._pin.setMap(r,this._hidden?null:this._map),this._map=r,this._hidden=!1,this._cancelHiddenUpdater(),r&&this._hideOffscreen)){let o=!1;const a=new Promise(f=>{this._cancelHiddenUpdater=()=>{o=!0,f()}});(async()=>{for(;!o;)this._hideIfOffscreen(),await Promise.race([a,r.moving()]),await Promise.race([a,r.idle()])})()}}setStatus(r){Object.assign(this._status,r),this._pin.setProperties(this._propertiesForStatus(this._status))}_hideIfOffscreen(){if(this._map){const r=this._map.getBounds().contains(this._coordinate);this._hidden&&r?this._pin.setMap(this._map,null):!this._hidden&&!r&&this._pin.setMap(null,this._map),this._hidden=!r}}}const Zt=.98;function Ir(i,r){return Math.max(typeof i==tt.FUNCTION?i():i||0,0)/r}class Hl{constructor(){this.controlEnabled=!0,this.defaultCenter=new ke(39.83,-98.58),this.defaultZoom=4,this.legendPins=[],this.padding={bottom:()=>50,left:()=>50,right:()=>50,top:()=>50},this.panHandler=(r,o)=>null,this.panStartHandler=r=>null,this.provider=null,this.providerOptions={},this.singlePinZoom=14,this.wrapper=null}withControlEnabled(r){return this.controlEnabled=r,this}withDefaultCenter(r){return this.defaultCenter=new ke(r),this}withDefaultZoom(r){return this.defaultZoom=r,this}withLegendPins(r){return this.legendPins=Array.from(r),this}withPadding(r){return this.padding=r,this}withPanHandler(r){return ot(r,tt.FUNCTION),this.panHandler=r,this}withPanStartHandler(r){return ot(r,tt.FUNCTION),this.panStartHandler=r,this}withProvider(r){return nt(r,hn),this.provider=r,this}withProviderOptions(r){return this.providerOptions=r,this}withSinglePinZoom(r){return this.singlePinZoom=r,this}withWrapper(r){return nt(r,HTMLElement),this.wrapper=r,this}build(){return new Ul(this)}}let Ul=class{constructor(i){if(nt(i,Hl),nt(i.provider,hn),nt(i.wrapper,HTMLElement),!i.provider.loaded)throw new Error(`MapProvider '${i.provider.getProviderName()}' is not loaded. The MapProvider must be loaded before calling Map constructor.`);for(this._defaultCenter=i.defaultCenter,this._defaultZoom=i.defaultZoom,this._legendPins=i.legendPins,this._provider=i.provider,this._singlePinZoom=i.singlePinZoom,this._wrapper=i.wrapper,this._padding={},this.setPadding(i.padding),this._cachedBounds=null,this._resolveIdle=()=>null,this._resolveMoving=()=>null,this._idlePromise=Promise.resolve(),this._setIdle(),this.setPanHandler(i.panHandler),this.setPanStartHandler(i.panStartHandler);this._wrapper.firstChild;)this._wrapper.removeChild(this._wrapper.lastChild);this._panHandlerRunning=!1,this._panStartHandlerRunning=!1,this._map=new $l(i.provider,this._wrapper).withControlEnabled(i.controlEnabled).withPanHandler(()=>this.panHandler()).withPanStartHandler(()=>this.panStartHandler()).withProviderOptions(i.providerOptions).build(),this.setZoomCenter(this._defaultZoom,this._defaultCenter),this._currentBounds=this.getBounds()}fitCoordinates(i,r=!1,o=this._singlePinZoom){i.length?this.setBounds(bn.fit(i),r,this._padding,o):this.setZoomCenter(this._defaultZoom,this._defaultCenter,r)}getBounds(){if(!this._cachedBounds){const i=this._wrapper.offsetHeight,r=this._wrapper.offsetWidth,o=this.getZoom(),a=this.getCenter(),f=360/Math.pow(2,o+8),g=r*f,m=i*f;this._cachedBounds=new bn(a,a),this._cachedBounds.ne.add(m/2,g/2,Pe.DEGREE,Rt.MERCATOR),this._cachedBounds.sw.add(-m/2,-g/2,Pe.DEGREE,Rt.MERCATOR),this.moving().then(()=>this._cachedBounds=null)}return new bn(this._cachedBounds.sw,this._cachedBounds.ne)}getCenter(){return this._map.getCenter()}getProviderMap(){return this._map}getZoom(){return this._map.getZoom()}async idle(){await this._idlePromise}async moving(){await this._movingPromise}newPinOptions(){return new _o().withProvider(this._provider)}panHandler(){this._panHandlerRunning||(this._panHandlerRunning=!0,requestAnimationFrame(()=>{const i=this._currentBounds;this._currentBounds=this.getBounds(),this._panHandler(i,new bn(new ke(this._currentBounds.sw),new ke(this._currentBounds.ne))),this._panHandlerRunning=!1}),this._setIdle())}panStartHandler(){this._panStartHandlerRunning||(this._panStartHandlerRunning=!0,requestAnimationFrame(()=>{this._panStartHandler(new bn(new ke(this._currentBounds.sw),new ke(this._currentBounds.ne))),this._panStartHandlerRunning=!1}),this._setMoving())}setBounds({ne:i,sw:r},o=!1,a={},f=1/0){const g=this._wrapper.offsetHeight,m=this._wrapper.offsetWidth;if(!g||!m)return;let v=Ir(a.bottom,g),x=Ir(a.left,m),b=Ir(a.right,m),N=Ir(a.top,g),O=x+b,S=v+N;O>Zt&&(x*=Zt/O,b*=Zt/O,O=Zt),S>Zt&&(v*=Zt/S,N*=Zt/S,S=Zt);const D=g*(1-S),p=m*(1-O),_=new bn(r,i),C=new ke(_.ne.latitude,_.sw.longitude),A=_.sw.distanceTo(C,Pe.DEGREE,Rt.MERCATOR),y=(_.ne.longitude-C.longitude+360)%360;let w=Math.max(A,y*D/p)/(1-S),k=Math.max(y,A*p/D)/(1-O),I=Math.log2(m*360/k)-8;I>f&&(I=f,k=m*360/2**(I+8),w=k*g/m);const z=_.getCenter(Rt.MERCATOR),q=(N-v)/2*w,X=(b-x)/2*k;z.add(q,X,Pe.DEGREE,Rt.MERCATOR),this.setZoomCenter(I,z,o)}setCenter(i,r=!1){this._map.setCenter(new ke(i),r)}setPadding({bottom:i=this._padding.bottom,left:r=this._padding.left,right:o=this._padding.right,top:a=this._padding.top}){return this._padding={bottom:i,left:r,right:o,top:a},this}setPanHandler(i){ot(i,tt.FUNCTION),this._panHandler=i}setPanStartHandler(i){ot(i,tt.FUNCTION),this._panStartHandler=i}setZoom(i,r=!1){this._map.setZoom(i,r)}setZoomCenter(i,r,o=!1){this._map.setZoomCenter(i,r,o)}_setIdle(){this._resolveMoving(),this._movingPromise=new Promise(i=>this._resolveMoving=i),this._resolveIdle()}_setMoving(){this._resolveIdle(),this._idlePromise=new Promise(i=>this._resolveIdle=i),this._resolveMoving()}};const mo=Oe.createContext(null);function Sg(){const i=Oe.useContext(mo);if(!i||i.map===void 0)throw new Error("Attempted to call useMapContext() outside of <Map>.");return i.map}const zl=({apiKey:i,bounds:r,children:o,className:a,clientKey:f,controls:g,defaultCenter:m,defaultZoom:v,mapRef:x,padding:b,panStartHandler:N,panHandler:O,provider:S,providerOptions:D={},singleZoom:p})=>{const _=Oe.useRef(null),[C,A]=Oe.useState(m),[y,w]=Oe.useState(!1),[k,I]=Oe.useState(),[z,q]=Oe.useState(v),X=(B,R)=>{O(B,R),A(R.getCenter())};return Oe.useEffect(()=>{!y||!k||q(k.getZoom())},[C]),Oe.useEffect(()=>{if(!r||!y||!k)return;const B=r.map(R=>new ke(R));k.fitCoordinates(B)},[JSON.stringify(r),k]),Oe.useEffect(()=>{if(!y||k)return;const B=new Hl().withControlEnabled(g).withDefaultCenter(C).withDefaultZoom(z).withPadding(b).withPanHandler(X).withPanStartHandler(N).withProvider(S).withProviderOptions(D).withSinglePinZoom(p).withWrapper(_.current).build();I(B),x&&(x.current=B)},[y]),Oe.useEffect(()=>{y||k||!_.current||S.load(i,{...D,...f&&{client:f}}).then(()=>w(!0))},[]),Ae.jsx("div",{className:Il({"is-loaded":y},a),id:"map",ref:_,"data-testid":"map",children:k&&Ae.jsx(mo.Provider,{value:{map:k,provider:S},children:o})})};zl.defaultProps={controls:!0,defaultCenter:{latitude:39.83,longitude:-98.58},defaultZoom:4,padding:{bottom:50,left:50,right:50,top:50},panHandler:()=>null,panStartHandler:()=>null,provider:Bl,providerOptions:{},singleZoom:14};const hd=Oe.createContext(null),gd=Ae.jsx("svg",{width:"30",height:"38",viewBox:"0 0 30 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Ae.jsx("path",{d:"M30 15.0882C30 23.4212 23.3333 30.7353 15 38C7.22222 31.2941 0 23.4212 0 15.0882C0 6.75523 6.71573 0 15 0C23.2843 0 30 6.75523 30 15.0882Z",fill:"red"})}),Kl=({children:i,coordinate:r,hideOffscreen:o,id:a,icon:f,onClick:g,onFocus:m,onHover:v,zIndex:x})=>{const{map:b,provider:N}=Oe.useContext(mo),O=Oe.useContext(hd),S=Oe.useMemo(()=>new _o().withCoordinate(r).withHideOffscreen(o).withProvider(N).build(),[]);Oe.useEffect(()=>{if(x!==0&&!x)return;const p=S.getProviderPin().getWrapperElement();p&&(p.style.zIndex=x.toString())},[x]),Oe.useEffect(()=>{S.setMap(b),S.setClickHandler(()=>g(a)),S.setFocusHandler(_=>m(_,a)),S.setHoverHandler(_=>v(_,a));const p=O==null?void 0:O.clusterIds.includes(a);return O&&!p&&O.setPinStore(_=>[..._,{pin:S,id:a}]),()=>{S.setMap(null),O&&O.setPinStore(_=>_.filter(C=>C.id!==a))}},[]);const D=i||f;if(D){const p=S.getProviderPin().getPinElement();return Object.assign(p.style,{height:"auto",width:"auto"}),Qu.createPortal(D,p)}return null};Kl.defaultProps={hideOffscreen:!1,icon:gd,onClick:()=>null,onHover:()=>null,onFocus:()=>null};const fd=({children:i,coordinate:r,linkSameTab:o,pinUrl:a,onClick:f=()=>null,onHover:g=()=>null,onFocus:m=()=>null,...v})=>Ae.jsx(zl,{bounds:[r],...v,children:Ae.jsx(Kl,{coordinate:r,id:"location-map-marker",onClick:f,onHover:g,onFocus:m,children:a?Ae.jsx(Xc,{href:a,target:o?"_self":"_blank",children:i}):i||void 0})});fd.defaultProps={controls:!0,panHandler:()=>null,provider:Bl,singleZoom:16};var Gi={},qn={},Xs;function pd(){if(Xs)return qn;Xs=1;var i=gt;function r(a){let f=new URLSearchParams;f.append("code",a);for(let g=1;g<arguments.length;g++)f.append("v",arguments[g]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${f} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let o=i.createContext(null);return qn.LexicalComposerContext=o,qn.createLexicalComposerContext=function(a,f){let g=null;return a!=null&&(g=a[1]),{getTheme:function(){return f??(g!=null?g.getTheme():null)}}},qn.useLexicalComposerContext=function(){let a=i.useContext(o);return a==null&&r(8),a},qn}var ea,ta;function Mt(){return ta||(ta=1,ea=pd()),ea}var ee={},na;function _d(){if(na)return ee;na=1;let i={},r={},o={},a={},f={},g={},m={},v={},x={},b={},N={},O={},S={},D={},p={},_={},C={},A={},y={},w={},k={},I={},z={},q={},X={},B={},R={},P={},ie={},Ee={},G={},le={},W={},M={},$={},j={};function K(n){let e=new URLSearchParams;e.append("code",n);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let se=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",he=se&&"documentMode"in document?document.documentMode:null,H=se&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),d=se&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),h=se&&"InputEvent"in window&&!he?"getTargetRanges"in new window.InputEvent("input"):!1,E=se&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),F=se&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,V=se&&/Android/.test(navigator.userAgent),J=se&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Z=se&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!J,re=E||F||Z?" ":"​",fe=d?" ":re,me=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,te=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,ue={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},pe={directionless:1,unmergeable:2},ve={center:2,end:6,justify:4,left:1,right:3,start:5},xe={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},Te={normal:0,segmented:2,token:1},ft={0:"normal",2:"segmented",1:"token"},kt=!1,Jt=0;function Ur(n){Jt=n.timeStamp}function zr(n,e,t){return e.__lexicalLineBreak===n||n[`__lexicalKey_${t._key}`]!==void 0}function cu(n){return n.getEditorState().read(()=>{let e=Re();return e!==null?e.clone():null})}function Co(n,e,t){kt=!0;let s=100<performance.now()-Jt;try{lt(n,()=>{let l=Re()||cu(n);var u=new Map,c=n.getRootElement(),T=n._editorState,U=n._blockCursorElement;let Y=!1,oe="";for(var ae=0;ae<e.length;ae++){var ne=e[ae],Q=ne.type,de=ne.target,_e=Mn(de,T);if(!(_e===null&&de!==c||$e(_e))){if(Q==="characterData"){if(ne=s&&ye(_e))e:{ne=l,Q=de;var Ce=_e;if(Ne(ne)){var be=ne.anchor.getNode();if(be.is(Ce)&&ne.format!==be.getFormat()){ne=!1;break e}}ne=Q.nodeType===3&&Ce.isAttached()}ne&&(Ce=bt(n._window),Q=ne=null,Ce!==null&&Ce.anchorNode===de&&(ne=Ce.anchorOffset,Q=Ce.focusOffset),de=de.nodeValue,de!==null&&Jr(_e,de,ne,Q,!1))}else if(Q==="childList"){for(Y=!0,Q=ne.addedNodes,Ce=0;Ce<Q.length;Ce++){be=Q[Ce];var Fe=Ao(be),ct=be.parentNode;ct==null||be===U||Fe!==null||be.nodeName==="BR"&&zr(be,ct,n)||(d&&(Fe=be.innerText||be.nodeValue)&&(oe+=Fe),ct.removeChild(be))}if(ne=ne.removedNodes,Q=ne.length,0<Q){for(Ce=0,be=0;be<Q;be++)ct=ne[be],(ct.nodeName==="BR"&&zr(ct,de,n)||U===ct)&&(de.appendChild(ct),Ce++);Q!==Ce&&(de===c&&(_e=T._nodeMap.get("root")),u.set(de,_e))}}}}if(0<u.size)for(let[Gn,Lt]of u)if(ce(Lt))for(u=Lt.getChildrenKeys(),c=Gn.firstChild,T=0;T<u.length;T++)U=n.getElementByKey(u[T]),U!==null&&(c==null?(Gn.appendChild(U),c=U):c!==U&&Gn.replaceChild(U,c),c=c.nextSibling);else ye(Lt)&&Lt.markDirty();if(u=t.takeRecords(),0<u.length){for(c=0;c<u.length;c++)for(U=u[c],T=U.addedNodes,U=U.target,ae=0;ae<T.length;ae++)_e=T[ae],de=_e.parentNode,de==null||_e.nodeName!=="BR"||zr(_e,U,n)||de.removeChild(_e);t.takeRecords()}l!==null&&(Y&&(l.dirty=!0,Nt(l)),d&&Do(n)&&l.insertRawText(oe))})}finally{kt=!1}}function No(n){let e=n._observer;if(e!==null){let t=e.takeRecords();Co(n,t,e)}}function bo(n){Jt===0&&hr(n).addEventListener("textInput",Ur,!0),n._observer=new MutationObserver((e,t)=>{Co(n,e,t)})}function To(n,e){let t=n.__mode,s=n.__format;n=n.__style;let l=e.__mode,u=e.__format;return e=e.__style,(t===null||t===l)&&(s===null||s===u)&&(n===null||n===e)}function wo(n,e){let t=n.mergeWithSibling(e),s=Ie()._normalizedNodes;return s.add(n.__key),s.add(e.__key),t}function xo(n){if(n.__text===""&&n.isSimpleText()&&!n.isUnmergeable())n.remove();else{for(var e;(e=n.getPreviousSibling())!==null&&ye(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{To(e,n)&&(n=wo(e,n));break}for(var t;(t=n.getNextSibling())!==null&&ye(t)&&t.isSimpleText()&&!t.isUnmergeable();)if(t.__text==="")t.remove();else{To(n,t)&&wo(n,t);break}}}function Kr(n){return So(n.anchor),So(n.focus),n}function So(n){for(;n.type==="element";){var e=n.getNode(),t=n.offset;if(t===e.getChildrenSize()?(e=e.getChildAtIndex(t-1),t=!0):(e=e.getChildAtIndex(t),t=!1),ye(e)){n.set(e.__key,t?e.getTextContentSize():0,"text");break}else if(!ce(e))break;n.set(e.__key,t?e.getChildrenSize():0,"element")}}let du=1,hu=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function jr(n){let e=document.activeElement;if(e===null)return!1;let t=e.nodeName;return $e(Mn(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Rn(n,e,t){let s=n.getRootElement();try{return s!==null&&s.contains(e)&&s.contains(t)&&e!==null&&!jr(e)&&Wr(e)===n}catch{return!1}}function Wr(n){for(;n!=null;){let e=n.__lexicalEditor;if(e!=null)return e;n=cr(n)}return null}function Yr(n){return n.isToken()||n.isSegmented()}function sr(n){for(;n!=null;){if(n.nodeType===3)return n;n=n.firstChild}return null}function Gr(n,e,t){let s=ue[e];return t!==null&&(n&s)===(t&s)||(n^=s,e==="subscript"?n&=~ue.superscript:e==="superscript"&&(n&=~ue.subscript)),n}function Oo(n,e){if(e!=null)n.__key=e;else{qe(),99<jn&&K(14),e=Ie();var t=wt(),s=""+du++;t._nodeMap.set(s,n),ce(n)?e._dirtyElements.set(s,!0):e._dirtyLeaves.add(s),e._cloneNotNeeded.add(s),e._dirtyType=1,n.__key=s}}function Qt(n){var e=n.getParent();if(e!==null){let l=n.getWritable();e=e.getWritable();var t=n.getPreviousSibling();if(n=n.getNextSibling(),t===null)if(n!==null){var s=n.getWritable();e.__first=n.__key,s.__prev=null}else e.__first=null;else{if(s=t.getWritable(),n!==null){let u=n.getWritable();u.__prev=s.__key,s.__next=u.__key}else s.__next=null;l.__prev=null}n===null?t!==null?(n=t.getWritable(),e.__last=t.__key,n.__next=null):e.__last=null:(n=n.getWritable(),t!==null?(t=t.getWritable(),t.__next=n.__key,n.__prev=t.__key):n.__prev=null,l.__next=null),e.__size--,l.__parent=null}}function ar(n){99<jn&&K(14);var e=n.getLatest(),t=e.__parent,s=wt();let l=Ie(),u=s._nodeMap;if(s=l._dirtyElements,t!==null)e:for(;t!==null;){if(s.has(t))break e;let c=u.get(t);if(c===void 0)break;s.set(t,!1),t=c.__parent}e=e.__key,l._dirtyType=1,ce(n)?s.set(e,!0):l._dirtyLeaves.add(e)}function je(n){qe();var e=Ie();let t=e._compositionKey;n!==t&&(e._compositionKey=n,t!==null&&(e=We(t),e!==null&&e.getWritable()),n!==null&&(n=We(n),n!==null&&n.getWritable()))}function Ht(){return En()?null:Ie()._compositionKey}function We(n,e){return n=(e||wt())._nodeMap.get(n),n===void 0?null:n}function Ao(n,e){let t=Ie();return n=n[`__lexicalKey_${t._key}`],n!==void 0?We(n,e):null}function Mn(n,e){for(;n!=null;){let t=Ao(n,e);if(t!==null)return t;n=cr(n)}return null}function Ro(n){let e=Object.assign({},n._decorators);return n._pendingDecorators=e}function Mo(n){return n.read(()=>at().getTextContent())}function gu(n,e){lt(n,()=>{var t=wt();if(!t.isEmpty())if(e==="root")at().markDirty();else{t=t._nodeMap;for(let[,s]of t)s.markDirty()}},n._pendingEditorState===null?{tag:"history-merge"}:void 0)}function at(){return wt()._nodeMap.get("root")}function Nt(n){qe();let e=wt();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function gn(n){var e=Ie(),t;e:{for(t=n;t!=null;){let s=t[`__lexicalKey_${e._key}`];if(s!==void 0){t=s;break e}t=cr(t)}t=null}return t===null?(e=e.getRootElement(),n===e?We("root"):null):We(t)}function ko(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Zr(n){let e=[];for(;n!==null;)e.push(n),n=n._parentEditor;return e}function Po(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Vr(n,e,t){if(e=bt(e._window),e!==null){var s=e.anchorNode,{anchorOffset:l,focusOffset:u}=e;if(s!==null&&(e=s.nodeType===3?s.nodeValue:null,s=Mn(s),e!==null&&ye(s))){if(e===re&&t){let c=t.length;e=t,u=l=c}e!==null&&Jr(s,e,l,u,n)}}}function Jr(n,e,t,s,l){let u=n;if(u.isAttached()&&(l||!u.isDirty())){let Y=u.isComposing(),oe=e;if((Y||l)&&e[e.length-1]===re&&(oe=e.slice(0,-1)),e=u.getTextContent(),l||oe!==e)if(oe==="")if(je(null),E||F||Z)u.remove();else{let ae=Ie();setTimeout(()=>{ae.update(()=>{u.isAttached()&&u.remove()})},20)}else{l=u.getParent(),e=vn();var c=u.getTextContentSize(),T=Ht(),U=u.getKey();u.isToken()||T!==null&&U===T&&!Y||Ne(e)&&(l!==null&&!l.canInsertTextBefore()&&e.anchor.offset===0||e.anchor.key===n.__key&&e.anchor.offset===0&&!u.canInsertTextBefore()||e.focus.key===n.__key&&e.focus.offset===c&&!u.canInsertTextAfter())?u.markDirty():(n=Re(),Ne(n)&&t!==null&&s!==null&&(n.setTextNodeRange(u,t,u,s),u.isSegmented()&&(t=u.getTextContent(),t=Ze(t),u.replace(t),u=t)),u.setTextContent(oe))}}}function fu(n,e){if(e.isSegmented())return!0;if(!n.isCollapsed())return!1;n=n.anchor.offset;let t=e.getParentOrThrow(),s=e.isToken();return n===0?((n=!e.canInsertTextBefore()||!t.canInsertTextBefore()||s)||(e=e.getPreviousSibling(),n=(ye(e)||ce(e)&&e.isInline())&&!e.canInsertTextAfter()),n):n===e.getTextContentSize()?!e.canInsertTextAfter()||!t.canInsertTextAfter()||s:!1}function kn(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});let t=n.__lexicalClassNameCache,s=t[e];return s!==void 0?s:(n=n[e],typeof n=="string"?(n=n.split(" "),t[e]=n):n)}function Qr(n,e,t,s,l){t.size!==0&&(t=s.__type,s=s.__key,e=e.get(t),e===void 0&&K(33,t),t=e.klass,e=n.get(t),e===void 0&&(e=new Map,n.set(t,e)),n=e.get(s),t=n==="destroyed"&&l==="created",(n===void 0||t)&&e.set(s,t?"updated":l))}function Io(n,e,t){let s=n.getParent(),l=t;return s!==null&&(e&&t===0?(l=n.getIndexWithinParent(),n=s):e||t!==n.getChildrenSize()||(l=n.getIndexWithinParent()+1,n=s)),n.getChildAtIndex(e?l-1:l)}function qr(n,e){var t=n.offset;return n.type==="element"?(n=n.getNode(),Io(n,e,t)):(n=n.getNode(),e&&t===0||!e&&t===n.getTextContentSize()?(t=e?n.getPreviousSibling():n.getNextSibling(),t===null?Io(n.getParentOrThrow(),e,n.getIndexWithinParent()+(e?0:1)):t):null)}function Do(n){return n=(n=hr(n).event)&&n.inputType,n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function lr(n){return!ut(n)&&!n.isLastChild()&&!n.isInline()}function ur(n,e){return n=n._keyToDOMMap.get(e),n===void 0&&K(75,e),n}function cr(n){return n=n.assignedSlot||n.parentElement,n!==null&&n.nodeType===11?n.host:n}function dr(n,e){for(n=n.getParent();n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function hr(n){return n=n._window,n===null&&K(78),n}function Lo(n){for(n=n.getParentOrThrow();n!==null&&!Ut(n);)n=n.getParentOrThrow();return n}function Ut(n){return ut(n)||ce(n)&&n.isShadowRoot()}function $o(n){return n=n.constructor.clone(n),Oo(n,null),n}function Pn(n){var e=Ie();let t=n.constructor.getType();return e=e._nodes.get(t),e===void 0&&K(97),e=e.replace,e!==null?(e=e(n),e instanceof n.constructor||K(98),e):n}function Xr(n,e){n=n.getParent(),!ut(n)||ce(e)||$e(e)||K(99)}function ei(n){return($e(n)||ce(n)&&!n.canBeEmpty())&&!n.isInline()}function ti(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null,e=n.parentElement,e!==null&&e.removeChild(n)}function bt(n){return se?(n||window).getSelection():null}function gr(n,e){for(;n!==at()&&n!=null;){if(e(n))return n;n=n.getParent()}return null}function pu(n){let e=[],t=[n];for(;0<t.length;){let s=t.pop();s===void 0&&K(112),ce(s)&&t.unshift(...s.getChildren()),s!==n&&e.push(s)}return e}function fr(n){return n.nodeType===1}function In(n){if($e(n)&&!n.isInline())return!0;if(!ce(n)||Ut(n))return!1;var e=n.getFirstChild();return e=e===null||en(e)||ye(e)||e.isInline(),!n.isInline()&&n.canBeEmpty()!==!1&&e}function ni(n,e){for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function Fo(n,e,t,s,l,u){for(n=n.getFirstChild();n!==null;){let c=n.__key;n.__parent===e&&(ce(n)&&Fo(n,c,t,s,l,u),t.has(c)||u.delete(c),l.push(c)),n=n.getNextSibling()}}function _u(n,e,t,s){n=n._nodeMap,e=e._nodeMap;let l=[];for(let[u]of s){let c=e.get(u);c===void 0||c.isAttached()||(ce(c)&&Fo(c,u,n,e,l,s),n.has(u)||s.delete(u),l.push(u))}for(let u of l)e.delete(u);for(let u of t)s=e.get(u),s===void 0||s.isAttached()||(n.has(u)||t.delete(u),e.delete(u))}let Ue="",Qe="",Pt="",zt,Ve,Dn,Bo=!1,ri=!1,pr,_r=null,ii,oi,qt,Kt,si,Ln;function mr(n,e){let t=qt.get(n);if(e!==null){let s=ci(n);s.parentNode===e&&e.removeChild(s)}Kt.has(n)||Ve._keyToDOMMap.delete(n),ce(t)&&(n=vr(t,qt),ai(n,0,n.length-1,null)),t!==void 0&&Qr(Ln,Dn,pr,t,"destroyed")}function ai(n,e,t,s){for(;e<=t;++e){let l=n[e];l!==void 0&&mr(l,s)}}function Xt(n,e){n.setProperty("text-align",e)}function Ho(n,e){var t=zt.theme.indent;if(typeof t=="string"){let s=n.classList.contains(t);0<e&&!s?n.classList.add(t):1>e&&s&&n.classList.remove(t)}t=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||"40px",n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${t})`)}function Uo(n,e){n=n.style,e===0?Xt(n,""):e===1?Xt(n,"left"):e===2?Xt(n,"center"):e===3?Xt(n,"right"):e===4?Xt(n,"justify"):e===5?Xt(n,"start"):e===6&&Xt(n,"end")}function yr(n,e,t){let s=Kt.get(n);s===void 0&&K(60);let l=s.createDOM(zt,Ve);var u=Ve._keyToDOMMap;if(l["__lexicalKey_"+Ve._key]=n,u.set(n,l),ye(s)?l.setAttribute("data-lexical-text","true"):$e(s)&&l.setAttribute("data-lexical-decorator","true"),ce(s)){if(n=s.__indent,u=s.__size,n!==0&&Ho(l,n),u!==0){--u,n=vr(s,Kt);var c=Qe;Qe="",li(n,s,0,u,l,null),jo(s,l),Qe=c}n=s.__format,n!==0&&Uo(l,n),s.isInline()||Ko(null,s,l),lr(s)&&(Ue+=`

`,Pt+=`

`)}else u=s.getTextContent(),$e(s)?(c=s.decorate(Ve,zt),c!==null&&Wo(n,c),l.contentEditable="false"):ye(s)&&(s.isDirectionless()||(Qe+=u)),Ue+=u,Pt+=u;return e!==null&&(t!=null?e.insertBefore(l,t):(t=e.__lexicalLineBreak,t!=null?e.insertBefore(l,t):e.appendChild(l))),Qr(Ln,Dn,pr,s,"created"),l}function li(n,e,t,s,l,u){let c=Ue;for(Ue="";t<=s;++t)yr(n[t],l,u);lr(e)&&(Ue+=`

`),l.__lexicalTextContent=Ue,Ue=c+Ue}function zo(n,e){return n=e.get(n),en(n)||$e(n)&&n.isInline()}function Ko(n,e,t){n=n!==null&&(n.__size===0||zo(n.__last,qt)),e=e.__size===0||zo(e.__last,Kt),n?e||(e=t.__lexicalLineBreak,e!=null&&t.removeChild(e),t.__lexicalLineBreak=null):e&&(e=document.createElement("br"),t.__lexicalLineBreak=e,t.appendChild(e))}function jo(n,e){var t=e.__lexicalDir;if(e.__lexicalDirTextContent!==Qe||t!==_r){let u=Qe==="";if(u)var s=_r;else s=Qe,s=me.test(s)?"rtl":te.test(s)?"ltr":null;if(s!==t){let c=e.classList,T=zt.theme;var l=t!==null?T[t]:void 0;let U=s!==null?T[s]:void 0;l!==void 0&&(typeof l=="string"&&(l=l.split(" "),l=T[t]=l),c.remove(...l)),s===null||u&&s==="ltr"?e.removeAttribute("dir"):(U!==void 0&&(typeof U=="string"&&(t=U.split(" "),U=T[s]=t),U!==void 0&&c.add(...U)),e.dir=s),ri||(n.getWritable().__dir=s)}_r=s,e.__lexicalDirTextContent=Qe,e.__lexicalDir=s}}function vr(n,e){let t=[];for(n=n.__first;n!==null;){let s=e.get(n);s===void 0&&K(101),t.push(n),n=s.__next}return t}function $n(n,e){var t=qt.get(n),s=Kt.get(n);t!==void 0&&s!==void 0||K(61);var l=Bo||oi.has(n)||ii.has(n);let u=ur(Ve,n);if(t===s&&!l)return ce(t)?(s=u.__lexicalTextContent,s!==void 0&&(Ue+=s,Pt+=s),s=u.__lexicalDirTextContent,s!==void 0&&(Qe+=s)):(s=t.getTextContent(),ye(t)&&!t.isDirectionless()&&(Qe+=s),Pt+=s,Ue+=s),u;if(t!==s&&l&&Qr(Ln,Dn,pr,s,"updated"),s.updateDOM(t,u,zt))return s=yr(n,null,null),e===null&&K(62),e.replaceChild(s,u),mr(n,null),s;if(ce(t)&&ce(s)){if(n=s.__indent,n!==t.__indent&&Ho(u,n),n=s.__format,n!==t.__format&&Uo(u,n),l){n=s,l=Qe,Qe="",e=Ue;var c=t.__size,T=n.__size;if(Ue="",c===1&&T===1){var U=t.__first,Y=n.__first;if(U===Y)$n(U,u);else{var oe=ci(U);Y=yr(Y,null,null),u.replaceChild(Y,oe),mr(U,null)}}else{Y=vr(t,qt);var ae=vr(n,Kt);if(c===0)T!==0&&li(ae,n,0,T-1,u,null);else if(T===0)c!==0&&(U=u.__lexicalLineBreak==null,ai(Y,0,c-1,U?null:u),U&&(u.textContent=""));else{var ne=Y;Y=ae,ae=c-1,c=T-1;let de=u.firstChild,_e=0;for(T=0;_e<=ae&&T<=c;){var Q=ne[_e];let Ce=Y[T];if(Q===Ce)de=ui($n(Ce,u)),_e++,T++;else{U===void 0&&(U=new Set(ne)),oe===void 0&&(oe=new Set(Y));let be=oe.has(Q),Fe=U.has(Ce);be?(Fe?(Q=ur(Ve,Ce),Q===de?de=ui($n(Ce,u)):(de!=null?u.insertBefore(Q,de):u.appendChild(Q),$n(Ce,u)),_e++):yr(Ce,u,de),T++):(de=ui(ci(Q)),mr(Q,u),_e++)}}U=_e>ae,oe=T>c,U&&!oe?(U=Y[c+1],U=U===void 0?null:Ve.getElementByKey(U),li(Y,n,T,c,u,U)):oe&&!U&&ai(ne,_e,ae,u)}}lr(n)&&(Ue+=`

`),u.__lexicalTextContent=Ue,Ue=e+Ue,jo(n,u),Qe=l,ut(s)||s.isInline()||Ko(t,s,u)}lr(s)&&(Ue+=`

`,Pt+=`

`)}else t=s.getTextContent(),$e(s)?(l=s.decorate(Ve,zt),l!==null&&Wo(n,l)):ye(s)&&!s.isDirectionless()&&(Qe+=t),Ue+=t,Pt+=t;return!ri&&ut(s)&&s.__cachedText!==Pt&&(s=s.getWritable(),s.__cachedText=Pt),u}function Wo(n,e){let t=Ve._pendingDecorators,s=Ve._decorators;if(t===null){if(s[n]===e)return;t=Ro(Ve)}t[n]=e}function ui(n){return n=n.nextSibling,n!==null&&n===Ve._blockCursorElement&&(n=n.nextSibling),n}function ci(n){let e=si.get(n);return e===void 0&&K(75,n),e}let It=Object.freeze({}),di=[["keydown",Tu],["pointerdown",yu],["compositionstart",Nu],["compositionend",bu],["input",Cu],["click",mu],["cut",It],["copy",It],["dragstart",It],["dragover",It],["dragend",It],["paste",It],["focus",It],["blur",It],["drop",It]];h&&di.push(["beforeinput",(n,e)=>Eu(n,e)]);let Fn=0,Yo=0,Go=0,fn=null,Bn=0,hi=!1,gi=!1,Hn=!1,Un=!1,Zo=[0,"",0,"root",0];function Vo(n,e,t,s,l){let u=n.anchor,c=n.focus,T=u.getNode();var U=Ie();let Y=bt(U._window),oe=Y!==null?Y.anchorNode:null,ae=u.key;U=U.getElementByKey(ae);let ne=t.length;return ae!==c.key||!ye(T)||(!l&&(!h||Go<s+50)||T.isDirty()&&2>ne||ko(t))&&u.offset!==c.offset&&!T.isComposing()||Yr(T)||T.isDirty()&&1<ne||(l||!h)&&U!==null&&!T.isComposing()&&oe!==sr(U)||Y!==null&&e!==null&&(!e.collapsed||e.startContainer!==Y.anchorNode||e.startOffset!==Y.anchorOffset)||T.getFormat()!==n.format||T.getStyle()!==n.style||fu(n,T)}function Jo(n,e){return n!==null&&n.nodeValue!==null&&n.nodeType===3&&e!==0&&e!==n.nodeValue.length}function Qo(n,e,t){let{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:c}=n;hi&&(hi=!1,Jo(s,l)&&Jo(u,c))||lt(e,()=>{if(!t)Nt(null);else if(Rn(e,s,u)){var T=Re();if(Ne(T)){var U=T.anchor,Y=U.getNode();if(T.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(T.dirty=!0);var oe=hr(e).event;oe=oe?oe.timeStamp:performance.now();let[ne,Q,de,_e,Ce]=Zo;var ae=at();ae=e.isComposing()===!1&&ae.getTextContent()==="",oe<Ce+200&&U.offset===de&&U.key===_e?(T.format=ne,T.style=Q):U.type==="text"?(T.format=Y.getFormat(),T.style=Y.getStyle()):U.type!=="element"||ae||(T.format=0,T.style="")}else{U=255,Y=!1,oe=T.getNodes(),ae=oe.length;for(let ne=0;ne<ae;ne++){let Q=oe[ne];if(ye(Q)&&(Y=!0,U&=Q.getFormat(),U===0))break}T.format=Y?U:0}}ge(e,i,void 0)}})}function mu(n,e){lt(e,()=>{let t=Re();var s=bt(e._window);let l=vn();if(s)if(Ne(t)){let c=t.anchor;var u=c.getNode();c.type==="element"&&c.offset===0&&t.isCollapsed()&&!ut(u)&&at().getChildrenSize()===1&&u.getTopLevelElementOrThrow().isEmpty()&&l!==null&&t.is(l)?(s.removeAllRanges(),t.dirty=!0):n.detail!==3||t.isCollapsed()||(s=t.focus.getNode(),u!==s&&(ce(u)?u.select(0):u.getParentOrThrow().select(0)))}else n.pointerType==="touch"&&(u=s.anchorNode,u!==null&&(u=u.nodeType,u===1||u===3))&&(s=xi(l,s,e),Nt(s));ge(e,r,n)})}function yu(n,e){let t=n.target;n=n.pointerType,t instanceof Node&&n!=="touch"&&lt(e,()=>{$e(Mn(t))||(gi=!0)})}function qo(n){return n.getTargetRanges?(n=n.getTargetRanges(),n.length===0?null:n[0]):null}function vu(n,e){return n!==e||ce(n)||ce(e)||!n.isToken()||!e.isToken()}function Eu(n,e){let t=n.inputType,s=qo(n);t==="deleteCompositionText"||d&&Do(e)||t!=="insertCompositionText"&&lt(e,()=>{let l=Re();if(t==="deleteContentBackward"){if(l===null){var u=vn();if(!Ne(u))return;Nt(u.clone())}if(Ne(l)){V&&je(l.anchor.key),Yo===229&&n.timeStamp<Fn+30&&e.isComposing()&&l.anchor.key===l.focus.key?(je(null),Fn=0,setTimeout(()=>{lt(e,()=>{je(null)})},30),Ne(l)&&(u=l.anchor.getNode(),u.markDirty(),l.format=u.getFormat(),l.style=u.getStyle()),1>=l.anchor.getNode().getTextContent().length&&(n.preventDefault(),ge(e,o,!0))):(n.preventDefault(),ge(e,o,!0));return}}if(Ne(l)){u=n.data,fn!==null&&Vr(!1,e,fn),l.dirty&&fn===null||!l.isCollapsed()||ut(l.anchor.getNode())||s===null||l.applyDOMRange(s),fn=null;var c=l.focus,T=l.anchor.getNode();if(c=c.getNode(),t==="insertText"||t==="insertTranspose")u===`
`?(n.preventDefault(),ge(e,a,!1)):u===`

`?(n.preventDefault(),ge(e,f,void 0)):u==null&&n.dataTransfer?(u=n.dataTransfer.getData("text/plain"),n.preventDefault(),l.insertRawText(u)):u!=null&&Vo(l,s,u,n.timeStamp,!0)?(n.preventDefault(),ge(e,g,u)):fn=u,Go=n.timeStamp;else switch(n.preventDefault(),t){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ge(e,g,n);break;case"insertFromComposition":je(null),ge(e,g,n);break;case"insertLineBreak":je(null),ge(e,a,!1);break;case"insertParagraph":je(null),Hn&&!F?(Hn=!1,ge(e,a,!1)):ge(e,f,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ge(e,m,n);break;case"deleteByComposition":vu(T,c)&&ge(e,v,n);break;case"deleteByDrag":case"deleteByCut":ge(e,v,n);break;case"deleteContent":ge(e,o,!1);break;case"deleteWordBackward":ge(e,x,!0);break;case"deleteWordForward":ge(e,x,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ge(e,b,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ge(e,b,!1);break;case"formatStrikeThrough":ge(e,N,"strikethrough");break;case"formatBold":ge(e,N,"bold");break;case"formatItalic":ge(e,N,"italic");break;case"formatUnderline":ge(e,N,"underline");break;case"historyUndo":ge(e,O,void 0);break;case"historyRedo":ge(e,S,void 0)}}})}function Cu(n,e){n.stopPropagation(),lt(e,()=>{var t=Re(),s=n.data,l=qo(n);if(s!=null&&Ne(t)&&Vo(t,l,s,n.timeStamp,!1)){Un&&(fi(e,s),Un=!1);var u=t.anchor,c=u.getNode();if(l=bt(e._window),l===null)return;let T=u.offset;(u=h&&!t.isCollapsed()&&ye(c)&&l.anchorNode!==null)&&(c=c.getTextContent().slice(0,T)+s+c.getTextContent().slice(T+t.focus.offset),l=l.anchorNode,u=c===(l.nodeType===3?l.nodeValue:null)),u||ge(e,g,s),s=s.length,d&&1<s&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=s),E||F||Z||!e.isComposing()||(Fn=0,je(null))}else Vr(!1,e,s!==null?s:void 0),Un&&(fi(e,s||void 0),Un=!1);qe(),t=Ie(),No(t)}),fn=null}function Nu(n,e){lt(e,()=>{let t=Re();if(Ne(t)&&!e.isComposing()){let s=t.anchor,l=t.anchor.getNode();je(s.key),(n.timeStamp<Fn+30||s.type==="element"||!t.isCollapsed()||l.getFormat()!==t.format||l.getStyle()!==t.style)&&ge(e,g,fe)}})}function fi(n,e){var t=n._compositionKey;if(je(null),t!==null&&e!=null){if(e===""){e=We(t),n=sr(n.getElementByKey(t)),n!==null&&n.nodeValue!==null&&ye(e)&&Jr(e,n.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(t=Re(),Ne(t))){e=t.focus,t.anchor.set(e.key,e.offset,e.type),ge(n,k,null);return}}Vr(!0,n,e)}function bu(n,e){d?Un=!0:lt(e,()=>{fi(e,n.data)})}function Tu(n,e){if(Fn=n.timeStamp,Yo=n.keyCode,!e.isComposing()){var{keyCode:t,shiftKey:s,ctrlKey:l,metaKey:u,altKey:c}=n;if(!ge(e,D,n)){if(t!==39||l||u||c)if(t!==39||c||s||!l&&!u)if(t!==37||l||u||c)if(t!==37||c||s||!l&&!u)if(t!==38||l||u)if(t!==40||l||u)if(t===13&&s)Hn=!0,ge(e,k,n);else if(t===32)ge(e,I,n);else if(H&&l&&t===79)n.preventDefault(),Hn=!0,ge(e,a,!0);else if(t!==13||s){var T=H?c||u?!1:t===8||t===72&&l:l||c||u?!1:t===8;T?t===8?ge(e,z,n):(n.preventDefault(),ge(e,o,!0)):t===27?ge(e,q,n):(T=H?s||c||u?!1:t===46||t===68&&l:l||c||u?!1:t===46,T?t===46?ge(e,X,n):(n.preventDefault(),ge(e,o,!1)):t===8&&(H?c:l)?(n.preventDefault(),ge(e,x,!0)):t===46&&(H?c:l)?(n.preventDefault(),ge(e,x,!1)):H&&u&&t===8?(n.preventDefault(),ge(e,b,!0)):H&&u&&t===46?(n.preventDefault(),ge(e,b,!1)):t===66&&!c&&(H?u:l)?(n.preventDefault(),ge(e,N,"bold")):t===85&&!c&&(H?u:l)?(n.preventDefault(),ge(e,N,"underline")):t===73&&!c&&(H?u:l)?(n.preventDefault(),ge(e,N,"italic")):t!==9||c||l||u?t===90&&!s&&(H?u:l)?(n.preventDefault(),ge(e,O,void 0)):(T=H?t===90&&u&&s:t===89&&l||t===90&&l&&s,T?(n.preventDefault(),ge(e,S,void 0)):Kn(e._editorState._selection)?(T=s?!1:t===67?H?u:l:!1,T?(n.preventDefault(),ge(e,G,n)):(T=s?!1:t===88?H?u:l:!1,T?(n.preventDefault(),ge(e,le,n)):t===65&&(H?u:l)&&(n.preventDefault(),ge(e,W,n)))):!d&&t===65&&(H?u:l)&&(n.preventDefault(),ge(e,W,n))):ge(e,B,n))}else Hn=!1,ge(e,k,n);else ge(e,w,n);else ge(e,y,n);else ge(e,A,n);else ge(e,C,n);else ge(e,_,n);else ge(e,p,n);(l||s||c||u)&&ge(e,j,n)}}}function Xo(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}let pn=new Map;function es(n){n=n.target;let e=bt(n==null?null:n.nodeType===9?n.defaultView:n.ownerDocument.defaultView);if(e!==null){var t=Wr(e.anchorNode);if(t!==null){gi&&(gi=!1,lt(t,()=>{var c=vn(),T=e.anchorNode;T!==null&&(T=T.nodeType,T===1||T===3)&&(c=xi(c,e,t),Nt(c))})),n=Zr(t),n=n[n.length-1];var s=n._key,l=pn.get(s),u=l||n;u!==t&&Qo(e,u,!1),Qo(e,t,!0),t!==n?pn.set(s,t):l&&pn.delete(s)}}}function wu(n,e){Bn===0&&n.ownerDocument.addEventListener("selectionchange",es),Bn++,n.__lexicalEditor=e;let t=Xo(n);for(let s=0;s<di.length;s++){let[l,u]=di[s],c=typeof u=="function"?T=>{T._lexicalHandled!==!0&&(T._lexicalHandled=!0,e.isEditable()&&u(T,e))}:T=>{if(T._lexicalHandled!==!0&&(T._lexicalHandled=!0,e.isEditable()))switch(l){case"cut":return ge(e,le,T);case"copy":return ge(e,G,T);case"paste":return ge(e,m,T);case"dragstart":return ge(e,P,T);case"dragover":return ge(e,ie,T);case"dragend":return ge(e,Ee,T);case"focus":return ge(e,M,T);case"blur":return ge(e,$,T);case"drop":return ge(e,R,T)}};n.addEventListener(l,c),t.push(()=>{n.removeEventListener(l,c)})}}function pi(n,e,t){qe();var s=n.__key;let l=n.getParent();if(l!==null){var u=Re();if(Ne(u)&&ce(n)){var{anchor:c,focus:T}=u,U=c.getNode(),Y=T.getNode();dr(U,n)&&c.set(n.__key,0,"element"),dr(Y,n)&&T.set(n.__key,0,"element")}if(U=u,Y=!1,Ne(U)&&e){u=U.anchor;let oe=U.focus;u.key===s&&(wr(u,n,l,n.getPreviousSibling(),n.getNextSibling()),Y=!0),oe.key===s&&(wr(oe,n,l,n.getPreviousSibling(),n.getNextSibling()),Y=!0)}else Kn(U)&&e&&n.isSelected()&&n.selectPrevious();Ne(U)&&e&&!Y?(s=n.getIndexWithinParent(),Qt(n),Tr(U,l,s,-1)):Qt(n),t||Ut(l)||l.canBeEmpty()||!l.isEmpty()||pi(l,e),e&&ut(l)&&l.isEmpty()&&l.selectEnd()}}class zn{static getType(){K(64,this.name)}static clone(){K(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Oo(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=We(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||Re(),e==null)return!1;let t=e.getNodes().some(s=>s.__key===this.__key);return ye(this)?t:Ne(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let t=0;for(;e!==null;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:We(e)}getParentOrThrow(){let e=this.getParent();return e===null&&K(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){let t=e.getParent();if(Ut(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&K(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:We(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(t===null)return e;for(t=t.getFirstChild();t!==null&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:We(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var s=e.getParents();ce(this)&&t.unshift(this),ce(e)&&s.unshift(e),e=t.length;var l=s.length;if(e===0||l===0||t[e-1]!==s[l-1])return null;for(s=new Set(s),l=0;l<e;l++){let u=t[l];if(s.has(u))return u}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let s=this;for(;;){var l=s.getParentOrThrow();if(l===t){l=s.getIndexWithinParent();break}s=l}for(s=e;;){if(e=s.getParentOrThrow(),e===t){t=s.getIndexWithinParent();break}s=e}return l<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;e!==null;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),s=[],l=new Set;for(var u=this;;){var c=u.__key;if(l.has(c)||(l.add(c),s.push(u)),u===e)break;if(c=ce(u)?t?u.getFirstChild():u.getLastChild():null,c!==null)u=c;else if(c=t?u.getNextSibling():u.getPreviousSibling(),c!==null)u=c;else{if(u=u.getParentOrThrow(),l.has(u.__key)||s.push(u),u===e)break;c=u;do c===null&&K(68),u=t?c.getNextSibling():c.getPreviousSibling(),c=c.getParent(),c!==null&&(u!==null||l.has(c.__key)||s.push(c));while(u===null)}}return t||s.reverse(),s}isDirty(){let e=Ie()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=We(this.__key);return e===null&&K(113),e}getWritable(){qe();var e=wt(),t=Ie();e=e._nodeMap;let s=this.__key,l=this.getLatest(),u=l.__parent;t=t._cloneNotNeeded;var c=Re();return Ni(c)&&c.setCachedNodes(null),t.has(s)?(ar(l),l):(c=l.constructor.clone(l),c.__parent=u,c.__next=l.__next,c.__prev=l.__prev,ce(l)&&ce(c)?(c.__first=l.__first,c.__last=l.__last,c.__size=l.__size,c.__indent=l.__indent,c.__format=l.__format,c.__dir=l.__dir):ye(l)&&ye(c)&&(c.__format=l.__format,c.__style=l.__style,c.__mode=l.__mode,c.__detail=l.__detail),t.add(s),c.__key=s,ar(c),e.set(s,c),c)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){K(70)}updateDOM(){K(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){K(72)}static importJSON(){K(18,this.name)}static transform(){return null}remove(e){pi(this,!0,e)}replace(e,t){qe();var s=Re();s!==null&&(s=s.clone()),Xr(this,e);let l=this.getLatest(),u=this.__key,c=e.__key,T=e.getWritable();e=this.getParentOrThrow().getWritable();let U=e.__size;Qt(T);let Y=l.getPreviousSibling(),oe=l.getNextSibling(),ae=l.__prev,ne=l.__next,Q=l.__parent;return pi(l,!1,!0),Y===null?e.__first=c:Y.getWritable().__next=c,T.__prev=ae,oe===null?e.__last=c:oe.getWritable().__prev=c,T.__next=ne,T.__parent=Q,e.__size=U,t&&this.getChildren().forEach(de=>{T.append(de)}),Ne(s)&&(Nt(s),t=s.anchor,s=s.focus,t.key===u&&is(t,T),s.key===u&&is(s,T)),Ht()===u&&je(c),T}insertAfter(e,t=!0){qe(),Xr(this,e);var s=this.getWritable();let l=e.getWritable();var u=l.getParent();let c=Re();var T=!1,U=!1;if(u!==null){var Y=e.getIndexWithinParent();Qt(l),Ne(c)&&(U=u.__key,T=c.anchor,u=c.focus,T=T.type==="element"&&T.key===U&&T.offset===Y+1,U=u.type==="element"&&u.key===U&&u.offset===Y+1)}u=this.getNextSibling(),Y=this.getParentOrThrow().getWritable();let oe=l.__key,ae=s.__next;return u===null?Y.__last=oe:u.getWritable().__prev=oe,Y.__size++,s.__next=oe,l.__next=ae,l.__prev=s.__key,l.__parent=s.__parent,t&&Ne(c)&&(t=this.getIndexWithinParent(),Tr(c,Y,t+1),s=Y.__key,T&&c.anchor.set(s,t+2,"element"),U&&c.focus.set(s,t+2,"element")),e}insertBefore(e,t=!0){qe(),Xr(this,e);var s=this.getWritable();let l=e.getWritable(),u=l.__key;Qt(l);let c=this.getPreviousSibling(),T=this.getParentOrThrow().getWritable(),U=s.__prev,Y=this.getIndexWithinParent();return c===null?T.__first=u:c.getWritable().__next=u,T.__size++,s.__prev=u,l.__prev=U,l.__next=s.__key,l.__parent=s.__parent,s=Re(),t&&Ne(s)&&(t=this.getParentOrThrow(),Tr(s,t,Y)),e}isParentRequired(){return!1}createParentElementNode(){return Dt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){qe();let s=this.getPreviousSibling(),l=this.getParentOrThrow();return s===null?l.select(0,0):ce(s)?s.select():ye(s)?s.select(e,t):(e=s.getIndexWithinParent()+1,l.select(e,e))}selectNext(e,t){qe();let s=this.getNextSibling(),l=this.getParentOrThrow();return s===null?l.select():ce(s)?s.select(0,0):ye(s)?s.select(e,t):(e=s.getIndexWithinParent(),l.select(e,e))}markDirty(){this.getWritable()}}function xu(n,e,t){t=t||e.getParentOrThrow().getLastChild();let s=e;for(e=[e];s!==t;){if(!s.getNextSibling())throw Error("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert");s=s.getNextSibling(),e.push(s)}for(let l of e)n=n.insertAfter(l)}class _n extends zn{static getType(){return"linebreak"}static clone(e){return new _n(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t=e.parentElement,s,l;return t!==null&&((s=t.firstChild)===e||s.nextSibling===e&&s.nodeType===3&&(s.textContent||"").match(/^( |\t|\r?\n)+$/)!==null)&&((l=t.lastChild)===e||l.previousSibling===e&&l.nodeType===3&&(l.textContent||"").match(/^( |\t|\r?\n)+$/)!==null)?null:{conversion:Su,priority:0}}}}static importJSON(){return mn()}exportJSON(){return{type:"linebreak",version:1}}}function Su(){return{node:mn()}}function mn(){return Pn(new _n)}function en(n){return n instanceof _n}function _i(n,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function mi(n,e){return e&1?"strong":e&2?"em":"span"}function yi(n,e,t,s,l){n=s.classList,s=kn(l,"base"),s!==void 0&&n.add(...s),s=kn(l,"underlineStrikethrough");let u=!1,c=e&8&&e&4;var T=t&8&&t&4;s!==void 0&&(T?(u=!0,c||n.add(...s)):c&&n.remove(...s));for(let U in ue)T=ue[U],s=kn(l,U),s!==void 0&&(t&T?!u||U!=="underline"&&U!=="strikethrough"?(!(e&T)||c&&U==="underline"||U==="strikethrough")&&n.add(...s):e&T&&n.remove(...s):e&T&&n.remove(...s))}function vi(n,e,t){let s=e.firstChild;if(t=t.isComposing(),n+=t?re:"",s==null)e.textContent=n;else if(e=s.nodeValue,e!==n)if(t||d){t=e.length;let l=n.length,u=0,c=0;for(;u<t&&u<l&&e[u]===n[u];)u++;for(;c+u<t&&c+u<l&&e[t-c-1]===n[l-c-1];)c++;n=[u,t-u-c,n.slice(u,l-c)];let[T,U,Y]=n;U!==0&&s.deleteData(T,U),s.insertData(T,Y)}else s.nodeValue=n}function Er(n,e){return e=document.createElement(e),e.appendChild(n),e}class tn extends zn{static getType(){return"text"}static clone(e){return new tn(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return ft[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ht()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=ue[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){let s=this.getLatest().__format;return Gr(s,e,t)}createDOM(e){var t=this.__format,s=_i(this,t);let l=mi(this,t),u=document.createElement(s===null?l:s),c=u;return this.hasFormat("code")&&u.setAttribute("spellcheck","false"),s!==null&&(c=document.createElement(l),u.appendChild(c)),s=c,vi(this.__text,s,this),e=e.theme.text,e!==void 0&&yi(l,0,t,s,e),t=this.__style,t!==""&&(u.style.cssText=t),u}updateDOM(e,t,s){let l=this.__text;var u=e.__format,c=this.__format,T=_i(this,u);let U=_i(this,c);var Y=mi(this,u);let oe=mi(this,c);return(T===null?Y:T)!==(U===null?oe:U)?!0:T===U&&Y!==oe?(u=t.firstChild,u==null&&K(48),e=T=document.createElement(oe),vi(l,e,this),s=s.theme.text,s!==void 0&&yi(oe,0,c,e,s),t.replaceChild(T,u),!1):(Y=t,U!==null&&T!==null&&(Y=t.firstChild,Y==null&&K(49)),vi(l,Y,this),s=s.theme.text,s!==void 0&&u!==c&&yi(oe,u,c,Y,s),c=this.__style,e.__style!==c&&(t.style.cssText=c),!1)}static importDOM(){return{"#text":()=>({conversion:Ru,priority:0}),b:()=>({conversion:Au,priority:0}),code:()=>({conversion:jt,priority:0}),em:()=>({conversion:jt,priority:0}),i:()=>({conversion:jt,priority:0}),s:()=>({conversion:jt,priority:0}),span:()=>({conversion:Ou,priority:0}),strong:()=>({conversion:jt,priority:0}),sub:()=>({conversion:jt,priority:0}),sup:()=>({conversion:jt,priority:0}),u:()=>({conversion:jt,priority:0})}}static importJSON(e){let t=Ze(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&fr(e)||K(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Er(e,"b")),this.hasFormat("italic")&&(e=Er(e,"i")),this.hasFormat("strikethrough")&&(e=Er(e,"s")),this.hasFormat("underline")&&(e=Er(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format=typeof e=="string"?ue[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail=typeof e=="string"?pe[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){let t=this.getFormat();return e=Gr(t,e,null),this.setFormat(e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=Te[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){qe();let s=Re();var l=this.getTextContent();let u=this.__key;if(typeof l=="string"?(l=l.length,e===void 0&&(e=l),t===void 0&&(t=l)):t=e=0,Ne(s))l=Ht(),l!==s.anchor.key&&l!==s.focus.key||je(u),s.setTextNodeRange(this,e,this,t);else return gs(u,e,u,t,"text","text");return s}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,s,l){let u=this.getWritable(),c=u.__text,T=s.length,U=e;0>U&&(U=T+U,0>U&&(U=0));let Y=Re();return l&&Ne(Y)&&(e+=T,Y.setTextNodeRange(u,e,u,e)),t=c.slice(0,U)+s+c.slice(U+t),u.__text=t,u}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){qe();var t=this.getLatest(),s=t.getTextContent(),l=t.__key,u=Ht(),c=new Set(e);e=[];for(var T=s.length,U="",Y=0;Y<T;Y++)U!==""&&c.has(Y)&&(e.push(U),U=""),U+=s[Y];if(U!==""&&e.push(U),c=e.length,c===0)return[];if(e[0]===s)return[t];var oe=e[0];s=t.getParentOrThrow(),Y=t.getFormat();let ae=t.getStyle(),ne=t.__detail;T=!1,t.isSegmented()?(U=Ze(oe),U.__format=Y,U.__style=ae,U.__detail=ne,T=!0):(U=t.getWritable(),U.__text=oe),t=Re(),U=[U],oe=oe.length;for(let _e=1;_e<c;_e++){var Q=e[_e],de=Q.length;Q=Ze(Q).getWritable(),Q.__format=Y,Q.__style=ae,Q.__detail=ne;let Ce=Q.__key;if(de=oe+de,Ne(t)){let be=t.anchor,Fe=t.focus;be.key===l&&be.type==="text"&&be.offset>oe&&be.offset<=de&&(be.key=Ce,be.offset-=oe,t.dirty=!0),Fe.key===l&&Fe.type==="text"&&Fe.offset>oe&&Fe.offset<=de&&(Fe.key=Ce,Fe.offset-=oe,t.dirty=!0)}u===l&&je(Ce),oe=de,U.push(Q)}return l=this.getPreviousSibling(),u=this.getNextSibling(),l!==null&&ar(l),u!==null&&ar(u),l=s.getWritable(),u=this.getIndexWithinParent(),T?(l.splice(u,0,U),this.remove()):l.splice(u,1,U),Ne(t)&&Tr(t,s,u,c-1),U}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||K(50);var s=this.__key;let l=e.__key,u=this.__text,c=u.length;Ht()===l&&je(s);let T=Re();if(Ne(T)){let U=T.anchor,Y=T.focus;U!==null&&U.key===l&&(ps(U,t,s,e,c),T.dirty=!0),Y!==null&&Y.key===l&&(ps(Y,t,s,e,c),T.dirty=!0)}return s=e.__text,this.setTextContent(t?s+u:u+s),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Ou(n){let e=n.style.fontWeight==="700",t=n.style.textDecoration==="line-through",s=n.style.fontStyle==="italic",l=n.style.textDecoration==="underline",u=n.style.verticalAlign;return{forChild:c=>(ye(c)&&(e&&c.toggleFormat("bold"),t&&c.toggleFormat("strikethrough"),s&&c.toggleFormat("italic"),l&&c.toggleFormat("underline"),u==="sub"&&c.toggleFormat("subscript"),u==="super"&&c.toggleFormat("superscript")),c),node:null}}function Au(n){let e=n.style.fontWeight==="normal";return{forChild:t=>(ye(t)&&!e&&t.toggleFormat("bold"),t),node:null}}let ts=new WeakMap;function Ru(n){n.parentElement===null&&K(129);for(var e=n.textContent||"",t,s=n.parentNode,l=[n];s!==null&&(t=ts.get(s))===void 0&&!(s.nodeName==="PRE"||s.nodeType===1&&s.style!==void 0&&s.style.whiteSpace!==void 0&&s.style.whiteSpace.startsWith("pre"));)l.push(s),s=s.parentNode;for(t=t===void 0?s:t,s=0;s<l.length;s++)ts.set(l[s],t);if(t!==null){for(e=e.split(/(\r?\n|\t)/),n=[],l=e.length,t=0;t<l;t++)s=e[t],s===`
`||s===`\r
`?n.push(mn()):s==="	"?n.push(Cr()):s!==""&&n.push(Ze(s));return{node:n}}if(e=e.replace(/\r/g,"").replace(/[ \t\n]+/g," "),e==="")return{node:null};if(e[0]===" "){for(l=n,t=!0;l!==null&&(l=ns(l,!1))!==null;)if(s=l.textContent||"",0<s.length){/[ \t\n]$/.test(s)&&(e=e.slice(1)),t=!1;break}t&&(e=e.slice(1))}if(e[e.length-1]===" "){for(l=!0;n!==null&&(n=ns(n,!0))!==null;)if(0<(n.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){l=!1;break}l&&(e=e.slice(0,e.length-1))}return e===""?{node:null}:{node:Ze(e)}}let Mu=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function ns(n,e){for(;;){for(var t=void 0;(t=e?n.nextSibling:n.previousSibling)===null;)if(n=n.parentElement,n===null)return null;if(n=t,n.nodeType===1&&(t=n.style.display,t===""&&n.nodeName.match(Mu)===null||t!==""&&!t.startsWith("inline")))return null;for(;(t=e?n.firstChild:n.lastChild)!==null;)n=t;if(n.nodeType===3)return n;if(n.nodeName==="BR")return null}}let ku={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function jt(n){let e=ku[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:t=>(ye(t)&&!t.hasFormat(e)&&t.toggleFormat(e),t),node:null}}function Ze(n=""){return Pn(new tn(n))}function ye(n){return n instanceof tn}class yn extends tn{static getType(){return"tab"}static clone(e){let t=new yn(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=Cr();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){K(126)}setDetail(){K(127)}setMode(){K(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Cr(){return Pn(new yn)}function rs(n){return n instanceof yn}class Tt{constructor(e,t,s){this._selection=null,this.key=e,this.offset=t,this.type=s}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),s=e.getNode(),l=this.offset;if(e=e.offset,ce(t)){var u=t.getDescendantByIndex(l);t=u??t}return ce(s)&&(u=s.getDescendantByIndex(e),s=u??s),t===s?l<e:t.isBefore(s)}getNode(){let e=We(this.key);return e===null&&K(20),e}set(e,t,s){let l=this._selection,u=this.key;this.key=e,this.offset=t,this.type=s,En()||(Ht()===u&&je(e),l!==null&&(l.setCachedNodes(null),l.dirty=!0))}}function Ei(n,e){let t=e.__key,s=n.offset,l="element";if(ye(e))l="text",e=e.getTextContentSize(),s>e&&(s=e);else if(!ce(e)){var u=e.getNextSibling();ye(u)?(t=u.__key,s=0,l="text"):(u=e.getParent())&&(t=u.__key,s=e.getIndexWithinParent()+1)}n.set(t,s,l)}function is(n,e){if(ce(e)){let t=e.getLastDescendant();ce(t)||ye(t)?Ei(n,t):Ei(n,e)}else Ei(n,e)}function os(n,e,t,s){let l=n.getNode(),u=l.getChildAtIndex(n.offset),c=Ze(),T=ut(l)?Dt().append(c):c;c.setFormat(t),c.setStyle(s),u===null?l.append(T):u.insertBefore(T),n.is(e)&&e.set(c.__key,0,"text"),n.set(c.__key,0,"text")}function Wt(n,e,t,s){n.key=e,n.offset=t,n.type=s}class Ci{constructor(e,t){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Ni(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}isCollapsed(){return!1}extract(){return this.getNodes()}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Ti(this)}}class Nr{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Kn(e))return!1;let t=this._nodes,s=e._nodes;return t.size===s.size&&Array.from(t).every(l=>s.has(l))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Nr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let t=this.getNodes(),s=t.length;var l=t[s-1];if(ye(l))l=l.select();else{let u=l.getIndexWithinParent()+1;l=l.getParentOrThrow().select(u,u)}for(l.insertNodes(e),e=0;e<s;e++)t[e].remove()}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var t=this._nodes;e=[];for(let s of t)t=We(s),t!==null&&e.push(t);return En()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let s=0;s<e.length;s++)t+=e[s].getTextContent();return t}}function Ne(n){return n instanceof nn}function Ni(n){return n instanceof Ci}function bi(n){let[e,,t]=ms(n);n=t.getChildren();let s=n.length;var l=n[0].getChildren().length;let u=Array(s);for(var c=0;c<s;c++)u[c]=Array(l);for(l=0;l<s;l++){c=n[l].getChildren();let T=0;for(let U=0;U<c.length;U++){for(;u[l][T];)T++;let Y=c[U],oe=Y.__rowSpan||1,ae=Y.__colSpan||1;for(let ne=0;ne<oe;ne++)for(let Q=0;Q<ae;Q++)u[l+ne][T+Q]=Y;if(e===Y)return{colSpan:ae,columnIndex:T,rowIndex:l,rowSpan:oe};T+=ae}}return null}class br extends Ci{constructor(e,t,s){super(t,s),this.gridKey=e}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return ss(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,t,s){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=s,this._cachedNodes=null}clone(){return new br(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let t=this.focus.getNode();Kr(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){var e=We(this.anchor.key);if(pt(e)||K(103),e=bi(e),e===null)throw Error("getCellRect: expected to find AnchorNode");var t=We(this.focus.key);pt(t)||K(104);let s=bi(t);if(s===null)throw Error("getCellRect: expected to find focusCellNode");t=Math.min(e.columnIndex,s.columnIndex);let l=Math.max(e.columnIndex,s.columnIndex),u=Math.min(e.rowIndex,s.rowIndex);return e=Math.max(e.rowIndex,s.rowIndex),{fromX:Math.min(t,l),fromY:Math.min(u,e),toX:Math.max(t,l),toY:Math.max(u,e)}}getNodes(){function e(Ce){let{cell:be,startColumn:Fe,startRow:ct}=Ce;Y=Math.min(Y,Fe),oe=Math.min(oe,ct),ae=Math.max(ae,Fe+be.__colSpan-1),ne=Math.max(ne,ct+be.__rowSpan-1)}var t=this._cachedNodes;if(t!==null)return t;var s=this.anchor.getNode();t=this.focus.getNode();var l=gr(s,pt);s=gr(t,pt),pt(l)||K(103),pt(s)||K(104),t=l.getParent(),Yn(t)||K(105),t=t.getParent(),ki(t)||K(106);var u=s.getParents()[1];if(u!==t){if(t.isParentOf(s)){if(t=u.getParent(),t==null)throw Error("Expected focusCellParent to have a parent");this.set(this.gridKey,s.getKey(),t.getKey())}else{if(t=t.getParent(),t==null)throw Error("Expected gridParent to have a parent");this.set(this.gridKey,t.getKey(),s.getKey())}return this.getNodes()}let[c,T,U]=_s(t,l,s),Y=Math.min(T.startColumn,U.startColumn),oe=Math.min(T.startRow,U.startRow),ae=Math.max(T.startColumn+T.cell.__colSpan-1,U.startColumn+U.cell.__colSpan-1),ne=Math.max(T.startRow+T.cell.__rowSpan-1,U.startRow+U.cell.__rowSpan-1);s=Y,l=oe,u=Y;for(var Q=oe;Y<s||oe<l||ae>u||ne>Q;){if(Y<s){var de=Q-l;--s;for(var _e=0;_e<=de;_e++)e(c[l+_e][s])}if(oe<l)for(de=u-s,--l,_e=0;_e<=de;_e++)e(c[l][s+_e]);if(ae>u)for(de=Q-l,u+=1,_e=0;_e<=de;_e++)e(c[l+_e][u]);if(ne>Q)for(de=u-s,Q+=1,_e=0;_e<=de;_e++)e(c[Q][s+_e])}for(t=[t],s=null,l=oe;l<=ne;l++)for(u=Y;u<=ae;u++)({cell:Q}=c[l][u]),de=Q.getParent(),Yn(de)||K(107),de!==s&&t.push(de),t.push(Q,...pu(Q)),s=de;return En()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let s=0;s<e.length;s++)t+=e[s].getTextContent();return t}}function ss(n){return n instanceof br}class nn extends Ci{constructor(e,t,s,l){super(e,t),this.format=s,this.style=l}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return Ne(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var t=this.focus,s=e.isBefore(t),l=s?e:t;s=s?t:e,e=l.getNode(),t=s.getNode();let u=l.offset;return l=s.offset,ce(e)&&(s=e.getDescendantByIndex(u),e=s??e),ce(t)&&(s=t.getDescendantByIndex(l),s!==null&&s!==e&&t.getChildAtIndex(l)===s&&(s=s.getPreviousSibling()),t=s??t),e=e.is(t)?ce(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),En()||(this._cachedNodes=e),e}setTextNodeRange(e,t,s,l){Wt(this.anchor,e.__key,t,"text"),Wt(this.focus,s.__key,l,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let t=e[0],s=e[e.length-1],l=this.anchor,u=this.focus,c=l.isBefore(u),[T,U]=Ti(this),Y="",oe=!0;for(let ae=0;ae<e.length;ae++){let ne=e[ae];if(ce(ne)&&!ne.isInline())oe||(Y+=`
`),oe=!ne.isEmpty();else if(oe=!1,ye(ne)){let Q=ne.getTextContent();ne===t?ne===s?(l.type!=="element"||u.type!=="element"||u.offset===l.offset)&&(Q=T<U?Q.slice(T,U):Q.slice(U,T)):Q=c?Q.slice(T):Q.slice(U):ne===s&&(Q=c?Q.slice(0,U):Q.slice(0,T)),Y+=Q}else!$e(ne)&&!en(ne)||ne===s&&this.isCollapsed()||(Y+=ne.getTextContent())}return Y}applyDOMRange(e){let t=Ie(),s=t.getEditorState()._selection;if(e=hs(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,s),e!==null){var[l,u]=e;Wt(this.anchor,l.key,l.offset,l.type),Wt(this.focus,u.key,u.offset,u.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new nn(new Tt(e.key,e.offset,e.type),new Tt(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Gr(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&ue[e])!==0}insertRawText(e){e=e.split(/(\r?\n|\t)/);let t=[],s=e.length;for(let l=0;l<s;l++){let u=e[l];u===`
`||u===`\r
`?t.push(mn()):u==="	"?t.push(Cr()):t.push(Ze(u))}this.insertNodes(t)}insertText(e){var t=this.anchor,s=this.focus,l=this.isCollapsed()||t.isBefore(s),u=this.format,c=this.style;l&&t.type==="element"?os(t,s,u,c):l||s.type!=="element"||os(s,t,u,c);var T=this.getNodes(),U=T.length,Y=l?s:t;s=(l?t:s).offset;var oe=Y.offset;t=T[0],ye(t)||K(26),l=t.getTextContent().length;var ae=t.getParentOrThrow(),ne=T[U-1];if(this.isCollapsed()&&s===l&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!ae.canInsertTextAfter()&&t.getNextSibling()===null)){var Q=t.getNextSibling();if(ye(Q)&&Q.canInsertTextBefore()&&!Yr(Q)||(Q=Ze(),Q.setFormat(u),ae.canInsertTextAfter()?t.insertAfter(Q):ae.insertAfter(Q)),Q.select(0,0),t=Q,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&s===0&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!ae.canInsertTextBefore()&&t.getPreviousSibling()===null)){if(Q=t.getPreviousSibling(),(!ye(Q)||Yr(Q))&&(Q=Ze(),Q.setFormat(u),ae.canInsertTextBefore()?t.insertBefore(Q):ae.insertBefore(Q)),Q.select(),t=Q,e!==""){this.insertText(e);return}}else if(t.isSegmented()&&s!==l)ae=Ze(t.getTextContent()),ae.setFormat(u),t.replace(ae),t=ae;else if(!(this.isCollapsed()||e===""||(Q=ne.getParent(),ae.canInsertTextBefore()&&ae.canInsertTextAfter()&&(!ce(Q)||Q.canInsertTextBefore()&&Q.canInsertTextAfter())))){this.insertText(""),ds(this.anchor,this.focus,null),this.insertText(e);return}if(U===1)if(t.isToken())e=Ze(e),e.select(),t.replace(e);else{if(T=t.getFormat(),U=t.getStyle(),s===oe&&(T!==u||U!==c))if(t.getTextContent()==="")t.setFormat(u),t.setStyle(c);else{T=Ze(e),T.setFormat(u),T.setStyle(c),T.select(),s===0?t.insertBefore(T,!1):([U]=t.splitText(s),U.insertAfter(T,!1)),T.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}else if(rs(t)){e=Ze(e),e.setFormat(u),e.setStyle(c),e.select(),t.replace(e);return}t=t.spliceText(s,oe-s,e,!0),t.getTextContent()===""?t.remove():this.anchor.type==="text"&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=T,this.style=U))}else{if(u=new Set([...t.getParentKeys(),...ne.getParentKeys()]),Q=ce(t)?t:t.getParentOrThrow(),c=ce(ne)?ne:ne.getParentOrThrow(),ae=ne,!Q.is(c)&&c.isInline())do ae=c,c=c.getParentOrThrow();while(c.isInline());if(Y.type==="text"&&(oe!==0||ne.getTextContent()==="")||Y.type==="element"&&ne.getIndexWithinParent()<oe)if(ye(ne)&&!ne.isToken()&&oe!==ne.getTextContentSize()){if(ne.isSegmented()){var de=Ze(ne.getTextContent());ne.replace(de),ne=de}ut(Y.getNode())||Y.type!=="text"||(ne=ne.spliceText(0,oe,"")),u.add(ne.__key)}else Y=ne.getParentOrThrow(),Y.canBeEmpty()||Y.getChildrenSize()!==1?ne.remove():Y.remove();else u.add(ne.__key);for(Y=c.getChildren(),oe=new Set(T),ne=Q.is(c),Q=Q.isInline()&&t.getNextSibling()===null?Q:t,de=Y.length-1;0<=de;de--){let _e=Y[de];if(_e.is(t)||ce(_e)&&_e.isParentOf(t))break;_e.isAttached()&&(!oe.has(_e)||_e.is(ae)?ne||Q.insertAfter(_e,!1):_e.remove())}if(!ne)for(Y=c,c=null;Y!==null;)oe=Y.getChildren(),ne=oe.length,(ne===0||oe[ne-1].is(c))&&(u.delete(Y.__key),c=Y),Y=Y.getParent();for(t.isToken()?s===l?t.select():(e=Ze(e),e.select(),t.replace(e)):(t=t.spliceText(s,l-s,e,!0),t.getTextContent()===""?t.remove():t.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<U;e++)t=T[e],u.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),je(null);else{var t=this.getNodes(),s=[];for(var l of t)ye(l)&&s.push(l);var u=s.length;if(u===0)this.toggleFormat(e),je(null);else{l=this.anchor;var c=this.focus,T=this.isBackward();t=T?c:l,l=T?l:c;var U=0,Y=s[0];if(c=t.type==="element"?0:t.offset,t.type==="text"&&c===Y.getTextContentSize()&&(U=1,Y=s[1],c=0),Y!=null){T=Y.getFormatFlags(e,null);var oe=u-1,ae=s[oe];if(u=l.type==="text"?l.offset:ae.getTextContentSize(),Y.is(ae))c!==u&&(c===0&&u===Y.getTextContentSize()?Y.setFormat(T):(e=Y.splitText(c,u),e=c===0?e[0]:e[1],e.setFormat(T),t.type==="text"&&t.set(e.__key,0,"text"),l.type==="text"&&l.set(e.__key,u-c,"text")),this.format=T);else{c!==0&&([,Y]=Y.splitText(c),c=0),Y.setFormat(T);var ne=ae.getFormatFlags(e,T);for(0<u&&(u!==ae.getTextContentSize()&&([ae]=ae.splitText(u)),ae.setFormat(ne)),U+=1;U<oe;U++){let Q=s[U];if(!Q.isToken()){let de=Q.getFormatFlags(e,ne);Q.setFormat(de)}}t.type==="text"&&t.set(Y.__key,c,"text"),l.type==="text"&&l.set(ae.__key,u,"text"),this.format=T|ne}}}}}insertNodes(e){if(e.length!==0){if(this.anchor.key==="root"){this.insertParagraph();var t=Re();if(!Ne(t))throw Error("Expected RangeSelection after insertParagraph");return t.insertNodes(e)}var s=ni(this.anchor.getNode(),In);if(t=e[e.length-1],"__language"in s)if("__language"in e[0])this.insertText(e[0].getTextContent());else{var l=Si(this);s.splice(l,0,e),t.selectEnd()}else if(e.some(T=>(ce(T)||$e(T))&&!T.isInline())){t=Du(e),e=t.getLastDescendant();var u=t.getChildren();t=ce(s)&&s.isEmpty()?null:this.insertParagraph(),l=u[u.length-1];var c=u[0];(T=>ce(T)&&In(T)&&!T.isEmpty()&&ce(s)&&(!s.isEmpty()||"__value"in s&&"__checked"in s))(c)&&(s.append(...c.getChildren()),c=u[1]),c&&xu(s,c),u=ni(e,In),t&&ce(u)&&("__value"in t&&"__checked"in t||In(l))&&(u.append(...t.getChildren()),t.remove()),ce(s)&&s.isEmpty()&&s.remove(),e.selectEnd(),e=ce(s)?s.getLastChild():null,en(e)&&u!==s&&e.remove()}else l=Si(this),s.splice(l,0,e),t.selectEnd()}}insertParagraph(){if(this.anchor.key==="root"){var e=Dt();return at().splice(this.anchor.offset,0,[e]),e.select(),e}var t=Si(this);return e=ni(this.anchor.getNode(),In),t=(t=e.getChildAtIndex(t))?[t,...t.getNextSiblings()]:[],(e=e.insertNewAfter(this,!1))?(e.append(...t),e.selectStart(),e):null}insertLineBreak(e){var t=mn();this.insertNodes([t]),e&&(e=t.getParentOrThrow(),t=t.getIndexWithinParent(),e.select(t,t))}extract(){var e=this.getNodes(),t=e.length,s=t-1,l=this.anchor;let u=this.focus;var c=e[0];let T=e[s],[U,Y]=Ti(this);return t===0?[]:t===1?ye(c)&&!this.isCollapsed()?(e=U>Y?Y:U,s=c.splitText(e,U>Y?U:Y),e=e===0?s[0]:s[1],e!=null?[e]:[]):[c]:(t=l.isBefore(u),ye(c)&&(l=t?U:Y,l===c.getTextContentSize()?e.shift():l!==0&&([,c]=c.splitText(l),e[0]=c)),ye(T)&&(c=T.getTextContent().length,t=t?Y:U,t===0?e.pop():t!==c&&([T]=T.splitText(t),e[s]=T)),e)}modify(e,t,s){var l=this.focus,u=this.anchor,c=e==="move",T=qr(l,t);if($e(T)&&!T.isIsolated())c&&T.isKeyboardSelectable()?(t=wi(),t.add(T.__key),Nt(t)):(e=t?T.getPreviousSibling():T.getNextSibling(),ye(e)?(T=e.__key,t=t?e.getTextContent().length:0,l.set(T,t,"text"),c&&u.set(T,t,"text")):(s=T.getParentOrThrow(),ce(e)?(s=e.__key,T=t?e.getChildrenSize():0):(T=T.getIndexWithinParent(),s=s.__key,t||T++),l.set(s,T,"element"),c&&u.set(s,T,"element")));else if(u=Ie(),l=bt(u._window)){var U=u._blockCursorElement,Y=u._rootElement;if(Y===null||U===null||!ce(T)||T.isInline()||T.canBeEmpty()||ti(U,u,Y),l.modify(e,t?"backward":"forward",s),0<l.rangeCount&&(T=l.getRangeAt(0),u=this.anchor.getNode(),u=ut(u)?u:Lo(u),this.applyDOMRange(T),this.dirty=!0,!c)){for(c=this.getNodes(),e=[],s=!1,U=0;U<c.length;U++)Y=c[U],dr(Y,u)?e.push(Y):s=!0;s&&0<e.length&&(t?(t=e[0],ce(t)?t.selectStart():t.getParentOrThrow().selectStart()):(t=e[e.length-1],ce(t)?t.selectEnd():t.getParentOrThrow().selectEnd())),(l.anchorNode!==T.startContainer||l.anchorOffset!==T.startOffset)&&(t=this.focus,c=this.anchor,l=c.key,T=c.offset,u=c.type,Wt(c,t.key,t.offset,t.type),Wt(t,l,T,u),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var s=this.anchor,l=this.focus,u=s.getNode();if(!e&&(s.type==="element"&&ce(u)&&s.offset===u.getChildrenSize()||s.type==="text"&&s.offset===u.getTextContentSize())){var c=u.getParent();if(c=u.getNextSibling()||(c===null?null:c.getNextSibling()),ce(c)&&c.isShadowRoot())return}if(c=qr(l,e),$e(c)&&!c.isIsolated()){c.isKeyboardSelectable()&&ce(u)&&u.getChildrenSize()===0?(u.remove(),e=wi(),e.add(c.__key),Nt(e)):(c.remove(),Ie().dispatchCommand(i,void 0));return}if(!e&&ce(c)&&ce(u)&&u.isEmpty()){u.remove(),c.selectStart();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&s.offset===0&&(s.type==="element"?s.getNode():s.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(c=l.type==="text"?l.getNode():null,u=s.type==="text"?s.getNode():null,c!==null&&c.isSegmented()){if(s=l.offset,l=c.getTextContentSize(),c.is(u)||e&&s!==l||!e&&s!==0){ls(c,e,s);return}}else if(u!==null&&u.isSegmented()&&(s=s.offset,l=u.getTextContentSize(),u.is(c)||e&&s!==0||!e&&s!==l)){ls(u,e,s);return}if(u=this.anchor,c=this.focus,s=u.getNode(),l=c.getNode(),s===l&&u.type==="text"&&c.type==="text"){var T=u.offset,U=c.offset;let Y=T<U;l=Y?T:U,U=Y?U:T,T=U-1,l!==T&&(s=s.getTextContent().slice(l,U),ko(s)||(e?c.offset=T:u.offset=T))}}}this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&ut(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Kn(n){return n instanceof Nr}function as(n){let e=n.offset;return n.type==="text"?e:(n=n.getNode(),e===n.getChildrenSize()?n.getTextContent().length:0)}function Ti(n){let e=n.anchor;return n=n.focus,e.type==="element"&&n.type==="element"&&e.key===n.key&&e.offset===n.offset?[0,0]:[as(e),as(n)]}function ls(n,e,t){let s=n.getTextContent().split(/(?=\s)/g),l=s.length,u=0,c=0;for(let T=0;T<l;T++){let U=s[T],Y=T===l-1;if(c=u,u+=U.length,e&&u===t||u>t||Y){s.splice(T,1),Y&&(c=void 0);break}}e=s.join("").trim(),e===""?n.remove():(n.setTextContent(e),n.select(c,c))}function us(n,e,t,s){var l=e;if(n.nodeType===1){let T=!1;var u=n.childNodes,c=u.length;l===c&&(T=!0,l=c-1);let U=u[l];if(c=!1,U===s._blockCursorElement?(U=u[l+1],c=!0):s._blockCursorElement!==null&&l--,s=gn(U),ye(s))l=T?s.getTextContentSize():0;else{if(u=gn(n),u===null)return null;if(ce(u)?(n=u.getChildAtIndex(l),(e=ce(n))&&(e=n.getParent(),e=t===null||e===null||!e.canBeEmpty()||e!==t.getNode()),e&&(t=T?n.getLastDescendant():n.getFirstDescendant(),t===null?(u=n,l=0):(n=t,u=ce(n)?n:n.getParentOrThrow())),ye(n)?(s=n,u=null,l=T?n.getTextContentSize():0):n!==u&&T&&!c&&l++):(l=u.getIndexWithinParent(),l=e===0&&$e(u)&&gn(n)===u?l:l+1,u=u.getParentOrThrow()),ce(u))return new Tt(u.__key,l,"element")}}else s=gn(n);return ye(s)?new Tt(s.__key,l,"text"):null}function cs(n,e,t){var s=n.offset,l=n.getNode();s===0?(s=l.getPreviousSibling(),l=l.getParent(),e?(t||!e)&&s===null&&ce(l)&&l.isInline()&&(e=l.getPreviousSibling(),ye(e)&&(n.key=e.__key,n.offset=e.getTextContent().length)):ce(s)&&!t&&s.isInline()?(n.key=s.__key,n.offset=s.getChildrenSize(),n.type="element"):ye(s)&&(n.key=s.__key,n.offset=s.getTextContent().length)):s===l.getTextContent().length&&(s=l.getNextSibling(),l=l.getParent(),e&&ce(s)&&s.isInline()?(n.key=s.__key,n.offset=0,n.type="element"):(t||e)&&s===null&&ce(l)&&l.isInline()&&!l.canInsertTextAfter()&&(e=l.getNextSibling(),ye(e)&&(n.key=e.__key,n.offset=0)))}function ds(n,e,t){if(n.type==="text"&&e.type==="text"){var s=n.isBefore(e);let l=n.is(e);cs(n,s,l),cs(e,!s,l),l&&(e.key=n.key,e.offset=n.offset,e.type=n.type),s=Ie(),s.isComposing()&&s._compositionKey!==n.key&&Ne(t)&&(s=t.anchor,t=t.focus,Wt(n,s.key,s.offset,s.type),Wt(e,t.key,t.offset,t.type))}}function hs(n,e,t,s,l,u){return n===null||t===null||!Rn(l,n,t)||(e=us(n,e,Ne(u)?u.anchor:null,l),e===null)||(s=us(t,s,Ne(u)?u.focus:null,l),s===null||e.type==="element"&&s.type==="element"&&(n=gn(n),t=gn(t),$e(n)&&$e(t)))?null:(ds(e,s,u),[e,s])}function gs(n,e,t,s,l,u){let c=wt();return n=new nn(new Tt(n,e,l),new Tt(t,s,u),0,""),n.dirty=!0,c._selection=n}function wi(){return new Nr(new Set)}function Pu(n){let e=n.getEditorState()._selection,t=bt(n._window);return Ne(e)||e==null?xi(e,t,n):e.clone()}function xi(n,e,t){var s=t._window;if(s===null)return null;var l=s.event,u=l?l.type:void 0;s=u==="selectionchange",l=!kt&&(s||u==="beforeinput"||u==="compositionstart"||u==="compositionend"||u==="click"&&l&&l.detail===3||u==="drop"||u===void 0);let c;if(!Ne(n)||l){if(e===null)return null;if(l=e.anchorNode,u=e.focusNode,c=e.anchorOffset,e=e.focusOffset,s&&Ne(n)&&!Rn(t,l,u))return n.clone()}else return n.clone();if(t=hs(l,c,u,e,t,n),t===null)return null;let[T,U]=t;return new nn(T,U,Ne(n)?n.format:0,Ne(n)?n.style:"")}function Re(){return wt()._selection}function vn(){return Ie()._editorState._selection}function Tr(n,e,t,s=1){var l=n.anchor,u=n.focus,c=l.getNode(),T=u.getNode();if(e.is(c)||e.is(T)){if(c=e.__key,n.isCollapsed())e=l.offset,(t<=e&&0<s||t<e&&0>s)&&(t=Math.max(0,e+s),l.set(c,t,"element"),u.set(c,t,"element"),fs(n));else{let Y=n.isBackward();T=Y?u:l;var U=T.getNode();l=Y?l:u,u=l.getNode(),e.is(U)&&(U=T.offset,(t<=U&&0<s||t<U&&0>s)&&T.set(c,Math.max(0,U+s),"element")),e.is(u)&&(e=l.offset,(t<=e&&0<s||t<e&&0>s)&&l.set(c,Math.max(0,e+s),"element"))}fs(n)}}function fs(n){var e=n.anchor,t=e.offset;let s=n.focus;var l=s.offset,u=e.getNode(),c=s.getNode();if(n.isCollapsed())ce(u)&&(c=u.getChildrenSize(),c=(l=t>=c)?u.getChildAtIndex(c-1):u.getChildAtIndex(t),ye(c)&&(t=0,l&&(t=c.getTextContentSize()),e.set(c.__key,t,"text"),s.set(c.__key,t,"text")));else{if(ce(u)){let T=u.getChildrenSize();t=(n=t>=T)?u.getChildAtIndex(T-1):u.getChildAtIndex(t),ye(t)&&(u=0,n&&(u=t.getTextContentSize()),e.set(t.__key,u,"text"))}ce(c)&&(t=c.getChildrenSize(),l=(e=l>=t)?c.getChildAtIndex(t-1):c.getChildAtIndex(l),ye(l)&&(c=0,e&&(c=l.getTextContentSize()),s.set(l.__key,c,"text")))}}function Iu(n,e){if(e=e.getEditorState()._selection,n=n._selection,Ne(n)){var t=n.anchor;let s=n.focus,l;t.type==="text"&&(l=t.getNode(),l.selectionTransform(e,n)),s.type==="text"&&(t=s.getNode(),l!==t&&t.selectionTransform(e,n))}}function wr(n,e,t,s,l){let u=null,c=0,T=null;s!==null?(u=s.__key,ye(s)?(c=s.getTextContentSize(),T="text"):ce(s)&&(c=s.getChildrenSize(),T="element")):l!==null&&(u=l.__key,ye(l)?T="text":ce(l)&&(T="element")),u!==null&&T!==null?n.set(u,c,T):(c=e.getIndexWithinParent(),c===-1&&(c=t.getChildrenSize()),n.set(t.__key,c,"element"))}function ps(n,e,t,s,l){n.type==="text"?(n.key=t,e||(n.offset+=l)):n.offset>s.getIndexWithinParent()&&--n.offset}function _s(n,e,t){let s=[],l=null,u=null;n=n.getChildren();for(let oe=0;oe<n.length;oe++){var c=n[oe];Yn(c)||K(108);var T=c.getChildren();c=0;for(let ae of T){for(pt(ae)||K(109);s[oe]!==void 0&&s[oe][c]!==void 0;)c++;T=oe;var U=c,Y=ae;let ne={cell:Y,startColumn:U,startRow:T},Q=Y.__rowSpan,de=Y.__colSpan;for(let _e=0;_e<Q;_e++){s[T+_e]===void 0&&(s[T+_e]=[]);for(let Ce=0;Ce<de;Ce++)s[T+_e][U+Ce]=ne}e.is(Y)&&(l=ne),t.is(Y)&&(u=ne),c+=ae.__colSpan}}return l===null&&K(110),u===null&&K(111),[s,l,u]}function ms(n){n instanceof Mi||(n instanceof zn?(n=gr(n,pt),pt(n)||K(114)):(n=gr(n.getNode(),pt),pt(n)||K(114)));let e=n.getParent();Yn(e)||K(115);let t=e.getParent();return ki(t)||K(116),[n,e,t]}function Si(n){n.isCollapsed()||n.removeText();var e=n.anchor,t=e.getNode();if(!ye(t))return e.offset;let s=t.getParent();return s?(t=t.splitText(e.offset),t.length===0?0:(e=e.offset===0?0:1,t=t[0].getIndexWithinParent()+e,!s.isInline()||t===0?t:((t=s.getChildAtIndex(t))&&s.insertNewAfter(n).append(t,...t.getNextSiblings()),s.getIndexWithinParent()+e))):(n=Dt(),at().append(n),n.select(),0)}function Du(n){let e=Dt(),t=null;for(let s=0;s<n.length;s++){let l=n[s],u=en(l);if(u||$e(l)&&l.isInline()||ce(l)&&l.isInline()||ye(l)||l.isParentRequired()){if(t===null&&(t=l.createParentElementNode(),e.append(t),u))continue;t!==null&&t.append(l)}else e.append(l),t=null}return e}let Ye=null,Ge=null,rt=!1,Oi=!1,jn=0,ys={characterData:!0,childList:!0,subtree:!0};function En(){return rt||Ye!==null&&Ye._readOnly}function qe(){rt&&K(13)}function wt(){return Ye===null&&K(15),Ye}function Ie(){return Ge===null&&K(16),Ge}function vs(n,e,t){var s=e.__type;let l=n._nodes.get(s);for(l===void 0&&K(30,s),n=t.get(s),n===void 0&&(n=Array.from(l.transforms),t.set(s,n)),t=n.length,s=0;s<t&&(n[s](e),e.isAttached());s++);}function Lu(n,e){e=e._dirtyLeaves,n=n._nodeMap;for(let t of e)e=n.get(t),ye(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&xo(e)}function $u(n,e){let t=e._dirtyLeaves,s=e._dirtyElements;n=n._nodeMap;let l=Ht(),u=new Map;var c=t;let T=c.size;for(var U=s,Y=U.size;0<T||0<Y;){if(0<T){e._dirtyLeaves=new Set;for(let oe of c)c=n.get(oe),ye(c)&&c.isAttached()&&c.isSimpleText()&&!c.isUnmergeable()&&xo(c),c!==void 0&&c!==void 0&&c.__key!==l&&c.isAttached()&&vs(e,c,u),t.add(oe);if(c=e._dirtyLeaves,T=c.size,0<T){jn++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let oe of U)U=oe[0],Y=oe[1],(U==="root"||Y)&&(c=n.get(U),c!==void 0&&c!==void 0&&c.__key!==l&&c.isAttached()&&vs(e,c,u),s.set(U,Y));c=e._dirtyLeaves,T=c.size,U=e._dirtyElements,Y=U.size,jn++}e._dirtyLeaves=t,e._dirtyElements=s}function Ai(n,e){var t=n.type,s=e.get(t);if(s===void 0&&K(17,t),t=s.klass,n.type!==t.getType()&&K(18,t.name),t=t.importJSON(n),n=n.children,ce(t)&&Array.isArray(n))for(s=0;s<n.length;s++){let l=Ai(n[s],e);t.append(l)}return t}function Es(n,e){let t=Ye,s=rt,l=Ge;Ye=n,rt=!0,Ge=null;try{return e()}finally{Ye=t,rt=s,Ge=l}}function rn(n,e){let t=n._pendingEditorState,s=n._rootElement,l=n._headless||s===null;if(t!==null){var u=n._editorState,c=u._selection,T=t._selection,U=n._dirtyType!==0,Y=Ye,oe=rt,ae=Ge,ne=n._updating,Q=n._observer,de=null;if(n._pendingEditorState=null,n._editorState=t,!l&&U&&Q!==null){Ge=n,Ye=t,rt=!1,n._updating=!0;try{let De=n._dirtyType,Xe=n._dirtyElements,et=n._dirtyLeaves;Q.disconnect();var _e=De,Ce=Xe,be=et;Qe=Pt=Ue="",Bo=_e===2,_r=null,Ve=n,zt=n._config,Dn=n._nodes,pr=Ve._listeners.mutation,ii=Ce,oi=be,qt=u._nodeMap,Kt=t._nodeMap,ri=t._readOnly,si=new Map(n._keyToDOMMap);let St=new Map;Ln=St,$n("root",null),Ln=si=zt=Kt=qt=oi=ii=Dn=Ve=void 0,de=St}catch(De){if(De instanceof Error&&n._onError(De),Oi)throw De;xs(n,null,s,t),bo(n),n._dirtyType=2,Oi=!0,rn(n,u),Oi=!1;return}finally{Q.observe(s,ys),n._updating=ne,Ye=Y,rt=oe,Ge=ae}}t._readOnly||(t._readOnly=!0);var Fe=n._dirtyLeaves,ct=n._dirtyElements,Gn=n._normalizedNodes,Lt=n._updateTags,Pi=n._deferred;U&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set);var As=n._decorators,Sr=n._pendingDecorators||As,zu=t._nodeMap,Ii;for(Ii in Sr)zu.has(Ii)||(Sr===As&&(Sr=Ro(n)),delete Sr[Ii]);var xt=l?null:bt(n._window);if(n._editable&&xt!==null&&(U||T===null||T.dirty)){Ge=n,Ye=t;try{if(Q!==null&&Q.disconnect(),U||T===null||T.dirty){let De=n._blockCursorElement;De!==null&&ti(De,n,s);e:{let Xe=xt.anchorNode,et=xt.focusNode,St=xt.anchorOffset,Jn=xt.focusOffset,_t=document.activeElement;if(!(Lt.has("collaboration")&&_t!==s||_t!==null&&jr(_t)))if(Ne(T)){var Zn=T.anchor,Di=T.focus,Rs=Zn.key,Ku=Di.key,Ms=ur(n,Rs),ks=ur(n,Ku),Or=Zn.offset,Ps=Di.offset,Li=T.format,$i=T.style,Is=T.isCollapsed(),Vn=Ms,Ar=ks,Fi=!1;if(Zn.type==="text"){Vn=sr(Ms);let vt=Zn.getNode();Fi=vt.getFormat()!==Li||vt.getStyle()!==$i}else Ne(c)&&c.anchor.type==="text"&&(Fi=!0);if(Di.type==="text"&&(Ar=sr(ks)),Vn!==null&&Ar!==null){if(Is&&(c===null||Fi||Ne(c)&&(c.format!==Li||c.style!==$i))){var ju=performance.now();Zo=[Li,$i,Or,Rs,ju]}if(St===Or&&Jn===Ps&&Xe===Vn&&et===Ar&&(xt.type!=="Range"||!Is)&&(_t!==null&&s.contains(_t)||s.focus({preventScroll:!0}),Zn.type!=="element"))break e;try{xt.setBaseAndExtent(Vn,Or,Ar,Ps)}catch{}if(!Lt.has("skip-scroll-into-view")&&T.isCollapsed()&&s!==null&&s===document.activeElement){let vt=T instanceof nn&&T.anchor.type==="element"?Vn.childNodes[Or]||null:0<xt.rangeCount?xt.getRangeAt(0):null;if(vt!==null){let mt;if(vt instanceof Text){let dt=document.createRange();dt.selectNode(vt),mt=dt.getBoundingClientRect()}else mt=vt.getBoundingClientRect();let Gt=s.ownerDocument,sn=Gt.defaultView;if(sn!==null)for(var{top:Bi,bottom:Hi}=mt,Rr,Mr,Yt=s;Yt!==null;){let dt=Yt===Gt.body;if(dt)Rr=0,Mr=hr(n).innerHeight;else{let kr=Yt.getBoundingClientRect();Rr=kr.top,Mr=kr.bottom}let an=0;if(Bi<Rr?an=-(Rr-Bi):Hi>Mr&&(an=Hi-Mr),an!==0)if(dt)sn.scrollBy(0,an);else{let kr=Yt.scrollTop;Yt.scrollTop+=an;let $s=Yt.scrollTop-kr;Bi-=$s,Hi-=$s}if(dt)break;Yt=cr(Yt)}}}hi=!0}}else c!==null&&Rn(n,Xe,et)&&xt.removeAllRanges()}}e:{let De=n._blockCursorElement;if(Ne(T)&&T.isCollapsed()&&T.anchor.type==="element"&&s.contains(document.activeElement)){let Xe=T.anchor,et=Xe.getNode(),St=Xe.offset,Jn=et.getChildrenSize(),_t=!1,vt=null;if(St===Jn){let mt=et.getChildAtIndex(St-1);ei(mt)&&(_t=!0)}else{let mt=et.getChildAtIndex(St);if(ei(mt)){let Gt=mt.getPreviousSibling();(Gt===null||ei(Gt))&&(_t=!0,vt=n.getElementByKey(mt.__key))}}if(_t){let mt=n.getElementByKey(et.__key);if(De===null){let Gt=n._config.theme,sn=document.createElement("div");sn.contentEditable="false",sn.setAttribute("data-lexical-cursor","true");let dt=Gt.blockCursor;if(dt!==void 0){if(typeof dt=="string"){let an=dt.split(" ");dt=Gt.blockCursor=an}dt!==void 0&&sn.classList.add(...dt)}n._blockCursorElement=De=sn}s.style.caretColor="transparent",vt===null?mt.appendChild(De):mt.insertBefore(De,vt);break e}}De!==null&&ti(De,n,s)}Q!==null&&Q.observe(s,ys)}finally{Ge=ae,Ye=Y}}if(de!==null){var Wu=de;let De=Array.from(n._listeners.mutation),Xe=De.length;for(let et=0;et<Xe;et++){let[St,Jn]=De[et],_t=Wu.get(Jn);_t!==void 0&&St(_t,{dirtyLeaves:Fe,prevEditorState:u,updateTags:Lt})}}Ne(T)||T===null||c!==null&&c.is(T)||n.dispatchCommand(i,void 0);var Ui=n._pendingDecorators;Ui!==null&&(n._decorators=Ui,n._pendingDecorators=null,Wn("decorator",n,!0,Ui));var Yu=Mo(e||u),Ds=Mo(t);if(Yu!==Ds&&Wn("textcontent",n,!0,Ds),Wn("update",n,!0,{dirtyElements:ct,dirtyLeaves:Fe,editorState:t,normalizedNodes:Gn,prevEditorState:e||u,tags:Lt}),n._deferred=[],Pi.length!==0){let De=n._updating;n._updating=!0;try{for(let Xe=0;Xe<Pi.length;Xe++)Pi[Xe]()}finally{n._updating=De}}var Ls=n._updates;if(Ls.length!==0){let De=Ls.shift();if(De){let[Xe,et]=De;Ns(n,Xe,et)}}}}function Wn(n,e,t,...s){let l=e._updating;e._updating=t;try{let u=Array.from(e._listeners[n]);for(n=0;n<u.length;n++)u[n].apply(null,s)}finally{e._updating=l}}function ge(n,e,t){if(n._updating===!1||Ge!==n){let u=!1;return n.update(()=>{u=ge(n,e,t)}),u}let s=Zr(n);for(let u=4;0<=u;u--)for(let c=0;c<s.length;c++){var l=s[c]._commands.get(e);if(l!==void 0&&(l=l[u],l!==void 0)){l=Array.from(l);let T=l.length;for(let U=0;U<T;U++)if(l[U](t,n)===!0)return!0}}return!1}function Cs(n,e){let t=n._updates;for(e=e||!1;t.length!==0;){var s=t.shift();if(s){let[l,u]=s,c;u!==void 0&&(s=u.onUpdate,c=u.tag,u.skipTransforms&&(e=!0),s&&n._deferred.push(s),c&&n._updateTags.add(c)),l()}}return e}function Ns(n,e,t){let s=n._updateTags;var l,u=l=!1;if(t!==void 0){var c=t.onUpdate;l=t.tag,l!=null&&s.add(l),l=t.skipTransforms||!1,u=t.discrete||!1}c&&n._deferred.push(c),t=n._editorState,c=n._pendingEditorState;let T=!1;(c===null||c._readOnly)&&(c=n._pendingEditorState=new xr(new Map((c||t)._nodeMap)),T=!0),c._flushSync=u,u=Ye;let U=rt,Y=Ge,oe=n._updating;Ye=c,rt=!1,n._updating=!0,Ge=n;try{T&&(n._headless?t._selection!=null&&(c._selection=t._selection.clone()):c._selection=Pu(n));let ae=n._compositionKey;e(),l=Cs(n,l),Iu(c,n),n._dirtyType!==0&&(l?Lu(c,n):$u(c,n),Cs(n),_u(t,c,n._dirtyLeaves,n._dirtyElements)),ae!==n._compositionKey&&(c._flushSync=!0);let ne=c._selection;if(Ne(ne)){let Q=c._nodeMap,de=ne.focus.key;Q.get(ne.anchor.key)!==void 0&&Q.get(de)!==void 0||K(19)}else Kn(ne)&&ne._nodes.size===0&&(c._selection=null)}catch(ae){ae instanceof Error&&n._onError(ae),n._pendingEditorState=t,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),rn(n);return}finally{Ye=u,rt=U,Ge=Y,n._updating=oe,jn=0}n._dirtyType!==0||Fu(c,n)?c._flushSync?(c._flushSync=!1,rn(n)):T&&hu(()=>{rn(n)}):(c._flushSync=!1,T&&(s.clear(),n._deferred=[],n._pendingEditorState=null))}function lt(n,e,t){n._updating?n._updates.push([e,t]):Ns(n,e,t)}class bs extends zn{constructor(e){super(e)}decorate(){K(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function $e(n){return n instanceof bs}class on extends zn{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return xe[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=Ie()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;t!==null;){if(ye(t)&&e.push(t),ce(t)){let s=t.getAllTextNodes();e.push(...s)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(ce(e)){let t=e.getFirstChild();if(t!==null){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(ce(e)){let t=e.getLastChild();if(t!==null){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),s=t.length;return e>=s?(e=t[s-1],ce(e)&&e.getLastDescendant()||e||null):(e=t[e],ce(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:We(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&K(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:We(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&K(96,this.__key),e}getChildAtIndex(e){var t=this.getChildrenSize();let s;if(e<t/2){for(s=this.getFirstChild(),t=0;s!==null&&t<=e;){if(t===e)return s;s=s.getNextSibling(),t++}return null}for(s=this.getLastChild(),--t;s!==null&&t>=e;){if(t===e)return s;s=s.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),s=t.length;for(let l=0;l<s;l++){let u=t[l];e+=u.getTextContent(),ce(u)&&l!==s-1&&!u.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,t=this.getChildren(),s=t.length;for(let l=0;l<s;l++){let u=t[l];e+=u.getTextContentSize(),ce(u)&&l!==s-1&&!u.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=ve[e],(this.getFormat()&e)!==0):!1}select(e,t){qe();let s=Re(),l=e,u=t;var c=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){if(e=this.getFirstChild(),ye(e)||ce(e))return e.select(0,0)}else if(!(e!==void 0&&e!==c||t!==void 0&&t!==c)&&(e=this.getLastChild(),ye(e)||ce(e)))return e.select()}if(l===void 0&&(l=c),u===void 0&&(u=c),c=this.__key,Ne(s))s.anchor.set(c,l,"element"),s.focus.set(c,u,"element"),s.dirty=!0;else return gs(c,l,c,u,"element","element");return s}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?ve[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,s){let l=s.length,u=this.getChildrenSize(),c=this.getWritable(),T=c.__key;var U=[],Y=[];let oe=this.getChildAtIndex(e+t),ae=null,ne=u-t+l;if(e!==0)if(e===u)ae=this.getLastChild();else{var Q=this.getChildAtIndex(e);Q!==null&&(ae=Q.getPreviousSibling())}if(0<t){var de=ae===null?this.getFirstChild():ae.getNextSibling();for(Q=0;Q<t;Q++){de===null&&K(100);var _e=de.getNextSibling(),Ce=de.__key;de=de.getWritable(),Qt(de),Y.push(Ce),de=_e}}for(Q=ae,_e=0;_e<l;_e++){Ce=s[_e],Q!==null&&Ce.is(Q)&&(ae=Q=Q.getPreviousSibling()),de=Ce.getWritable(),de.__parent===T&&ne--,Qt(de);let be=Ce.__key;Q===null?(c.__first=be,de.__prev=null):(Q=Q.getWritable(),Q.__next=be,de.__prev=Q.__key),Ce.__key===T&&K(76),de.__parent=T,U.push(be),Q=Ce}if(e+t===u?Q!==null&&(Q.getWritable().__next=null,c.__last=Q.__key):oe!==null&&(e=oe.getWritable(),Q!==null?(t=Q.getWritable(),e.__prev=Q.__key,t.__next=oe.__key):e.__prev=null),c.__size=ne,Y.length&&(e=Re(),Ne(e))){Y=new Set(Y),U=new Set(U);let{anchor:be,focus:Fe}=e;Ts(be,Y,U)&&wr(be,be.getNode(),this,ae,oe),Ts(Fe,Y,U)&&wr(Fe,Fe.getNode(),this,ae,oe),ne!==0||this.canBeEmpty()||Ut(this)||this.remove()}return c}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function ce(n){return n instanceof on}function Ts(n,e,t){for(n=n.getNode();n;){let s=n.__key;if(e.has(s)&&!t.has(s))return!0;n=n.getParent()}return!1}class Cn extends on{static getType(){return"root"}static clone(){return new Cn}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){K(51)}getTextContent(){let e=this.__cachedText;return!En()&&Ie()._dirtyType!==0||e===null?super.getTextContent():e}remove(){K(52)}replace(){K(53)}insertBefore(){K(54)}insertAfter(){K(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let s=e[t];ce(s)||$e(s)||K(56)}return super.append(...e)}static importJSON(e){let t=at();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ut(n){return n instanceof Cn}function Fu(n,e){if(e=e.getEditorState()._selection,n=n._selection,n!==null){if(n.dirty||!n.is(e))return!0}else if(e!==null)return!0;return!1}function Ri(){return new xr(new Map([["root",new Cn]]))}function ws(n){let e=n.exportJSON();var t=n.constructor;e.type!==t.getType()&&K(130,t.name);let s=e.children;if(ce(n))for(Array.isArray(s)||K(59,t.name),n=n.getChildren(),t=0;t<n.length;t++){let l=ws(n[t]);s.push(l)}return e}class xr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return Es(this,e)}clone(e){return e=new xr(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return Es(this,()=>({root:ws(at())}))}}class Nn extends on{static getType(){return"paragraph"}static clone(e){return new Nn(e.__key)}createDOM(e){let t=document.createElement("p");return e=kn(e.theme,"paragraph"),e!==void 0&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Bu,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&fr(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),t=this.getIndent(),0<t&&(e.style.textIndent=`${20*t}px`)}return{element:e}}static importJSON(e){let t=Dt();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=Dt();let s=this.getDirection();return e.setDirection(s),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||ye(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Bu(n){let e=Dt();return n.style&&(e.setFormat(n.style.textAlign),n=parseInt(n.style.textIndent,10)/20,0<n&&e.setIndent(n)),{node:e}}function Dt(){return Pn(new Nn)}function xs(n,e,t,s){let l=n._keyToDOMMap;l.clear(),n._editorState=Ri(),n._pendingEditorState=s,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null,s=n._observer,s!==null&&(s.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",l.set("root",t))}function Hu(n,e){let t=new Map,s=new Set,l=u=>{Object.keys(u).forEach(c=>{let T=t.get(c);T===void 0&&(T=[],t.set(c,T)),T.push(u[c])})};return n.forEach(u=>{u=u.klass.importDOM!=null?u.klass.importDOM.bind(u.klass):null,u==null||s.has(u)||(s.add(u),u=u(),u!==null&&l(u))}),e&&l(e),t}class Uu{constructor(e,t,s,l,u,c,T){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=l,this._nodes=s,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Po(),this._onError=u,this._htmlConversions=c,this._editable=T,this._headless=t!==null&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,s){s===void 0&&K(35);let l=this._commands;l.has(e)||l.set(e,[new Set,new Set,new Set,new Set,new Set]);let u=l.get(e);u===void 0&&K(36,String(e));let c=u[s];return c.add(t),()=>{c.delete(t),u.every(T=>T.size===0)&&l.delete(e)}}registerMutationListener(e,t){this._nodes.get(e.getType())===void 0&&K(37,e.name);let s=this._listeners.mutation;return s.set(t,e),()=>{s.delete(t)}}registerNodeTransformToKlass(e,t){var s=e.getType();return s=this._nodes.get(s),s===void 0&&K(37,e.name),s.transforms.add(t),s}registerNodeTransform(e,t){var s=this.registerNodeTransformToKlass(e,t);let l=[s];return s=s.replaceWithKlass,s!=null&&(s=this.registerNodeTransformToKlass(s,t),l.push(s)),gu(this,e.getType()),()=>{l.forEach(u=>u.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return ge(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let c=kn(this._config.theme,"root");var s=this._pendingEditorState||this._editorState;if(this._rootElement=e,xs(this,t,e,s),t!==null){if(!this._config.disableEvents){Bn!==0&&(Bn--,Bn===0&&t.ownerDocument.removeEventListener("selectionchange",es));var l=t.__lexicalEditor;if(l!=null){if(l._parentEditor!==null){var u=Zr(l);u=u[u.length-1]._key,pn.get(u)===l&&pn.delete(u)}else pn.delete(l._key);t.__lexicalEditor=null}for(l=Xo(t),u=0;u<l.length;u++)l[u]();t.__lexicalEventHandles=[]}c!=null&&t.classList.remove(...c)}e!==null?(s=(s=e.ownerDocument)&&s.defaultView||null,l=e.style,l.userSelect="text",l.whiteSpace="pre-wrap",l.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=2,bo(this),this._updateTags.add("history-merge"),rn(this),this._config.disableEvents||wu(e,this),c!=null&&e.classList.add(...c)):(this._editorState=s,this._window=this._pendingEditorState=null),Wn("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&K(38),No(this);let s=this._pendingEditorState,l=this._updateTags;t=t!==void 0?t.tag:null,s===null||s.isEmpty()||(t!=null&&l.add(t),rn(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,t!=null&&l.add(t),rn(this)}parseEditorState(e,t){e=typeof e=="string"?JSON.parse(e):e;let s=Ri(),l=Ye,u=rt,c=Ge,T=this._dirtyElements,U=this._dirtyLeaves,Y=this._cloneNotNeeded,oe=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,Ye=s,rt=!1,Ge=this;try{Ai(e.root,this._nodes),t&&t(),s._readOnly=!0}catch(ae){ae instanceof Error&&this._onError(ae)}finally{this._dirtyElements=T,this._dirtyLeaves=U,this._cloneNotNeeded=Y,this._dirtyType=oe,Ye=l,rt=u,Ge=c}return s}update(e,t){lt(this,e,t)}focus(e,t={}){let s=this._rootElement;s!==null&&(s.setAttribute("autocapitalize","off"),lt(this,()=>{let l=Re(),u=at();l!==null?l.dirty=!0:u.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?u.selectStart():u.selectEnd())},{onUpdate:()=>{s.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&s.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=bt(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Wn("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Mi extends on{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function pt(n){return n instanceof Mi}class Ss extends on{}function ki(n){return n instanceof Ss}class Os extends on{}function Yn(n){return n instanceof Os}return ee.$INTERNAL_isPointSelection=Ni,ee.$addUpdateTag=function(n){qe(),Ie()._updateTags.add(n)},ee.$applyNodeReplacement=Pn,ee.$copyNode=$o,ee.$createLineBreakNode=mn,ee.$createNodeSelection=wi,ee.$createParagraphNode=Dt,ee.$createRangeSelection=function(){let n=new Tt("root",0,"element"),e=new Tt("root",0,"element");return new nn(n,e,0,"")},ee.$createTabNode=Cr,ee.$createTextNode=Ze,ee.$getAdjacentNode=qr,ee.$getNearestNodeFromDOMNode=Mn,ee.$getNearestRootOrShadowRoot=Lo,ee.$getNodeByKey=We,ee.$getPreviousSelection=vn,ee.$getRoot=at,ee.$getSelection=Re,ee.$getTextContent=function(){let n=Re();return n===null?"":n.getTextContent()},ee.$hasAncestor=dr,ee.$hasUpdateTag=function(n){return Ie()._updateTags.has(n)},ee.$insertNodes=function(n){let e=Re()||vn();e===null&&(e=at().selectEnd()),e.insertNodes(n)},ee.$isBlockElementNode=function(n){return ce(n)&&!n.isInline()},ee.$isDecoratorNode=$e,ee.$isElementNode=ce,ee.$isInlineElementOrDecoratorNode=function(n){return ce(n)&&n.isInline()||$e(n)&&n.isInline()},ee.$isLeafNode=function(n){return ye(n)||en(n)||$e(n)},ee.$isLineBreakNode=en,ee.$isNodeSelection=Kn,ee.$isParagraphNode=function(n){return n instanceof Nn},ee.$isRangeSelection=Ne,ee.$isRootNode=ut,ee.$isRootOrShadowRoot=Ut,ee.$isTabNode=rs,ee.$isTextNode=ye,ee.$nodesOfType=function(n){var e=wt();let t=e._readOnly,s=n.getType();e=e._nodeMap;let l=[];for(let[,u]of e)u instanceof n&&u.__type===s&&(t||u.isAttached())&&l.push(u);return l},ee.$normalizeSelection__EXPERIMENTAL=Kr,ee.$parseSerializedNode=function(n){return Ai(n,Ie()._nodes)},ee.$selectAll=function(){var n=at();n=n.select(0,n.getChildrenSize()),Nt(Kr(n))},ee.$setCompositionKey=je,ee.$setSelection=Nt,ee.$splitNode=function(n,e){let t=n.getChildAtIndex(e);t==null&&(t=n),Ut(n)&&K(102);let s=c=>{const T=c.getParentOrThrow(),U=Ut(T),Y=c!==t||U?$o(c):c;if(U)return c.insertAfter(Y),[c,Y,Y];const[oe,ae,ne]=s(T);return c=c.getNextSiblings(),ne.append(Y,...c),[oe,ae,Y]},[l,u]=s(t);return[l,u]},ee.BLUR_COMMAND=$,ee.CAN_REDO_COMMAND={},ee.CAN_UNDO_COMMAND={},ee.CLEAR_EDITOR_COMMAND={},ee.CLEAR_HISTORY_COMMAND={},ee.CLICK_COMMAND=r,ee.COMMAND_PRIORITY_CRITICAL=4,ee.COMMAND_PRIORITY_EDITOR=0,ee.COMMAND_PRIORITY_HIGH=3,ee.COMMAND_PRIORITY_LOW=1,ee.COMMAND_PRIORITY_NORMAL=2,ee.CONTROLLED_TEXT_INSERTION_COMMAND=g,ee.COPY_COMMAND=G,ee.CUT_COMMAND=le,ee.DELETE_CHARACTER_COMMAND=o,ee.DELETE_LINE_COMMAND=b,ee.DELETE_WORD_COMMAND=x,ee.DEPRECATED_$computeGridMap=_s,ee.DEPRECATED_$createGridSelection=function(){let n=new Tt("root",0,"element"),e=new Tt("root",0,"element");return new br("root",n,e)},ee.DEPRECATED_$getGridCellNodeRect=bi,ee.DEPRECATED_$getNodeTriplet=ms,ee.DEPRECATED_$isGridCellNode=pt,ee.DEPRECATED_$isGridNode=ki,ee.DEPRECATED_$isGridRowNode=Yn,ee.DEPRECATED_$isGridSelection=ss,ee.DEPRECATED_GridCellNode=Mi,ee.DEPRECATED_GridNode=Ss,ee.DEPRECATED_GridRowNode=Os,ee.DRAGEND_COMMAND=Ee,ee.DRAGOVER_COMMAND=ie,ee.DRAGSTART_COMMAND=P,ee.DROP_COMMAND=R,ee.DecoratorNode=bs,ee.ElementNode=on,ee.FOCUS_COMMAND=M,ee.FORMAT_ELEMENT_COMMAND={},ee.FORMAT_TEXT_COMMAND=N,ee.INDENT_CONTENT_COMMAND={},ee.INSERT_LINE_BREAK_COMMAND=a,ee.INSERT_PARAGRAPH_COMMAND=f,ee.INSERT_TAB_COMMAND={},ee.KEY_ARROW_DOWN_COMMAND=w,ee.KEY_ARROW_LEFT_COMMAND=C,ee.KEY_ARROW_RIGHT_COMMAND=p,ee.KEY_ARROW_UP_COMMAND=y,ee.KEY_BACKSPACE_COMMAND=z,ee.KEY_DELETE_COMMAND=X,ee.KEY_DOWN_COMMAND=D,ee.KEY_ENTER_COMMAND=k,ee.KEY_ESCAPE_COMMAND=q,ee.KEY_MODIFIER_COMMAND=j,ee.KEY_SPACE_COMMAND=I,ee.KEY_TAB_COMMAND=B,ee.LineBreakNode=_n,ee.MOVE_TO_END=_,ee.MOVE_TO_START=A,ee.OUTDENT_CONTENT_COMMAND={},ee.PASTE_COMMAND=m,ee.ParagraphNode=Nn,ee.REDO_COMMAND=S,ee.REMOVE_TEXT_COMMAND=v,ee.RootNode=Cn,ee.SELECTION_CHANGE_COMMAND=i,ee.SELECT_ALL_COMMAND=W,ee.TabNode=yn,ee.TextNode=tn,ee.UNDO_COMMAND=O,ee.createCommand=function(){return{}},ee.createEditor=function(n){var e=n||{},t=Ge,s=e.theme||{};let l=n===void 0?t:e.parentEditor||null,u=e.disableEvents||!1,c=Ri(),T=e.namespace||(l!==null?l._config.namespace:Po()),U=e.editorState,Y=[Cn,tn,_n,yn,Nn,...e.nodes||[]],{onError:oe,html:ae}=e;if(e=e.editable!==void 0?e.editable:!0,n===void 0&&t!==null)n=t._nodes;else for(n=new Map,t=0;t<Y.length;t++){let Q=Y[t],de=null;var ne=null;typeof Q!="function"&&(ne=Q,Q=ne.replace,de=ne.with,ne=ne.withKlass||null);let _e=Q.getType(),Ce=Q.transform(),be=new Set;Ce!==null&&be.add(Ce),n.set(_e,{exportDOM:ae&&ae.export?ae.export.get(Q):void 0,klass:Q,replace:de,replaceWithKlass:ne,transforms:be})}return s=new Uu(c,l,n,{disableEvents:u,namespace:T,theme:s},oe||console.error,Hu(n,ae?ae.import:void 0),e),U!==void 0&&(s._pendingEditorState=U,s._dirtyType=2),s},ee.getNearestEditorFromDOMNode=Wr,ee.isHTMLAnchorElement=function(n){return fr(n)&&n.tagName==="A"},ee.isHTMLElement=fr,ee.isSelectionCapturedInDecoratorInput=jr,ee.isSelectionWithinEditor=Rn,ee}var ra,ia;function Ke(){return ia||(ia=1,ra=_d()),ra}var oa;function md(){if(oa)return Gi;oa=1;var i=Mt(),r=Ke(),o=gt;let a=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var f=a?o.useLayoutEffect:o.useEffect;let g={tag:"history-merge"};function m(v,x){if(x!==null){if(x===void 0)v.update(()=>{var b=r.$getRoot();if(b.isEmpty()){let N=r.$createParagraphNode();b.append(N),b=a?document.activeElement:null,(r.$getSelection()!==null||b!==null&&b===v.getRootElement())&&N.select()}},g);else if(x!==null)switch(typeof x){case"string":let b=v.parseEditorState(x);v.setEditorState(b,g);break;case"object":v.setEditorState(x,g);break;case"function":v.update(()=>{r.$getRoot().isEmpty()&&x(v)},g)}}}return Gi.LexicalComposer=function({initialConfig:v,children:x}){let b=o.useMemo(()=>{const{theme:N,namespace:O,editor__DEPRECATED:S,nodes:D,onError:p,editorState:_,html:C}=v,A=i.createLexicalComposerContext(null,N);let y=S||null;if(y===null){const w=r.createEditor({editable:v.editable,html:C,namespace:O,nodes:D,onError:k=>p(k,w),theme:N});m(w,_),y=w}return[y,A]},[]);return f(()=>{let N=v.editable,[O]=b;O.setEditable(N!==void 0?N:!0)},[]),o.createElement(i.LexicalComposerContext.Provider,{value:b},x)},Gi}md();var Zi={},Vi,sa;function yd(){if(sa)return Vi;sa=1;var i=Mt(),r=gt,o=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?r.useLayoutEffect:r.useEffect;function a(g){let[m]=i.useLexicalComposerContext(),v=r.useMemo(()=>g(m),[m,g]),x=r.useRef(v.initialValueFn()),[b,N]=r.useState(x.current);return o(()=>{let{initialValueFn:O,subscribe:S}=v,D=O();return x.current!==D&&(x.current=D,N(D)),S(p=>{x.current=p,N(p)})},[v,g]),b}function f(g){return{initialValueFn:()=>g.isEditable(),subscribe:m=>g.registerEditableListener(m)}}return Vi=function(){return a(f)},Vi}var aa,la;function vd(){return la||(la=1,aa=yd()),aa}var Ft={},ua;function Ed(){if(ua)return Ft;ua=1;var i=Ke();function r(f,g=!0){return f?!1:(f=o(),g&&(f=f.trim()),f==="")}function o(){return i.$getRoot().getTextContent()}function a(f){if(!r(f,!1))return!1;f=i.$getRoot().getChildren();let g=f.length;if(1<g)return!1;for(let v=0;v<g;v++){var m=f[v];if(i.$isDecoratorNode(m))return!1;if(i.$isElementNode(m)){if(!i.$isParagraphNode(m)||m.__indent!==0)return!1;m=m.getChildren();let x=m.length;for(let b=0;b<x;b++)if(!i.$isTextNode(m[v]))return!1}}return!0}return Ft.$canShowPlaceholder=a,Ft.$canShowPlaceholderCurry=function(f){return()=>a(f)},Ft.$findTextIntersectionFromCharacters=function(f,g){var m=f.getFirstChild();f=0;e:for(;m!==null;){if(i.$isElementNode(m)){var v=m.getFirstChild();if(v!==null){m=v;continue}}else if(i.$isTextNode(m)){if(v=m.getTextContentSize(),f+v>g)return{node:m,offset:g-f};f+=v}if(v=m.getNextSibling(),v!==null)m=v;else{for(m=m.getParent();m!==null;){if(v=m.getNextSibling(),v!==null){m=v;continue e}m=m.getParent()}break}}return null},Ft.$isRootTextContentEmpty=r,Ft.$isRootTextContentEmptyCurry=function(f,g){return()=>r(f,g)},Ft.$rootTextContent=o,Ft.registerLexicalTextEntity=function(f,g,m,v){let x=N=>{const O=i.$createTextNode(N.getTextContent());O.setFormat(N.getFormat()),N.replace(O)},b=f.registerNodeTransform(i.TextNode,N=>{if(N.isSimpleText()){var O=N.getPreviousSibling(),S=N.getTextContent(),D=N;if(i.$isTextNode(O)){var p=O.getTextContent(),_=g(p+S);if(O instanceof m){if(_===null||O.getLatest().__mode!==0){x(O);return}if(_=_.end-p.length,0<_){D=S.slice(0,_),D=p+D,O.select(),O.setTextContent(D),_===S.length?N.remove():(O=S.slice(_),N.setTextContent(O));return}}else if(_===null||_.start<p.length)return}for(;;){if(N=g(S),S=_=N===null?"":S.slice(N.end),_===""){if(p=D.getNextSibling(),i.$isTextNode(p)){if(_=D.getTextContent()+p.getTextContent(),_=g(_),_===null){p instanceof m?x(p):p.markDirty();break}else if(_.start!==0)break}}else if(p=g(_),p!==null&&p.start===0)break;if(N===null)break;if(N.start===0&&i.$isTextNode(O)&&O.isTextEntity())continue;let C;if(N.start===0?[C,D]=D.splitText(N.end):[,C,D]=D.splitText(N.start,N.end),N=v(C),N.setFormat(C.getFormat()),C.replace(N),D==null)break}}});return f=f.registerNodeTransform(m,N=>{var O=N.getTextContent();const S=g(O);S===null||S.start!==0?x(N):O.length>S.end?N.splitText(S.end):(O=N.getPreviousSibling(),i.$isTextNode(O)&&O.isTextEntity()&&(x(O),x(N)),O=N.getNextSibling(),i.$isTextNode(O)&&O.isTextEntity()&&(x(O),N instanceof m&&x(N)))}),[b,f]},Ft}var ca,da;function Cd(){return da||(da=1,ca=Ed()),ca}var Le={},ze={},ha;function Nd(){if(ha)return ze;ha=1;var i=Ke();let r=new Map;function o(p){for(;p!=null;){if(p.nodeType===Node.TEXT_NODE)return p;p=p.firstChild}return null}function a(p){let _=p.parentNode;if(_==null)throw Error("Should never happen");return[_,Array.from(_.childNodes).indexOf(p)]}function f(p){let _={};p=p.split(";");for(let C of p)if(C!==""){let[A,y]=C.split(/:([^]+)/);A&&y&&(_[A.trim()]=y.trim())}return _}function g(p){let _=r.get(p);return _===void 0&&(_=f(p),r.set(p,_)),_}function m(p){let _="";for(let C in p)C&&(_+=`${C}: ${p[C]};`);return _}function v(p,_){var C=g("getStyle"in p?p.getStyle():p.style);_=Object.entries(_).reduce((A,[y,w])=>(w===null?delete A[y]:A[y]=w,A),{...C}),C=m(_),p.setStyle(C),r.set(C,_)}function x(p,_){var C=p.getNodes(),A=C.length;if(i.DEPRECATED_$isGridSelection(p)){for(var y=i.$createRangeSelection(),w=y.anchor,k=y.focus,I=0;I<A;I++){var z=C[I];i.DEPRECATED_$isGridCellNode(z)&&(w.set(z.getKey(),0,"element"),k.set(z.getKey(),z.getChildrenSize(),"element"),x(i.$normalizeSelection__EXPERIMENTAL(y),_))}i.$setSelection(p)}else if(--A,y=C[0],w=C[A],p.isCollapsed()&&i.$isRangeSelection(p))v(p,_);else{I=p.anchor;var q=p.focus;z=y.getTextContent().length;var X=q.offset,B=I.offset,R=I.isBefore(q);k=R?B:X,p=R?X:B;var P=R?I.type:q.type,ie=R?q.type:I.type;if(q=R?q.key:I.key,i.$isTextNode(y)&&k===z&&(R=y.getNextSibling(),i.$isTextNode(R)&&(k=B=0,y=R)),C.length===1)i.$isTextNode(y)&&(k=P==="element"?0:B>X?X:B,p=ie==="element"?z:B>X?B:X,k!==p&&(k===0&&p===z?(v(y,_),y.select(k,p)):(C=y.splitText(k,p),C=k===0?C[0]:C[1],v(C,_),C.select(0,p-k))));else for(i.$isTextNode(y)&&k<y.getTextContentSize()&&(k!==0&&(y=y.splitText(k)[1],k=0,I.set(y.getKey(),k,"text")),v(y,_)),i.$isTextNode(w)&&(k=w.getTextContent().length,w.__key!==q&&p!==0&&(p=k),p!==k&&([w]=w.splitText(p)),p!==0&&v(w,_)),p=1;p<A;p++)k=C[p],I=k.getKey(),i.$isTextNode(k)&&I!==y.getKey()&&I!==w.getKey()&&!k.isToken()&&v(k,_)}}function b(p){for(;p!==null&&!i.$isRootOrShadowRoot(p);){let _=p.getLatest(),C=p.getParent();_.getChildrenSize()===0&&p.remove(!0),p=C}}function N(p,_,C,A,y=null){if(_.length!==0){var w=_[0],k=new Map,I=[];w=i.$isElementNode(w)?w:w.getParentOrThrow(),w.isInline()&&(w=w.getParentOrThrow());for(var z=!1;w!==null;){var q=w.getPreviousSibling();if(q!==null){w=q,z=!0;break}if(w=w.getParentOrThrow(),i.$isRootOrShadowRoot(w))break}q=new Set;for(var X=0;X<C;X++){var B=_[X];i.$isElementNode(B)&&B.getChildrenSize()===0&&q.add(B.getKey())}var R=new Set;for(X=0;X<C;X++){B=_[X];var P=B.getParent();if(P!==null&&P.isInline()&&(P=P.getParent()),P!==null&&i.$isLeafNode(B)&&!R.has(B.getKey())){if(B=P.getKey(),k.get(B)===void 0){let ie=A();ie.setFormat(P.getFormatType()),ie.setIndent(P.getIndent()),I.push(ie),k.set(B,ie),P.getChildren().forEach(Ee=>{ie.append(Ee),R.add(Ee.getKey()),i.$isElementNode(Ee)&&Ee.getChildrenKeys().forEach(G=>R.add(G))}),b(P)}}else q.has(B.getKey())&&(P=A(),P.setFormat(B.getFormatType()),P.setIndent(B.getIndent()),I.push(P),B.remove(!0))}if(y!==null)for(_=0;_<I.length;_++)y.append(I[_]);if(_=null,i.$isRootOrShadowRoot(w))if(z)if(y!==null)w.insertAfter(y);else for(y=I.length-1;0<=y;y--)w.insertAfter(I[y]);else if(z=w.getFirstChild(),i.$isElementNode(z)&&(w=z),z===null)if(y)w.append(y);else for(y=0;y<I.length;y++)z=I[y],w.append(z),_=z;else if(y!==null)z.insertBefore(y);else for(w=0;w<I.length;w++)y=I[w],z.insertBefore(y),_=y;else if(y)w.insertAfter(y);else for(y=I.length-1;0<=y;y--)z=I[y],w.insertAfter(z),_=z;I=i.$getPreviousSelection(),i.$isRangeSelection(I)&&I.anchor.getNode().isAttached()&&I.focus.getNode().isAttached()?i.$setSelection(I.clone()):_!==null?_.selectEnd():p.dirty=!0}}function O(p,_,C,A){p.modify(_?"extend":"move",C,A)}function S(p){return p=p.anchor.getNode(),(i.$isRootNode(p)?p:p.getParentOrThrow()).getDirection()==="rtl"}function D(p){if(i.$isDecoratorNode(p)&&!p.isInline())return!0;if(!i.$isElementNode(p)||i.$isRootOrShadowRoot(p))return!1;var _=p.getFirstChild();return _=_===null||i.$isLineBreakNode(_)||i.$isTextNode(_)||_.isInline(),!p.isInline()&&p.canBeEmpty()!==!1&&_}return ze.$addNodeStyle=function(p){p=p.getStyle();let _=f(p);r.set(p,_)},ze.$cloneWithProperties=function(p){let _=p.constructor.clone(p);return _.__parent=p.__parent,_.__next=p.__next,_.__prev=p.__prev,i.$isElementNode(p)&&i.$isElementNode(_)?(_.__first=p.__first,_.__last=p.__last,_.__size=p.__size,_.__format=p.__format,_.__indent=p.__indent,_.__dir=p.__dir,_):(i.$isTextNode(p)&&i.$isTextNode(_)&&(_.__format=p.__format,_.__style=p.__style,_.__mode=p.__mode,_.__detail=p.__detail),_)},ze.$getSelectionStyleValueForProperty=function(p,_,C=""){let A=null,y=p.getNodes();var w=p.anchor,k=p.focus,I=p.isBackward();let z=I?k.offset:w.offset;if(w=I?k.getNode():w.getNode(),p.isCollapsed()&&p.style!==""&&(p=g(p.style),p!==null&&_ in p))return p[_];for(p=0;p<y.length;p++){var q=y[p];if((p===0||z!==0||!q.is(w))&&i.$isTextNode(q)){if(k=_,I=C,q=q.getStyle(),q=g(q),k=q!==null&&q[k]||I,A===null)A=k;else if(A!==k){A="";break}}}return A===null?C:A},ze.$isAtNodeEnd=function(p){return p.type==="text"?p.offset===p.getNode().getTextContentSize():p.offset===p.getNode().getChildrenSize()},ze.$isParentElementRTL=S,ze.$moveCaretSelection=O,ze.$moveCharacter=function(p,_,C){let A=S(p);O(p,_,C?!A:A,"character")},ze.$patchStyleText=x,ze.$selectAll=function(p){let _=p.anchor;p=p.focus;var C=_.getNode().getTopLevelElementOrThrow().getParentOrThrow();let A=C.getFirstDescendant();C=C.getLastDescendant();let y="element",w="element",k=0;i.$isTextNode(A)?y="text":i.$isElementNode(A)||A===null||(A=A.getParentOrThrow()),i.$isTextNode(C)?(w="text",k=C.getTextContentSize()):i.$isElementNode(C)||C===null||(C=C.getParentOrThrow()),A&&C&&(_.set(A.getKey(),0,y),p.set(C.getKey(),k,w))},ze.$setBlocksType=function(p,_){if(p.anchor.key==="root"){_=_();var C=i.$getRoot();(p=C.getFirstChild())?p.replace(_,!0):C.append(_)}else{for(C=p.getNodes(),p=p.anchor.getNode();p!==null&&p.getParent()!==null&&!D(p);)p=p.getParentOrThrow();for((p=D(p)?p:null)&&C.indexOf(p)===-1&&C.push(p),p=0;p<C.length;p++){let A=C[p];if(!D(A))continue;let y=_();y.setFormat(A.getFormatType()),y.setIndent(A.getIndent()),A.replace(y,!0)}}},ze.$shouldOverrideDefaultCharacterSelection=function(p,_){return p=i.$getAdjacentNode(p.focus,_),i.$isDecoratorNode(p)&&!p.isIsolated()||i.$isElementNode(p)&&!p.isInline()&&!p.canBeEmpty()},ze.$sliceSelectedTextNodeContent=function(p,_){if(_.isSelected()&&!_.isSegmented()&&!_.isToken()&&i.$INTERNAL_isPointSelection(p)){var C=p.anchor.getNode(),A=p.focus.getNode(),y=_.is(C),w=_.is(A);if(y||w){y=p.isBackward();let[k,I]=p.getCharacterOffsets();p=C.is(A),w=_.is(y?A:C),A=_.is(y?C:A),C=0;let z;p?(C=k>I?I:k,z=k>I?k:I):w?(C=y?I:k,z=void 0):A&&(y=y?k:I,C=0,z=y),_.__text=_.__text.slice(C,z)}}return _},ze.$wrapNodes=function(p,_,C=null){var A=p.getNodes();let y=A.length;var w=p.anchor;if(y===0||y===1&&w.type==="element"&&w.getNode().getChildrenSize()===0){p=w.type==="text"?w.getNode().getParentOrThrow():w.getNode(),A=p.getChildren();let I=_();I.setFormat(p.getFormatType()),I.setIndent(p.getIndent()),A.forEach(z=>I.append(z)),C&&(I=C.append(I)),p.replace(I)}else{w=null;var k=[];for(let I=0;I<y;I++){let z=A[I];i.$isRootOrShadowRoot(z)?(N(p,k,k.length,_,C),k=[],w=z):w===null||w!==null&&i.$hasAncestor(z,w)?k.push(z):(N(p,k,k.length,_,C),k=[z])}N(p,k,k.length,_,C)}},ze.createDOMRange=function(p,_,C,A,y){let w=_.getKey(),k=A.getKey(),I=document.createRange(),z=p.getElementByKey(w);if(p=p.getElementByKey(k),i.$isTextNode(_)&&(z=o(z)),i.$isTextNode(A)&&(p=o(p)),_===void 0||A===void 0||z===null||p===null)return null;z.nodeName==="BR"&&([z,C]=a(z)),p.nodeName==="BR"&&([p,y]=a(p)),_=z.firstChild,z===p&&_!=null&&_.nodeName==="BR"&&C===0&&y===0&&(y=1);try{I.setStart(z,C),I.setEnd(p,y)}catch{return null}return!I.collapsed||C===y&&w===k||(I.setStart(p,y),I.setEnd(z,C)),I},ze.createRectsFromDOMRange=function(p,_){var C=p.getRootElement();if(C===null)return[];p=C.getBoundingClientRect(),C=getComputedStyle(C),C=parseFloat(C.paddingLeft)+parseFloat(C.paddingRight),_=Array.from(_.getClientRects());let A=_.length;_.sort((w,k)=>{let I=w.top-k.top;return 3>=Math.abs(I)?w.left-k.left:I});let y;for(let w=0;w<A;w++){let k=_[w],I=k.width+C===p.width;y&&y.top<=k.top&&y.top+y.height>k.top&&y.left+y.width>k.left||I?(_.splice(w--,1),A--):y=k}return _},ze.getStyleObjectFromCSS=g,ze.trimTextContentFromAnchor=function(p,_,C){let A=_.getNode();if(i.$isElementNode(A)){var y=A.getDescendantByIndex(_.offset);y!==null&&(A=y)}for(;0<C&&A!==null;){i.$isElementNode(A)&&(y=A.getLastDescendant(),y!==null&&(A=y));var w=A.getPreviousSibling(),k=0;if(w===null){y=A.getParentOrThrow();for(var I=y.getPreviousSibling();I===null;){if(y=y.getParent(),y===null){w=null;break}I=y.getPreviousSibling()}y!==null&&(k=y.isInline()?0:2,w=I)}if(I=A.getTextContent(),I===""&&i.$isElementNode(A)&&!A.isInline()&&(I=`

`),y=I.length,!i.$isTextNode(A)||C>=y)I=A.getParent(),A.remove(),I==null||I.getChildrenSize()!==0||i.$isRootNode(I)||I.remove(),C-=y+k,A=w;else{let z=A.getKey();k=p.getEditorState().read(()=>{const X=i.$getNodeByKey(z);return i.$isTextNode(X)&&X.isSimpleText()?X.getTextContent():null}),w=y-C;let q=I.slice(0,w);k!==null&&k!==I?(C=i.$getPreviousSelection(),y=A,A.isSimpleText()?A.setTextContent(k):(y=i.$createTextNode(k),A.replace(y)),i.$isRangeSelection(C)&&C.isCollapsed()&&(C=C.anchor.offset,y.select(C,C))):A.isSimpleText()?(k=_.key===z,I=_.offset,I<C&&(I=y),C=k?I-C:0,y=k?I:w,k&&C===0?([C]=A.splitText(C,y),C.remove()):([,C]=A.splitText(C,y),C.remove())):(C=i.$createTextNode(q),A.replace(C)),C=0}}},ze}var ga,fa;function Hr(){return fa||(fa=1,ga=Nd()),ga}var pa;function bd(){if(pa)return Le;pa=1;var i=Hr(),r=Ke();function o(x){let b=new URLSearchParams;b.append("code",x);for(let N=1;N<arguments.length;N++)b.append("v",arguments[N]);throw Error(`Minified Lexical error #${x}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(...x){return()=>{x.forEach(b=>b())}}let f={attributes:!0,characterData:!0,childList:!0,subtree:!0};function g(x,b,N){function O(){if(p===null)throw Error("Unexpected null rootDOMNode");if(_===null)throw Error("Unexpected null parentDOMNode");let{left:k,top:I}=p.getBoundingClientRect();var z=_;let q=i.createRectsFromDOMRange(x,b);y.isConnected||z.append(y),z=!1;for(let R=0;R<q.length;R++){var X=q[R];let P=A[R]||document.createElement("div"),ie=P.style;ie.position!=="absolute"&&(ie.position="absolute",z=!0);var B=`${X.left-k}px`;ie.left!==B&&(ie.left=B,z=!0),B=`${X.top-I}px`,ie.top!==B&&(P.style.top=B,z=!0),B=`${X.width}px`,ie.width!==B&&(P.style.width=B,z=!0),X=`${X.height}px`,ie.height!==X&&(P.style.height=X,z=!0),P.parentNode!==y&&(y.append(P),z=!0),A[R]=P}for(;A.length>q.length;)A.pop();z&&N(A)}function S(){p=_=null,C!==null&&C.disconnect(),C=null,y.remove();for(let k of A)k.remove();A=[]}function D(){let k=x.getRootElement();if(k===null)return S();let I=k.parentElement;if(!(I instanceof HTMLElement))return S();S(),p=k,_=I,C=new MutationObserver(z=>{let q=x.getRootElement(),X=q&&q.parentElement;if(q!==p||X!==_)return D();for(let B of z)if(!y.contains(B.target))return O()}),C.observe(I,f),O()}let p=null,_=null,C=null,A=[],y=document.createElement("div"),w=x.registerRootListener(D);return()=>{w(),S()}}function m(x,b){for(let N of b)if(x.type.startsWith(N))return!0;return!1}function v(x,b){for(;x!==r.$getRoot()&&x!=null;){if(b(x))return x;x=x.getParent()}return null}return Le.$splitNode=r.$splitNode,Le.isHTMLAnchorElement=r.isHTMLAnchorElement,Le.isHTMLElement=r.isHTMLElement,Le.$dfs=function(x,b){let N=[];x=(x||r.$getRoot()).getLatest(),b=b||(r.$isElementNode(x)?x.getLastDescendant():x);for(var O=x,S=0;(O=O.getParent())!==null;)S++;for(O=S;x!==null&&!x.is(b);)if(N.push({depth:O,node:x}),r.$isElementNode(x)&&0<x.getChildrenSize())x=x.getFirstChild(),O++;else for(S=null;S===null&&x!==null;)S=x.getNextSibling(),S===null?(x=x.getParent(),O--):x=S;return x!==null&&x.is(b)&&N.push({depth:O,node:x}),N},Le.$filter=function(x,b){let N=[];for(let O=0;O<x.length;O++){let S=b(x[O]);S!==null&&N.push(S)}return N},Le.$findMatchingParent=v,Le.$getNearestBlockElementAncestorOrThrow=function(x){let b=v(x,N=>r.$isElementNode(N)&&!N.isInline());return r.$isElementNode(b)||o(4,x.__key),b},Le.$getNearestNodeOfType=function(x,b){for(;x!=null;){if(x instanceof b)return x;x=x.getParent()}return null},Le.$insertFirst=function(x,b){let N=x.getFirstChild();N!==null?N.insertBefore(b):x.append(b)},Le.$insertNodeToNearestRoot=function(x){var b=r.$getSelection()||r.$getPreviousSelection();if(r.$isRangeSelection(b)){var{focus:N}=b;if(b=N.getNode(),N=N.offset,r.$isRootOrShadowRoot(b))N=b.getChildAtIndex(N),N==null?b.append(x):N.insertBefore(x),x.selectNext();else{let O,S;r.$isTextNode(b)?(O=b.getParentOrThrow(),S=b.getIndexWithinParent(),0<N&&(S+=1,b.splitText(N))):(O=b,S=N),[,b]=r.$splitNode(O,S),b.insertBefore(x),b.selectStart()}}else b!=null?(b=b.getNodes(),b[b.length-1].getTopLevelElementOrThrow().insertAfter(x)):r.$getRoot().append(x),b=r.$createParagraphNode(),x.insertAfter(b),b.select();return x.getLatest()},Le.$restoreEditorState=function(x,b){let N=new Map,O=x._pendingEditorState;for(let[S,D]of b._nodeMap){let p=i.$cloneWithProperties(D);r.$isTextNode(p)&&(p.__text=D.__text),N.set(S,p)}O&&(O._nodeMap=N),x._dirtyType=2,x=b._selection,r.$setSelection(x===null?null:x.clone())},Le.$wrapNodeInElement=function(x,b){return b=b(),x.replace(b),b.append(x),b},Le.addClassNamesToElement=function(x,...b){b.forEach(N=>{typeof N=="string"&&(N=N.split(" ").filter(O=>O!==""),x.classList.add(...N))})},Le.isMimeType=m,Le.markSelection=function(x,b){function N(C){C.read(()=>{var A=r.$getSelection();if(r.$isRangeSelection(A)){var{anchor:y,focus:w}=A;A=y.getNode();var k=A.getKey(),I=y.offset,z=w.getNode(),q=z.getKey(),X=w.offset,B=x.getElementByKey(k),R=x.getElementByKey(q);if(k=O===null||B===null||I!==S||k!==O.getKey()||A!==O&&(!(O instanceof r.TextNode)||A.updateDOM(O,B,x._config)),q=D===null||R===null||X!==p||q!==D.getKey()||z!==D&&(!(D instanceof r.TextNode)||z.updateDOM(D,R,x._config)),k||q){B=x.getElementByKey(y.getNode().getKey());var P=x.getElementByKey(w.getNode().getKey());if(B!==null&&P!==null&&B.tagName==="SPAN"&&P.tagName==="SPAN"){if(q=document.createRange(),w.isBefore(y)?(k=P,R=w.offset,P=B,B=y.offset):(k=B,R=y.offset,B=w.offset),k=k.firstChild,k===null||(P=P.firstChild,P===null))throw Error("Expected text node to be first child of span");q.setStart(k,R),q.setEnd(P,B),_(),_=g(x,q,ie=>{for(let Ee of ie){let G=Ee.style;G.background!=="Highlight"&&(G.background="Highlight"),G.color!=="HighlightText"&&(G.color="HighlightText"),G.zIndex!=="-1"&&(G.zIndex="-1"),G.pointerEvents!=="none"&&(G.pointerEvents="none"),G.marginTop!=="-1.5px"&&(G.marginTop="-1.5px"),G.paddingTop!=="4px"&&(G.paddingTop="4px"),G.paddingBottom!=="0px"&&(G.paddingBottom="0px")}b!==void 0&&b(ie)})}}O=A,S=I,D=z,p=X}else p=D=S=O=null,_(),_=()=>{}})}let O=null,S=null,D=null,p=null,_=()=>{};return N(x.getEditorState()),a(x.registerUpdateListener(({editorState:C})=>N(C)),_,()=>{_()})},Le.mediaFileReader=function(x,b){let N=x[Symbol.iterator]();return new Promise((O,S)=>{let D=[],p=()=>{const{done:_,value:C}=N.next();if(_)return O(D);const A=new FileReader;A.addEventListener("error",S),A.addEventListener("load",()=>{const y=A.result;typeof y=="string"&&D.push({file:C,result:y}),p()}),m(C,b)?A.readAsDataURL(C):p()};p()})},Le.mergeRegister=a,Le.objectKlassEquals=function(x,b){return x!==null?Object.getPrototypeOf(x).constructor.name===b.name:!1},Le.positionNodeOnRange=g,Le.registerNestedElementResolver=function(x,b,N,O){return x.registerNodeTransform(b,S=>{e:{for(var D=S.getChildren(),p=0;p<D.length;p++)if(D[p]instanceof b){D=null;break e}for(D=S;D!==null;)if(p=D,D=D.getParent(),D instanceof b){D={child:p,parent:D};break e}D=null}if(D!==null){const{child:_,parent:C}=D;if(_.is(S)){if(O(C,S),S=_.getNextSiblings(),D=S.length,C.insertAfter(_),D!==0){p=N(C),_.insertAfter(p);for(let A=0;A<D;A++)p.append(S[A])}C.canBeEmpty()||C.getChildrenSize()!==0||C.remove()}}})},Le.removeClassNamesFromElement=function(x,...b){b.forEach(N=>{typeof N=="string"&&x.classList.remove(...N.split(" "))})},Le}var _a,ma;function st(){return ma||(ma=1,_a=bd()),_a}var Ji={},ya;function Td(){if(ya)return Ji;ya=1;var i=Ke();return Ji.registerDragonSupport=function(r){let o=window.location.origin,a=f=>{if(f.origin===o){var g=r.getRootElement();if(document.activeElement===g&&(g=f.data,typeof g=="string")){try{var m=JSON.parse(g)}catch{return}if(m&&m.protocol==="nuanria_messaging"&&m.type==="request"&&(m=m.payload)&&m.functionId==="makeChanges"&&(m=m.args)){const[v,x,b,N,O]=m;r.update(()=>{const S=i.$getSelection();if(i.$isRangeSelection(S)){var D=S.anchor;let p=D.getNode(),_=0,C=0;i.$isTextNode(p)&&0<=v&&0<=x&&(_=v,C=v+x,S.setTextNodeRange(p,_,p,C)),(_!==C||b!=="")&&(S.insertRawText(b),p=D.getNode()),i.$isTextNode(p)&&(_=N,C=N+O,D=p.getTextContentSize(),_=_>D?D:_,C=C>D?D:C,S.setTextNodeRange(p,_,p,C)),f.stopImmediatePropagation()}})}}}};return window.addEventListener("message",a,!0),()=>{window.removeEventListener("message",a,!0)}},Ji}var va,Ea;function wd(){return Ea||(Ea=1,va=Td()),va}var Et={},Ot={},Dr={},Ca;function xd(){if(Ca)return Dr;Ca=1;var i=Hr(),r=st(),o=Ke();function a(m,v,x,b=null){let N=b!=null?v.isSelected(b):!0,O=o.$isElementNode(v)&&v.excludeFromCopy("html");var S=v;b!==null&&(S=i.$cloneWithProperties(v),S=o.$isTextNode(S)&&b!=null?i.$sliceSelectedTextNodeContent(b,S):S);let D=o.$isElementNode(S)?S.getChildren():[];var p=m._nodes.get(S.getType());p=p&&p.exportDOM!==void 0?p.exportDOM(m,S):S.exportDOM(m);let{element:_,after:C}=p;if(!_)return!1;p=document.createDocumentFragment();for(let A=0;A<D.length;A++){let y=D[A],w=a(m,y,p,b);!N&&o.$isElementNode(v)&&w&&v.extractWithChild(y,b,"html")&&(N=!0)}return N&&!O?(r.isHTMLElement(_)&&_.append(p),x.append(_),C&&(m=C.call(S,_))&&_.replaceWith(m)):x.append(p),N}let f=new Set(["STYLE","SCRIPT"]);function g(m,v,x=new Map,b){let N=[];if(f.has(m.nodeName))return N;let O=null;var S,{nodeName:D}=m,p=v._htmlConversions.get(D.toLowerCase());if(D=null,p!==void 0)for(S of p)p=S(m),p!==null&&(D===null||D.priority<p.priority)&&(D=p);if(D=(S=D!==null?D.conversion:null)?S(m):null,S=null,D!==null){if(S=D.after,p=D.node,O=Array.isArray(p)?p[p.length-1]:p,O!==null){for(var[,_]of x)if(O=_(O,b),!O)break;O&&N.push(...Array.isArray(p)?p:[O])}D.forChild!=null&&x.set(m.nodeName,D.forChild)}for(m=m.childNodes,b=[],_=0;_<m.length;_++)b.push(...g(m[_],v,new Map(x),O));return S!=null&&(b=S(b)),O==null?N=N.concat(b):o.$isElementNode(O)&&O.append(...b),N}return Dr.$generateHtmlFromNodes=function(m,v){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let x=document.createElement("div"),b=o.$getRoot().getChildren();for(let N=0;N<b.length;N++)a(m,b[N],x,v);return x.innerHTML},Dr.$generateNodesFromDOM=function(m,v){v=v.body?v.body.childNodes:[];let x=[];for(let N=0;N<v.length;N++){var b=v[N];f.has(b.nodeName)||(b=g(b,m),b!==null&&(x=x.concat(b)))}return x},Dr}var Na,ba;function Sd(){return ba||(ba=1,Na=xd()),Na}var Ta;function Od(){if(Ta)return Ot;Ta=1;var i=Sd(),r=Hr(),o=st(),a=Ke();function f(_){let C=new URLSearchParams;C.append("code",_);for(let A=1;A<arguments.length;A++)C.append("v",arguments[A]);throw Error(`Minified Lexical error #${_}; visit https://lexical.dev/docs/error?${C} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function m(_){let C=a.$getSelection();if(C==null)throw Error("Expected valid LexicalSelection");return a.$isRangeSelection(C)&&C.isCollapsed()||C.getNodes().length===0?"":i.$generateHtmlFromNodes(_,C)}function v(_){let C=a.$getSelection();if(C==null)throw Error("Expected valid LexicalSelection");return a.$isRangeSelection(C)&&C.isCollapsed()||C.getNodes().length===0?null:JSON.stringify(O(_,C))}function x(_,C,A){let y=a.DEPRECATED_$isGridSelection(A),w=a.$isRangeSelection(A);(y||w&&o.$findMatchingParent(A.anchor.getNode(),k=>a.DEPRECATED_$isGridCellNode(k))!==null&&o.$findMatchingParent(A.focus.getNode(),k=>a.DEPRECATED_$isGridCellNode(k))!==null)&&C.length===1&&a.DEPRECATED_$isGridNode(C[0])?b(C,A,!1,_):A.insertNodes(C)}function b(_,C,A,y){_.length===1&&a.DEPRECATED_$isGridNode(_[0])||f(42);var w=_[0];_=w.getChildren(),A=w.getFirstChildOrThrow().getChildrenSize();var k=w.getChildrenSize(),I=o.$findMatchingParent(C.anchor.getNode(),ie=>a.DEPRECATED_$isGridCellNode(ie));C=(w=I&&o.$findMatchingParent(I,ie=>a.DEPRECATED_$isGridRowNode(ie)))&&o.$findMatchingParent(w,ie=>a.DEPRECATED_$isGridNode(ie)),a.DEPRECATED_$isGridCellNode(I)&&a.DEPRECATED_$isGridRowNode(w)&&a.DEPRECATED_$isGridNode(C)||f(43);var z=w.getIndexWithinParent(),q=Math.min(C.getChildrenSize()-1,z+k-1);k=I.getIndexWithinParent(),I=Math.min(w.getChildrenSize()-1,k+A-1),A=Math.min(k,I),w=Math.min(z,q),k=Math.max(k,I),z=Math.max(z,q),q=C.getChildren(),I=0;let X,B;for(let ie=w;ie<=z;ie++){var R=q[ie];a.DEPRECATED_$isGridRowNode(R)||f(24);var P=_[I];a.DEPRECATED_$isGridRowNode(P)||f(24),R=R.getChildren(),P=P.getChildren();let Ee=0;for(let G=A;G<=k;G++){let le=R[G];a.DEPRECATED_$isGridCellNode(le)||f(25);let W=P[Ee];a.DEPRECATED_$isGridCellNode(W)||f(25),ie===w&&G===A?X=le.getKey():ie===z&&G===k&&(B=le.getKey());let M=le.getChildren();W.getChildren().forEach($=>{a.$isTextNode($)&&a.$createParagraphNode().append($),le.append($)}),M.forEach($=>$.remove()),Ee++}I++}X&&B&&(_=a.DEPRECATED_$createGridSelection(),_.set(C.getKey(),X,B),a.$setSelection(_),y.dispatchCommand(a.SELECTION_CHANGE_COMMAND,void 0))}function N(_,C,A,y=[]){let w=C!=null?A.isSelected(C):!0,k=a.$isElementNode(A)&&A.excludeFromCopy("html");var I=A;if(C!==null){var z=r.$cloneWithProperties(A);I=z=a.$isTextNode(z)&&C!=null?r.$sliceSelectedTextNodeContent(C,z):z}let q=a.$isElementNode(I)?I.getChildren():[];var X=I;z=X.exportJSON();var B=X.constructor;z.type!==B.getType()&&f(58,B.name);let R=z.children;for(a.$isElementNode(X)&&(Array.isArray(R)||f(59,B.name)),a.$isTextNode(I)&&(I=I.__text,0<I.length?z.text=I:w=!1),I=0;I<q.length;I++)X=q[I],B=N(_,C,X,z.children),!w&&a.$isElementNode(A)&&B&&A.extractWithChild(X,C,"clone")&&(w=!0);if(w&&!k)y.push(z);else if(Array.isArray(z.children))for(_=0;_<z.children.length;_++)y.push(z.children[_]);return w}function O(_,C){let A=[],y=a.$getRoot().getChildren();for(let w=0;w<y.length;w++)N(_,C,y[w],A);return{namespace:_._config.namespace,nodes:A}}function S(_){let C=[];for(let A=0;A<_.length;A++){let y=a.$parseSerializedNode(_[A]);a.$isTextNode(y)&&r.$addNodeStyle(y),C.push(y)}return C}let D=null;function p(_,C){var A=g?(_._window||window).getSelection():null;if(!A)return!1;var y=A.anchorNode;if(A=A.focusNode,y!==null&&A!==null&&!a.isSelectionWithinEditor(_,y,A)||(C.preventDefault(),C=C.clipboardData,y=a.$getSelection(),C===null||y===null))return!1;A=m(_),_=v(_);let w="";return y!==null&&(w=y.getTextContent()),A!==null&&C.setData("text/html",A),_!==null&&C.setData("application/x-lexical-editor",_),C.setData("text/plain",w),!0}return Ot.$generateJSONFromSelectedNodes=O,Ot.$generateNodesFromSerializedNodes=S,Ot.$getHtmlContent=m,Ot.$getLexicalContent=v,Ot.$insertDataTransferForPlainText=function(_,C){_=_.getData("text/plain")||_.getData("text/uri-list"),_!=null&&C.insertRawText(_)},Ot.$insertDataTransferForRichText=function(_,C,A){var y=_.getData("application/x-lexical-editor");if(y)try{let k=JSON.parse(y);if(k.namespace===A._config.namespace&&Array.isArray(k.nodes)){let I=S(k.nodes);return x(A,I,C)}}catch{}if(y=_.getData("text/html"))try{var w=new DOMParser().parseFromString(y,"text/html");let k=i.$generateNodesFromDOM(A,w);return x(A,k,C)}catch{}if(_=_.getData("text/plain")||_.getData("text/uri-list"),_!=null)if(a.$isRangeSelection(C))for(_=_.split(/(\r?\n|\t)/),_[_.length-1]===""&&_.pop(),A=0;A<_.length;A++)w=_[A],w===`
`||w===`\r
`?C.insertParagraph():w==="	"?C.insertNodes([a.$createTabNode()]):C.insertText(w);else C.insertRawText(_)},Ot.$insertGeneratedNodes=x,Ot.copyToClipboard=async function(_,C){if(D!==null)return!1;if(C!==null)return new Promise(I=>{_.update(()=>{I(p(_,C))})});var A=_.getRootElement();let y=_._window==null?window.document:_._window.document,w=g?(_._window||window).getSelection():null;if(A===null||w===null)return!1;let k=y.createElement("span");return k.style.cssText="position: fixed; top: -1000px;",k.append(y.createTextNode("#")),A.append(k),A=new Range,A.setStart(k,0),A.setEnd(k,1),w.removeAllRanges(),w.addRange(A),new Promise(I=>{let z=_.registerCommand(a.COPY_COMMAND,q=>(o.objectKlassEquals(q,ClipboardEvent)&&(z(),D!==null&&(window.clearTimeout(D),D=null),I(p(_,q))),!0),a.COMMAND_PRIORITY_CRITICAL);D=window.setTimeout(()=>{z(),D=null,I(!1)},50),y.execCommand("copy"),k.remove()})},Ot}var wa,xa;function Ad(){return xa||(xa=1,wa=Od()),wa}var Sa;function Rd(){if(Sa)return Et;Sa=1;var i=Ad(),r=Hr(),o=st(),a=Ke();function f(B,R){return typeof document.caretRangeFromPoint<"u"?(B=document.caretRangeFromPoint(B,R),B===null?null:{node:B.startContainer,offset:B.startOffset}):document.caretPositionFromPoint!=="undefined"?(B=document.caretPositionFromPoint(B,R),B===null?null:{node:B.offsetNode,offset:B.offset}):null}let g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m=g&&"documentMode"in document?document.documentMode:null,v=g&&"InputEvent"in window&&!m?"getTargetRanges"in new window.InputEvent("input"):!1,x=g&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),b=g&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,N=g&&/^(?=.*Chrome).*/i.test(navigator.userAgent),O=g&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!N,S=a.createCommand("DRAG_DROP_PASTE_FILE");class D extends a.ElementNode{static getType(){return"quote"}static clone(R){return new D(R.__key)}constructor(R){super(R)}createDOM(R){let P=document.createElement("blockquote");return o.addClassNamesToElement(P,R.theme.quote),P}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:y,priority:0})}}exportDOM(R){if({element:R}=super.exportDOM(R),R&&o.isHTMLElement(R)){this.isEmpty()&&R.append(document.createElement("br"));var P=this.getFormatType();R.style.textAlign=P,(P=this.getDirection())&&(R.dir=P)}return{element:R}}static importJSON(R){let P=p();return P.setFormat(R.format),P.setIndent(R.indent),P.setDirection(R.direction),P}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(R,P){R=a.$createParagraphNode();let ie=this.getDirection();return R.setDirection(ie),this.insertAfter(R,P),R}collapseAtStart(){let R=a.$createParagraphNode();return this.getChildren().forEach(P=>R.append(P)),this.replace(R),!0}}function p(){return a.$applyNodeReplacement(new D)}class _ extends a.ElementNode{static getType(){return"heading"}static clone(R){return new _(R.__tag,R.__key)}constructor(R,P){super(P),this.__tag=R}getTag(){return this.__tag}createDOM(R){let P=this.__tag,ie=document.createElement(P);return R=R.theme.heading,R!==void 0&&o.addClassNamesToElement(ie,R[P]),ie}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:A,priority:0}),h2:()=>({conversion:A,priority:0}),h3:()=>({conversion:A,priority:0}),h4:()=>({conversion:A,priority:0}),h5:()=>({conversion:A,priority:0}),h6:()=>({conversion:A,priority:0}),p:R=>(R=R.firstChild,R!==null&&C(R)?{conversion:()=>({node:null}),priority:3}:null),span:R=>C(R)?{conversion:()=>({node:w("h1")}),priority:3}:null}}exportDOM(R){if({element:R}=super.exportDOM(R),R&&o.isHTMLElement(R)){this.isEmpty()&&R.append(document.createElement("br"));var P=this.getFormatType();R.style.textAlign=P,(P=this.getDirection())&&(R.dir=P)}return{element:R}}static importJSON(R){let P=w(R.tag);return P.setFormat(R.format),P.setIndent(R.indent),P.setDirection(R.direction),P}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(R,P=!0){let ie=R?R.anchor.offset:0,Ee=ie!==this.getTextContentSize()&&R?w(this.getTag()):a.$createParagraphNode(),G=this.getDirection();return Ee.setDirection(G),this.insertAfter(Ee,P),ie===0&&!this.isEmpty()&&R&&(R=a.$createParagraphNode(),R.select(),this.replace(R,!0)),Ee}collapseAtStart(){let R=this.isEmpty()?a.$createParagraphNode():w(this.getTag());return this.getChildren().forEach(P=>R.append(P)),this.replace(R),!0}extractWithChild(){return!0}}function C(B){return B.nodeName.toLowerCase()==="span"?B.style.fontSize==="26pt":!1}function A(B){let R=B.nodeName.toLowerCase(),P=null;return(R==="h1"||R==="h2"||R==="h3"||R==="h4"||R==="h5"||R==="h6")&&(P=w(R),B.style!==null&&P.setFormat(B.style.textAlign)),{node:P}}function y(B){let R=p();return B.style!==null&&R.setFormat(B.style.textAlign),{node:R}}function w(B){return a.$applyNodeReplacement(new _(B))}function k(B,R){B.preventDefault(),R.update(()=>{let P=a.$getSelection(),ie=B instanceof InputEvent||B instanceof KeyboardEvent?null:B.clipboardData;ie!=null&&a.$INTERNAL_isPointSelection(P)&&i.$insertDataTransferForRichText(ie,P,R)},{tag:"paste"})}async function I(B,R){await i.copyToClipboard(R,o.objectKlassEquals(B,ClipboardEvent)?B:null),R.update(()=>{let P=a.$getSelection();a.$isRangeSelection(P)?P.removeText():a.$isNodeSelection(P)&&P.getNodes().forEach(ie=>ie.remove())})}function z(B){let R=null;if(B instanceof DragEvent?R=B.dataTransfer:B instanceof ClipboardEvent&&(R=B.clipboardData),R===null)return[!1,[],!1];var P=R.types;return B=P.includes("Files"),P=P.includes("text/html")||P.includes("text/plain"),[B,Array.from(R.files),P]}function q(B){var R=a.$getSelection();if(!a.$isRangeSelection(R))return!1;let P=new Set;R=R.getNodes();for(let G=0;G<R.length;G++){var ie=R[G],Ee=ie.getKey();P.has(Ee)||(ie=o.$getNearestBlockElementAncestorOrThrow(ie),Ee=ie.getKey(),ie.canIndent()&&!P.has(Ee)&&(P.add(Ee),B(ie)))}return 0<P.size}function X(B){return B=a.$getNearestNodeFromDOMNode(B),a.$isDecoratorNode(B)}return Et.$createHeadingNode=w,Et.$createQuoteNode=p,Et.$isHeadingNode=function(B){return B instanceof _},Et.$isQuoteNode=function(B){return B instanceof D},Et.DRAG_DROP_PASTE=S,Et.HeadingNode=_,Et.QuoteNode=D,Et.eventFiles=z,Et.registerRichText=function(B){return o.mergeRegister(B.registerCommand(a.CLICK_COMMAND,()=>{const R=a.$getSelection();return a.$isNodeSelection(R)?(R.clear(),!0):!1},0),B.registerCommand(a.DELETE_CHARACTER_COMMAND,R=>{const P=a.$getSelection();return a.$isRangeSelection(P)?(P.deleteCharacter(R),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.DELETE_WORD_COMMAND,R=>{const P=a.$getSelection();return a.$isRangeSelection(P)?(P.deleteWord(R),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.DELETE_LINE_COMMAND,R=>{const P=a.$getSelection();return a.$isRangeSelection(P)?(P.deleteLine(R),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.CONTROLLED_TEXT_INSERTION_COMMAND,R=>{const P=a.$getSelection();if(typeof R=="string")a.$INTERNAL_isPointSelection(P)&&P.insertText(R);else{if(!a.$INTERNAL_isPointSelection(P))return!1;const ie=R.dataTransfer;ie!=null?i.$insertDataTransferForRichText(ie,P,B):a.$isRangeSelection(P)&&(R=R.data)&&P.insertText(R)}return!0},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.REMOVE_TEXT_COMMAND,()=>{const R=a.$getSelection();return a.$isRangeSelection(R)?(R.removeText(),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.FORMAT_TEXT_COMMAND,R=>{const P=a.$getSelection();return a.$isRangeSelection(P)?(P.formatText(R),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.FORMAT_ELEMENT_COMMAND,R=>{var P=a.$getSelection();if(!a.$isRangeSelection(P)&&!a.$isNodeSelection(P))return!1;P=P.getNodes();for(const ie of P)P=o.$findMatchingParent(ie,Ee=>a.$isElementNode(Ee)&&!Ee.isInline()),P!==null&&P.setFormat(R);return!0},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.INSERT_LINE_BREAK_COMMAND,R=>{const P=a.$getSelection();return a.$isRangeSelection(P)?(P.insertLineBreak(R),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.INSERT_PARAGRAPH_COMMAND,()=>{const R=a.$getSelection();return a.$isRangeSelection(R)?(R.insertParagraph(),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.INSERT_TAB_COMMAND,()=>(a.$insertNodes([a.$createTabNode()]),!0),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.INDENT_CONTENT_COMMAND,()=>q(R=>{const P=R.getIndent();R.setIndent(P+1)}),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.OUTDENT_CONTENT_COMMAND,()=>q(R=>{const P=R.getIndent();0<P&&R.setIndent(P-1)}),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ARROW_UP_COMMAND,R=>{var P=a.$getSelection();if(a.$isNodeSelection(P)&&!X(R.target)){if(R=P.getNodes(),0<R.length)return R[0].selectPrevious(),!0}else if(a.$isRangeSelection(P)&&(P=a.$getAdjacentNode(P.focus,!0),!R.shiftKey&&a.$isDecoratorNode(P)&&!P.isIsolated()&&!P.isInline()))return P.selectPrevious(),R.preventDefault(),!0;return!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ARROW_DOWN_COMMAND,R=>{var P=a.$getSelection();if(a.$isNodeSelection(P)){if(R=P.getNodes(),0<R.length)return R[0].selectNext(0,0),!0}else if(a.$isRangeSelection(P)){let ie=P.focus;if(ie.key==="root"&&ie.offset===a.$getRoot().getChildrenSize())return R.preventDefault(),!0;if(P=a.$getAdjacentNode(P.focus,!1),!R.shiftKey&&a.$isDecoratorNode(P)&&!P.isIsolated()&&!P.isInline())return P.selectNext(),R.preventDefault(),!0}return!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ARROW_LEFT_COMMAND,R=>{const P=a.$getSelection();if(a.$isNodeSelection(P)){var ie=P.getNodes();if(0<ie.length)return R.preventDefault(),ie[0].selectPrevious(),!0}return a.$isRangeSelection(P)&&r.$shouldOverrideDefaultCharacterSelection(P,!0)?(ie=R.shiftKey,R.preventDefault(),r.$moveCharacter(P,ie,!0),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ARROW_RIGHT_COMMAND,R=>{const P=a.$getSelection();if(a.$isNodeSelection(P)&&!X(R.target)){var ie=P.getNodes();if(0<ie.length)return R.preventDefault(),ie[0].selectNext(0,0),!0}return a.$isRangeSelection(P)?(ie=R.shiftKey,r.$shouldOverrideDefaultCharacterSelection(P,!1)?(R.preventDefault(),r.$moveCharacter(P,ie,!1),!0):!1):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_BACKSPACE_COMMAND,R=>{if(X(R.target))return!1;const P=a.$getSelection();if(!a.$isRangeSelection(P))return!1;R.preventDefault(),{anchor:R}=P;const ie=R.getNode();return P.isCollapsed()&&R.offset===0&&!a.$isRootNode(ie)&&0<o.$getNearestBlockElementAncestorOrThrow(ie).getIndent()?B.dispatchCommand(a.OUTDENT_CONTENT_COMMAND,void 0):B.dispatchCommand(a.DELETE_CHARACTER_COMMAND,!0)},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_DELETE_COMMAND,R=>{if(X(R.target))return!1;const P=a.$getSelection();return a.$isRangeSelection(P)?(R.preventDefault(),B.dispatchCommand(a.DELETE_CHARACTER_COMMAND,!1)):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ENTER_COMMAND,R=>{const P=a.$getSelection();if(!a.$isRangeSelection(P))return!1;if(R!==null){if((b||x||O)&&v)return!1;if(R.preventDefault(),R.shiftKey)return B.dispatchCommand(a.INSERT_LINE_BREAK_COMMAND,!1)}return B.dispatchCommand(a.INSERT_PARAGRAPH_COMMAND,void 0)},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.KEY_ESCAPE_COMMAND,()=>{const R=a.$getSelection();return a.$isRangeSelection(R)?(B.blur(),!0):!1},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.DROP_COMMAND,R=>{const[,P]=z(R);if(0<P.length){var ie=f(R.clientX,R.clientY);if(ie!==null){const{offset:G,node:le}=ie;var Ee=a.$getNearestNodeFromDOMNode(le);if(Ee!==null){if(ie=a.$createRangeSelection(),a.$isTextNode(Ee))ie.anchor.set(Ee.getKey(),G,"text"),ie.focus.set(Ee.getKey(),G,"text");else{const W=Ee.getParentOrThrow().getKey();Ee=Ee.getIndexWithinParent()+1,ie.anchor.set(W,Ee,"element"),ie.focus.set(W,Ee,"element")}ie=a.$normalizeSelection__EXPERIMENTAL(ie),a.$setSelection(ie)}B.dispatchCommand(S,P)}return R.preventDefault(),!0}return R=a.$getSelection(),!!a.$isRangeSelection(R)},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.DRAGSTART_COMMAND,R=>{[R]=z(R);const P=a.$getSelection();return!(R&&!a.$isRangeSelection(P))},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.DRAGOVER_COMMAND,R=>{var[P]=z(R);const ie=a.$getSelection();return P&&!a.$isRangeSelection(ie)?!1:(P=f(R.clientX,R.clientY),P!==null&&(P=a.$getNearestNodeFromDOMNode(P.node),a.$isDecoratorNode(P)&&R.preventDefault()),!0)},a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.SELECT_ALL_COMMAND,()=>(a.$selectAll(),!0),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.COPY_COMMAND,R=>(i.copyToClipboard(B,o.objectKlassEquals(R,ClipboardEvent)?R:null),!0),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.CUT_COMMAND,R=>(I(R,B),!0),a.COMMAND_PRIORITY_EDITOR),B.registerCommand(a.PASTE_COMMAND,R=>{const[,P,ie]=z(R);if(0<P.length&&!ie)return B.dispatchCommand(S,P),!0;if(a.isSelectionCapturedInDecoratorInput(R.target))return!1;const Ee=a.$getSelection();return a.$INTERNAL_isPointSelection(Ee)?(k(R,B),!0):!1},a.COMMAND_PRIORITY_EDITOR))},Et}var Oa,Aa;function jl(){return Aa||(Aa=1,Oa=Rd()),Oa}var Ra;function Md(){if(Ra)return Zi;Ra=1;var i=Mt(),r=vd(),o=gt,a=Cd(),f=st(),g=Ju,m=wd(),v=jl(),x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?o.useLayoutEffect:o.useEffect;function b(p){return p.getEditorState().read(a.$canShowPlaceholderCurry(p.isComposing()))}function N(p){let[_,C]=o.useState(()=>b(p));return x(()=>{function A(){let y=b(p);C(y)}return A(),f.mergeRegister(p.registerUpdateListener(()=>{A()}),p.registerEditableListener(()=>{A()}))},[p]),_}function O(p,_){let[C,A]=o.useState(()=>p.getDecorators());return x(()=>p.registerDecoratorListener(y=>{g.flushSync(()=>{A(y)})}),[p]),o.useEffect(()=>{A(p.getDecorators())},[p]),o.useMemo(()=>{let y=[],w=Object.keys(C);for(let k=0;k<w.length;k++){let I=w[k],z=o.createElement(_,{onError:X=>p._onError(X)},o.createElement(o.Suspense,{fallback:null},C[I])),q=p.getElementByKey(I);q!==null&&y.push(g.createPortal(z,q,I))}return y},[_,C,p])}function S(p){x(()=>f.mergeRegister(v.registerRichText(p),m.registerDragonSupport(p)),[p])}function D({content:p}){var[_]=i.useLexicalComposerContext();_=N(_);let C=r();return _?typeof p=="function"?p(C):p:null}return Zi.RichTextPlugin=function({contentEditable:p,placeholder:_,ErrorBoundary:C}){let[A]=i.useLexicalComposerContext();return C=O(A,C),S(A),o.createElement(o.Fragment,null,p,o.createElement(D,{content:_}),C)},Zi}Md();var Qi={},Ma;function kd(){if(Ma)return Qi;Ma=1;var i=Mt(),r=gt;function o(){return o=Object.assign?Object.assign.bind():function(f){for(var g=1;g<arguments.length;g++){var m=arguments[g],v;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&(f[v]=m[v])}return f},o.apply(this,arguments)}var a=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?r.useLayoutEffect:r.useEffect;return Qi.ContentEditable=function({ariaActiveDescendant:f,ariaAutoComplete:g,ariaControls:m,ariaDescribedBy:v,ariaExpanded:x,ariaLabel:b,ariaLabelledBy:N,ariaMultiline:O,ariaOwns:S,ariaRequired:D,autoCapitalize:p,className:_,id:C,role:A="textbox",spellCheck:y=!0,style:w,tabIndex:k,"data-testid":I,...z}){let[q]=i.useLexicalComposerContext(),[X,B]=r.useState(!1),R=r.useCallback(P=>{q.setRootElement(P)},[q]);return a(()=>(B(q.isEditable()),q.registerEditableListener(P=>{B(P)})),[q]),r.createElement("div",o({},z,{"aria-activedescendant":X?f:void 0,"aria-autocomplete":X?g:"none","aria-controls":X?m:void 0,"aria-describedby":v,"aria-expanded":X&&A==="combobox"?!!x:void 0,"aria-label":b,"aria-labelledby":N,"aria-multiline":O,"aria-owns":X?S:void 0,"aria-readonly":X?void 0:!0,"aria-required":D,autoCapitalize:p,className:_,contentEditable:X,"data-testid":I,id:C,ref:R,role:A,spellCheck:y,style:w,tabIndex:k}))},Qi}kd();var qi,ka;function Pd(){if(ka)return qi;ka=1;var i=gt;function r(m,v){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,b){return x.__proto__=b,x},r(m,v)}function o(m,v){m.prototype=Object.create(v.prototype),m.prototype.constructor=m,r(m,v)}function a(m,v){return m===void 0&&(m=[]),v===void 0&&(v=[]),m.length!==v.length||m.some(function(x,b){return!Object.is(x,v[b])})}var f={error:null},g=function(m){function v(){for(var b,N=arguments.length,O=Array(N),S=0;S<N;S++)O[S]=arguments[S];return b=m.call.apply(m,[this].concat(O))||this,b.state=f,b.resetErrorBoundary=function(){for(var D,p=arguments.length,_=Array(p),C=0;C<p;C++)_[C]=arguments[C];b.props.onReset==null||(D=b.props).onReset.apply(D,_),b.reset()},b}o(v,m),v.getDerivedStateFromError=function(b){return{error:b}};var x=v.prototype;return x.reset=function(){this.setState(f)},x.componentDidCatch=function(b,N){var O,S;(O=(S=this.props).onError)==null||O.call(S,b,N)},x.componentDidUpdate=function(b,N){var O=this.props.resetKeys;if(this.state.error!==null&&N.error!==null&&a(b.resetKeys,O)){var S,D;(S=(D=this.props).onResetKeysChange)==null||S.call(D,b.resetKeys,O),this.reset()}},x.render=function(){var b=this.state.error,N=this.props,O=N.fallbackRender,S=N.FallbackComponent;if(N=N.fallback,b!==null){if(b={error:b,resetErrorBoundary:this.resetErrorBoundary},i.isValidElement(N))return N;if(typeof O=="function")return O(b);if(S)return i.createElement(S,b);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},v}(i.Component);return qi=function({children:m,onError:v}){return i.createElement(g,{fallback:i.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:v},m)},qi}Pd();var Xi={},Je={},Pa;function Id(){if(Pa)return Je;Pa=1;var i=Ke(),r=st();function o(W){let M=new URLSearchParams;M.append("code",W);for(let $=1;$<arguments.length;$++)M.append("v",arguments[$]);throw Error(`Minified Lexical error #${W}; visit https://lexical.dev/docs/error?${M} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(W){let M=1;for(W=W.getParent();W!=null;){if(k(W)){if(W=W.getParent(),P(W)){M++,W=W.getParent();continue}o(40)}break}return M}function f(W){W=W.getParent(),P(W)||o(40);let M=W;for(;M!==null;)M=M.getParent(),P(M)&&(W=M);return W}function g(W){let M=[];W=W.getChildren().filter(k);for(let $=0;$<W.length;$++){let j=W[$],K=j.getFirstChild();P(K)?M=M.concat(g(K)):M.push(j)}return M}function m(W){return k(W)&&P(W.getFirstChild())}function v(W){for(;W.getNextSibling()==null&&W.getPreviousSibling()==null;){let M=W.getParent();if(M==null||!k(W)&&!P(W))break;W=M}W.remove()}function x(W){return w().append(W)}function b(W,M){return k(W)&&(M.length===0||M.length===1&&W.is(M[0])&&W.getChildrenSize()===0)}function N(W,M){W.splice(W.getChildrenSize(),0,M)}function O(W,M){if(P(W))return W;let $=W.getPreviousSibling(),j=W.getNextSibling(),K=w();return K.setFormat(W.getFormatType()),K.setIndent(W.getIndent()),N(K,W.getChildren()),P($)&&M===$.getListType()?($.append(K),W.remove(),P(j)&&M===j.getListType()&&(N($,j.getChildren()),j.remove()),$):P(j)&&M===j.getListType()?(j.getFirstChildOrThrow().insertBefore(K),W.remove(),j):(M=R(M),M.append(K),W.replace(M),D(M),M)}function S(W,M){var $=W.getLastChild();let j=M.getFirstChild();$&&j&&m($)&&m(j)&&(S($.getFirstChild(),j.getFirstChild()),j.remove()),$=M.getChildren(),0<$.length&&(W.append(...$),D(W)),M.remove()}function D(W,M){if(W=M||W.getChildren(),W!==void 0)for(M=0;M<W.length;M++){let se=W[M];if(k(se)){let he=se.getValue();var $=se,j=$.getParent(),K=1;for(j!=null&&(P(j)?K=j.getStart():o(44)),$=$.getPreviousSiblings(),j=0;j<$.length;j++){let H=$[j];k(H)&&!P(H.getFirstChild())&&K++}he!==K&&se.setValue(K)}}}function p(W){if(!m(W)){var M=W.getParent(),$=M?M.getParent():void 0,j=$?$.getParent():void 0;if(P(j)&&k($)&&P(M)){var K=M?M.getFirstChild():void 0,se=M?M.getLastChild():void 0;if(W.is(K))$.insertBefore(W),M.isEmpty()&&$.remove();else if(W.is(se))$.insertAfter(W),M.isEmpty()&&$.remove();else{var he=M.getListType();K=w();let H=R(he);K.append(H),W.getPreviousSiblings().forEach(d=>H.append(d)),se=w(),he=R(he),se.append(he),N(he,W.getNextSiblings()),$.insertBefore(K),$.insertAfter(se),$.replace(W)}D(M),D(j)}}}class _ extends i.ElementNode{static getType(){return"listitem"}static clone(M){return new _(M.__value,M.__checked,M.__key)}constructor(M,$,j){super(j),this.__value=M===void 0?1:M,this.__checked=$}createDOM(M){let $=document.createElement("li"),j=this.getParent();return P(j)&&j.getListType()==="check"&&A($,this,null),$.value=this.__value,C($,M.theme,this),$}updateDOM(M,$,j){let K=this.getParent();return P(K)&&K.getListType()==="check"&&A($,this,M),$.value=this.__value,C($,j.theme,this),!1}static transform(){return M=>{let $=M.getParent();P($)&&(D($),$.getListType()!=="check"&&M.getChecked()!=null&&M.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:y,priority:0})}}static importJSON(M){let $=w();return $.setChecked(M.checked),$.setValue(M.value),$.setFormat(M.format),$.setDirection(M.direction),$}exportDOM(M){return M=this.createDOM(M._config),M.style.textAlign=this.getFormatType(),{element:M}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...M){for(let $=0;$<M.length;$++){let j=M[$];if(i.$isElementNode(j)&&this.canMergeWith(j)){let K=j.getChildren();this.append(...K),j.remove()}else super.append(j)}return this}replace(M,$){if(k(M))return super.replace(M);this.setIndent(0);let j=this.getParentOrThrow();if(!P(j))return M;if(j.__first===this.getKey())j.insertBefore(M);else if(j.__last===this.getKey())j.insertAfter(M);else{let K=R(j.getListType()),se=this.getNextSibling();for(;se;){let he=se;se=se.getNextSibling(),K.append(he)}j.insertAfter(M),M.insertAfter(K)}return $&&this.getChildren().forEach(K=>{M.append(K)}),this.remove(),j.getChildrenSize()===0&&j.remove(),M}insertAfter(M,$=!0){var j=this.getParentOrThrow();P(j)||o(39);var K=this.getNextSiblings();if(k(M))return $=super.insertAfter(M,$),M=M.getParentOrThrow(),P(M)&&D(M),$;if(P(M)){for(j=M,M=M.getChildren(),K=M.length-1;0<=K;K--)j=M[K],this.insertAfter(j,$);return j}if(j.insertAfter(M,$),K.length!==0){let se=R(j.getListType());K.forEach(he=>se.append(he)),M.insertAfter(se,$)}return M}remove(M){let $=this.getPreviousSibling(),j=this.getNextSibling();super.remove(M),$&&j&&m($)&&m(j)?(S($.getFirstChild(),j.getFirstChild()),j.remove()):j&&(M=j.getParent(),P(M)&&D(M))}insertNewAfter(M,$=!0){return M=w(this.__checked==null?void 0:!1),this.insertAfter(M,$),M}collapseAtStart(M){let $=i.$createParagraphNode();this.getChildren().forEach(he=>$.append(he));var j=this.getParentOrThrow(),K=j.getParentOrThrow();let se=k(K);return j.getChildrenSize()===1?se?(j.remove(),K.select()):(j.insertBefore($),j.remove(),j=M.anchor,M=M.focus,K=$.getKey(),j.type==="element"&&j.getNode().is(this)&&j.set(K,j.offset,"element"),M.type==="element"&&M.getNode().is(this)&&M.set(K,M.offset,"element")):(j.insertBefore($),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(M){this.getWritable().__value=M}getChecked(){return this.getLatest().__checked}setChecked(M){this.getWritable().__checked=M}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var M=this.getParent();if(M===null)return this.getLatest().__indent;M=M.getParentOrThrow();let $=0;for(;k(M);)M=M.getParentOrThrow().getParentOrThrow(),$++;return $}setIndent(M){typeof M=="number"&&-1<M||o(117);let $=this.getIndent();for(;$!==M;)if($<M){e:{var j=new Set;if(m(this)||j.has(this.getKey()))break e;let H=this.getParent();var K=this.getNextSibling(),se=this.getPreviousSibling();if(m(K)&&m(se)){if(se=se.getFirstChild(),P(se)){se.append(this);var he=K.getFirstChild();P(he)&&(he=he.getChildren(),N(se,he),K.remove(),j.add(K.getKey())),D(se)}}else m(K)?(K=K.getFirstChild(),P(K)&&(j=K.getFirstChild(),j!==null&&j.insertBefore(this),D(K))):m(se)?(K=se.getFirstChild(),P(K)&&(K.append(this),D(K))):P(H)&&(j=w(),he=R(H.getListType()),j.append(he),he.append(this),se?se.insertAfter(j):K?K.insertBefore(j):H.append(j),D(he));P(H)&&D(H)}$++}else p(this),$--;return this}insertBefore(M){if(k(M)){let $=this.getParentOrThrow();if(P($)){let j=this.getNextSiblings();D($,j)}}return super.insertBefore(M)}canInsertAfter(M){return k(M)}canReplaceWith(M){return k(M)}canMergeWith(M){return i.$isParagraphNode(M)||k(M)}extractWithChild(M,$){if(!i.$isRangeSelection($))return!1;M=$.anchor.getNode();let j=$.focus.getNode();return this.isParentOf(M)&&this.isParentOf(j)&&this.getTextContent().length===$.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return R("bullet")}}function C(W,M,$){let j=[],K=[];var se=(M=M.list)?M.listitem:void 0;if(M&&M.nested)var he=M.nested.listitem;if(se!==void 0&&(se=se.split(" "),j.push(...se)),M){se=$.getParent(),se=P(se)&&se.getListType()==="check";let H=$.getChecked();se&&!H||K.push(M.listitemUnchecked),se&&H||K.push(M.listitemChecked),se&&j.push(H?M.listitemChecked:M.listitemUnchecked)}he!==void 0&&(he=he.split(" "),$.getChildren().some(H=>P(H))?j.push(...he):K.push(...he)),0<K.length&&r.removeClassNamesFromElement(W,...K),0<j.length&&r.addClassNamesToElement(W,...j)}function A(W,M,$){P(M.getFirstChild())?(W.removeAttribute("role"),W.removeAttribute("tabIndex"),W.removeAttribute("aria-checked")):(W.setAttribute("role","checkbox"),W.setAttribute("tabIndex","-1"),$&&M.__checked===$.__checked||W.setAttribute("aria-checked",M.getChecked()?"true":"false"))}function y(W){return W=r.isHTMLElement(W)&&W.getAttribute("aria-checked")==="true",{node:w(W)}}function w(W){return i.$applyNodeReplacement(new _(void 0,W))}function k(W){return W instanceof _}class I extends i.ElementNode{static getType(){return"list"}static clone(M){return new I(M.__listType||B[M.__tag],M.__start,M.__key)}constructor(M,$,j){super(j),this.__listType=M=B[M]||M,this.__tag=M==="number"?"ol":"ul",this.__start=$}getTag(){return this.__tag}setListType(M){let $=this.getWritable();$.__listType=M,$.__tag=M==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(M){let $=document.createElement(this.__tag);return this.__start!==1&&$.setAttribute("start",String(this.__start)),$.__lexicalListType=this.__listType,z($,M.theme,this),$}updateDOM(M,$,j){return M.__tag!==this.__tag?!0:(z($,j.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:X,priority:0}),ul:()=>({conversion:X,priority:0})}}static importJSON(M){let $=R(M.listType,M.start);return $.setFormat(M.format),$.setIndent(M.indent),$.setDirection(M.direction),$}exportDOM(M){return{element:M}=super.exportDOM(M),M&&r.isHTMLElement(M)&&(this.__start!==1&&M.setAttribute("start",String(this.__start)),this.__listType==="check"&&M.setAttribute("__lexicalListType","check")),{element:M}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...M){for(let j=0;j<M.length;j++){var $=M[j];if(k($))super.append($);else{let K=w();P($)||i.$isElementNode($)&&($=i.$createTextNode($.getTextContent())),K.append($),super.append(K)}}return D(this),this}extractWithChild(M){return k(M)}}function z(W,M,$){let j=[],K=[];var se=M.list;if(se!==void 0){let H=se[`${$.__tag}Depth`]||[];M=a($)-1;let d=M%H.length;var he=H[d];let h=se[$.__tag],E;if(se=se.nested,se!==void 0&&se.list&&(E=se.list),h!==void 0&&j.push(h),he!==void 0)for(he=he.split(" "),j.push(...he),he=0;he<H.length;he++)he!==d&&K.push($.__tag+he);E!==void 0&&($=E.split(" "),1<M?j.push(...$):K.push(...$))}0<K.length&&r.removeClassNamesFromElement(W,...K),0<j.length&&r.addClassNamesToElement(W,...j)}function q(W){let M=[];for(let j=0;j<W.length;j++){var $=W[j];k($)?(M.push($),$=$.getChildren(),1<$.length&&$.forEach(K=>{P(K)&&M.push(x(K))})):M.push(x($))}return M}function X(W){let M=W.nodeName.toLowerCase(),$=null;return M==="ol"?$=R("number",W.start):M==="ul"&&($=r.isHTMLElement(W)&&W.getAttribute("__lexicallisttype")==="check"?R("check"):R("bullet")),{after:q,node:$}}let B={ol:"number",ul:"bullet"};function R(W,M=1){return i.$applyNodeReplacement(new I(W,M))}function P(W){return W instanceof I}let ie=i.createCommand("INSERT_UNORDERED_LIST_COMMAND"),Ee=i.createCommand("INSERT_ORDERED_LIST_COMMAND"),G=i.createCommand("INSERT_CHECK_LIST_COMMAND"),le=i.createCommand("REMOVE_LIST_COMMAND");return Je.$createListItemNode=w,Je.$createListNode=R,Je.$getListDepth=a,Je.$handleListInsertParagraph=function(){var W=i.$getSelection();if(!i.$isRangeSelection(W)||!W.isCollapsed()||(W=W.anchor.getNode(),!k(W)||W.getChildrenSize()!==0))return!1;var M=f(W),$=W.getParent();P($)||o(40);let j=$.getParent(),K;if(i.$isRootOrShadowRoot(j))K=i.$createParagraphNode(),M.insertAfter(K);else if(k(j))K=w(),j.insertAfter(K);else return!1;if(K.select(),M=W.getNextSiblings(),0<M.length){let se=R($.getListType());i.$isParagraphNode(K)?K.insertAfter(se):($=w(),$.append(se),K.insertAfter($)),M.forEach(he=>{he.remove(),se.append(he)})}return v(W),!0},Je.$isListItemNode=k,Je.$isListNode=P,Je.INSERT_CHECK_LIST_COMMAND=G,Je.INSERT_ORDERED_LIST_COMMAND=Ee,Je.INSERT_UNORDERED_LIST_COMMAND=ie,Je.ListItemNode=_,Je.ListNode=I,Je.REMOVE_LIST_COMMAND=le,Je.insertList=function(W,M){W.update(()=>{var $=i.$getSelection();if(i.$INTERNAL_isPointSelection($)){var j=$.getNodes();$=$.anchor.getNode();var K=$.getParent();if(b($,j))j=R(M),i.$isRootOrShadowRoot(K)?($.replace(j),K=w(),i.$isElementNode($)&&(K.setFormat($.getFormatType()),K.setIndent($.getIndent())),j.append(K)):k($)&&($=$.getParentOrThrow(),N(j,$.getChildren()),$.replace(j));else for($=new Set,K=0;K<j.length;K++){var se=j[K];if(i.$isElementNode(se)&&se.isEmpty()&&!k(se)&&!$.has(se.getKey()))O(se,M);else if(i.$isLeafNode(se))for(se=se.getParent();se!=null;){let H=se.getKey();if(P(se)){if(!$.has(H)){var he=R(M);N(he,se.getChildren()),se.replace(he),D(he),$.add(H)}break}else{if(he=se.getParent(),i.$isRootOrShadowRoot(he)&&!$.has(H)){$.add(H),O(se,M);break}se=he}}}}})},Je.removeList=function(W){W.update(()=>{let M=i.$getSelection();if(i.$isRangeSelection(M)){var $=new Set,j=M.getNodes(),K=M.anchor.getNode();if(b(K,j))$.add(f(K));else for(K=0;K<j.length;K++){var se=j[K];i.$isLeafNode(se)&&(se=r.$getNearestNodeOfType(se,_),se!=null&&$.add(f(se)))}for(let he of $){$=he,j=g(he);for(let H of j)j=i.$createParagraphNode(),N(j,H.getChildren()),$.insertAfter(j),$=j,H.__key===M.anchor.key&&M.anchor.set(j.getKey(),0,"element"),H.__key===M.focus.key&&M.focus.set(j.getKey(),0,"element"),H.remove();he.remove()}}})},Je}var Ia,Da;function Wl(){return Da||(Da=1,Ia=Id()),Ia}var La;function Dd(){if(La)return Xi;La=1;var i=Wl(),r=Mt(),o=gt,a=st(),f=Ke();function g(m){o.useEffect(()=>a.mergeRegister(m.registerCommand(i.INSERT_ORDERED_LIST_COMMAND,()=>(i.insertList(m,"number"),!0),f.COMMAND_PRIORITY_LOW),m.registerCommand(i.INSERT_UNORDERED_LIST_COMMAND,()=>(i.insertList(m,"bullet"),!0),f.COMMAND_PRIORITY_LOW),m.registerCommand(i.REMOVE_LIST_COMMAND,()=>(i.removeList(m),!0),f.COMMAND_PRIORITY_LOW),m.registerCommand(f.INSERT_PARAGRAPH_COMMAND,()=>!!i.$handleListInsertParagraph(),f.COMMAND_PRIORITY_LOW)),[m])}return Xi.ListPlugin=function(){let[m]=r.useLexicalComposerContext();return o.useEffect(()=>{if(!m.hasNodes([i.ListNode,i.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[m]),g(m),null},Xi}Dd();var eo={},At={},$a;function Ld(){if($a)return At;$a=1;var i=st(),r=Ke();let o=new Set(["http:","https:","mailto:","sms:","tel:"]);class a extends r.ElementNode{static getType(){return"link"}static clone(S){return new a(S.__url,{rel:S.__rel,target:S.__target,title:S.__title},S.__key)}constructor(S,D={},p){super(p);let{target:_=null,rel:C=null,title:A=null}=D;this.__url=S,this.__target=_,this.__rel=C,this.__title=A}createDOM(S){let D=document.createElement("a");return D.href=this.sanitizeUrl(this.__url),this.__target!==null&&(D.target=this.__target),this.__rel!==null&&(D.rel=this.__rel),this.__title!==null&&(D.title=this.__title),i.addClassNamesToElement(D,S.theme.link),D}updateDOM(S,D){let p=this.__url,_=this.__target,C=this.__rel,A=this.__title;return p!==S.__url&&(D.href=p),_!==S.__target&&(_?D.target=_:D.removeAttribute("target")),C!==S.__rel&&(C?D.rel=C:D.removeAttribute("rel")),A!==S.__title&&(A?D.title=A:D.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:f,priority:1})}}static importJSON(S){let D=g(S.url,{rel:S.rel,target:S.target,title:S.title});return D.setFormat(S.format),D.setIndent(S.indent),D.setDirection(S.direction),D}sanitizeUrl(S){try{let D=new URL(S);if(!o.has(D.protocol))return"about:blank"}catch{}return S}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(S){this.getWritable().__url=S}getTarget(){return this.getLatest().__target}setTarget(S){this.getWritable().__target=S}getRel(){return this.getLatest().__rel}setRel(S){this.getWritable().__rel=S}getTitle(){return this.getLatest().__title}setTitle(S){this.getWritable().__title=S}insertNewAfter(S,D=!0){return S=g(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),this.insertAfter(S,D),S}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(S,D){if(!r.$isRangeSelection(D))return!1;S=D.anchor.getNode();let p=D.focus.getNode();return this.isParentOf(S)&&this.isParentOf(p)&&0<D.getTextContent().length}}function f(O){let S=null;if(i.isHTMLAnchorElement(O)){let D=O.textContent;(D!==null&&D!==""||0<O.children.length)&&(S=g(O.getAttribute("href")||"",{rel:O.getAttribute("rel"),target:O.getAttribute("target"),title:O.getAttribute("title")}))}return{node:S}}function g(O,S){return r.$applyNodeReplacement(new a(O,S))}function m(O){return O instanceof a}class v extends a{static getType(){return"autolink"}static clone(S){return new v(S.__url,{rel:S.__rel,target:S.__target,title:S.__title},S.__key)}static importJSON(S){let D=x(S.url,{rel:S.rel,target:S.target,title:S.title});return D.setFormat(S.format),D.setIndent(S.indent),D.setDirection(S.direction),D}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(S,D=!0){return S=this.getParentOrThrow().insertNewAfter(S,D),r.$isElementNode(S)?(D=x(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),S.append(D),D):null}}function x(O,S){return r.$applyNodeReplacement(new v(O,S))}let b=r.createCommand("TOGGLE_LINK_COMMAND");function N(O,S){for(;O!==null&&O.getParent()!==null&&!S(O);)O=O.getParentOrThrow();return S(O)?O:null}return At.$createAutoLinkNode=x,At.$createLinkNode=g,At.$isAutoLinkNode=function(O){return O instanceof v},At.$isLinkNode=m,At.AutoLinkNode=v,At.LinkNode=a,At.TOGGLE_LINK_COMMAND=b,At.toggleLink=function(O,S={}){let{target:D,title:p}=S,_=S.rel===void 0?"noreferrer":S.rel;if(S=r.$getSelection(),r.$isRangeSelection(S))if(S=S.extract(),O===null)S.forEach(C=>{if(C=C.getParent(),m(C)){let A=C.getChildren();for(let y=0;y<A.length;y++)C.insertBefore(A[y]);C.remove()}});else{if(S.length===1){let y=N(S[0],m);if(y!==null){y.setURL(O),D!==void 0&&y.setTarget(D),_!==null&&y.setRel(_),p!==void 0&&y.setTitle(p);return}}let C=null,A=null;S.forEach(y=>{var w=y.getParent();if(w!==A&&w!==null&&(!r.$isElementNode(y)||y.isInline()))if(m(w))A=w,w.setURL(O),D!==void 0&&w.setTarget(D),_!==null&&A.setRel(_),p!==void 0&&A.setTitle(p);else if(w.is(C)||(C=w,A=g(O,{rel:_,target:D,title:p}),m(w)?y.getPreviousSibling()===null?w.insertBefore(A):w.insertAfter(A):y.insertBefore(A)),m(y)){if(!y.is(A)){if(A!==null){w=y.getChildren();for(let k=0;k<w.length;k++)A.append(w[k])}y.remove()}}else A!==null&&A.append(y)})}},At}var Fa,Ba;function Yl(){return Ba||(Ba=1,Fa=Ld()),Fa}var Ha;function $d(){if(Ha)return eo;Ha=1;var i=Yl(),r=Mt(),o=st(),a=Ke(),f=gt;return eo.LinkPlugin=function({validateUrl:g}){let[m]=r.useLexicalComposerContext();return f.useEffect(()=>{if(!m.hasNodes([i.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return o.mergeRegister(m.registerCommand(i.TOGGLE_LINK_COMMAND,v=>{if(v===null)return i.toggleLink(v),!0;if(typeof v=="string")return g===void 0||g(v)?(i.toggleLink(v),!0):!1;let{url:x,target:b,rel:N,title:O}=v;return i.toggleLink(x,{rel:N,target:b,title:O}),!0},a.COMMAND_PRIORITY_LOW),g!==void 0?m.registerCommand(a.PASTE_COMMAND,v=>{let x=a.$getSelection();if(!a.$isRangeSelection(x)||x.isCollapsed()||!(v instanceof ClipboardEvent)||v.clipboardData==null)return!1;let b=v.clipboardData.getData("text");return g(b)?x.getNodes().some(N=>a.$isElementNode(N))?!1:(m.dispatchCommand(i.TOGGLE_LINK_COMMAND,b),v.preventDefault(),!0):!1},a.COMMAND_PRIORITY_LOW):()=>{})},[m,g]),null},eo}$d();var to={},Se={},Ua;function Fd(){if(Ua)return Se;Ua=1;var i=Ke(),r=st();let o=/^(\d+(?:\.\d+)?)px$/,a={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class f extends i.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(h){let E=new f(h.__headerState,h.__colSpan,h.__width,h.__key);return E.__rowSpan=h.__rowSpan,E.__backgroundColor=h.__backgroundColor,E}static importDOM(){return{td:()=>({conversion:g,priority:0}),th:()=>({conversion:g,priority:0})}}static importJSON(h){let E=h.rowSpan||1,F=m(h.headerState,h.colSpan||1,h.width||void 0);return F.__rowSpan=E,F.__backgroundColor=h.backgroundColor||null,F}constructor(h=a.NO_STATUS,E=1,F,V){super(E,V),this.__headerState=h,this.__width=F,this.__backgroundColor=null}createDOM(h){let E=document.createElement(this.getTag());return this.__width&&(E.style.width=`${this.__width}px`),1<this.__colSpan&&(E.colSpan=this.__colSpan),1<this.__rowSpan&&(E.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(E.style.backgroundColor=this.__backgroundColor),r.addClassNamesToElement(E,h.theme.tableCell,this.hasHeader()&&h.theme.tableCellHeader),E}exportDOM(h){if({element:h}=super.exportDOM(h),h){var E=this.getParentOrThrow().getChildrenSize();h.style.border="1px solid black",1<this.__colSpan&&(h.colSpan=this.__colSpan),1<this.__rowSpan&&(h.rowSpan=this.__rowSpan),h.style.width=`${this.getWidth()||Math.max(90,700/E)}px`,h.style.verticalAlign="top",h.style.textAlign="start",E=this.getBackgroundColor(),E!==null?h.style.backgroundColor=E:this.hasHeader()&&(h.style.backgroundColor="#f2f3f5")}return{element:h}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(h){return this.getWritable().__headerState=h,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(h){return this.getWritable().__width=h,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(h){this.getWritable().__backgroundColor=h}toggleHeaderStyle(h){let E=this.getWritable();return E.__headerState=(E.__headerState&h)===h?E.__headerState-h:E.__headerState+h,E}hasHeaderState(h){return(this.getHeaderStyles()&h)===h}hasHeader(){return this.getLatest().__headerState!==a.NO_STATUS}updateDOM(h){return h.__headerState!==this.__headerState||h.__width!==this.__width||h.__colSpan!==this.__colSpan||h.__rowSpan!==this.__rowSpan||h.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function g(d){var h=d.nodeName.toLowerCase();let E;return o.test(d.style.width)&&(E=parseFloat(d.style.width)),h=m(h==="th"?a.ROW:a.NO_STATUS,d.colSpan,E),h.__rowSpan=d.rowSpan,d=d.style.backgroundColor,d!==""&&(h.__backgroundColor=d),{forChild:(F,V)=>v(V)&&!i.$isElementNode(F)?(V=i.$createParagraphNode(),i.$isLineBreakNode(F)&&F.getTextContent()===`
`?null:(V.append(F),V)):F,node:h}}function m(d,h=1,E){return i.$applyNodeReplacement(new f(d,h,E))}function v(d){return d instanceof f}class x extends i.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(h){return new x(h.__height,h.__key)}static importDOM(){return{tr:()=>({conversion:b,priority:0})}}static importJSON(h){return N(h.height)}constructor(h,E){super(E),this.__height=h}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(h){let E=document.createElement("tr");return this.__height&&(E.style.height=`${this.__height}px`),r.addClassNamesToElement(E,h.theme.tableRow),E}isShadowRoot(){return!0}setHeight(h){return this.getWritable().__height=h,this.__height}getHeight(){return this.getLatest().__height}updateDOM(h){return h.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function b(d){let h;return o.test(d.style.height)&&(h=parseFloat(d.style.height)),{node:N(h)}}function N(d){return i.$applyNodeReplacement(new x(d))}function O(d){return d instanceof x}function S(d){let h=new URLSearchParams;h.append("code",d);for(let E=1;E<arguments.length;E++)h.append("v",arguments[E]);throw Error(`Minified Lexical error #${d}; visit https://lexical.dev/docs/error?${h} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";class p{constructor(h,E){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=E,this.editor=h,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach(h=>h())}trackTableGrid(){let h=new MutationObserver(E=>{this.editor.update(()=>{var F=!1;for(let V=0;V<E.length;V++){const J=E[V].target.nodeName;if(J==="TABLE"||J==="TR"){F=!0;break}}if(F){if(F=this.editor.getElementByKey(this.tableNodeKey),!F)throw Error("Expected to find TableElement in DOM");this.grid=C(F)}})});this.editor.update(()=>{let E=this.editor.getElementByKey(this.tableNodeKey);if(!E)throw Error("Expected to find TableElement in DOM");this.grid=C(E),h.observe(E,{childList:!0,subtree:!0})})}clearHighlight(){let h=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),h.update(()=>{var E=i.$getNodeByKey(this.tableNodeKey);if(!M(E))throw Error("Expected TableNode.");if(E=h.getElementByKey(this.tableNodeKey),!E)throw Error("Expected to find TableElement in DOM");E=C(E),A(h,E,null),i.$setSelection(null),h.dispatchCommand(i.SELECTION_CHANGE_COMMAND,void 0)})}enableHighlightStyle(){let h=this.editor;h.update(()=>{let E=h.getElementByKey(this.tableNodeKey);if(!E)throw Error("Expected to find TableElement in DOM");r.removeClassNamesFromElement(E,h._config.theme.tableSelection),E.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){let h=this.editor;h.update(()=>{let E=h.getElementByKey(this.tableNodeKey);if(!E)throw Error("Expected to find TableElement in DOM");r.addClassNamesToElement(E,h._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0})}updateTableGridSelection(h){if(h!=null&&h.gridKey===this.tableNodeKey){let E=this.editor;this.gridSelection=h,this.isHighlightingCells=!0,this.disableHighlightStyle(),A(E,this.grid,this.gridSelection)}else h==null?this.clearHighlight():(this.tableNodeKey=h.gridKey,this.updateTableGridSelection(h))}setFocusCellForSelection(h,E=!1){let F=this.editor;F.update(()=>{var V=i.$getNodeByKey(this.tableNodeKey);if(!M(V))throw Error("Expected TableNode.");if(!F.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");V=h.x;let J=h.y;if(this.focusCell=h,this.anchorCell!==null){let Z=D?(F._window||window).getSelection():null;Z&&Z.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(!this.isHighlightingCells&&(this.anchorX!==V||this.anchorY!==J||E))this.isHighlightingCells=!0,this.disableHighlightStyle();else if(V===this.focusX&&J===this.focusY)return;this.focusX=V,this.focusY=J,this.isHighlightingCells&&(V=i.$getNearestNodeFromDOMNode(h.elem),this.gridSelection!=null&&this.anchorCellNodeKey!=null&&v(V)&&(V=V.getKey(),this.gridSelection=this.gridSelection.clone()||i.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=V,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),i.$setSelection(this.gridSelection),F.dispatchCommand(i.SELECTION_CHANGE_COMMAND,void 0),A(F,this.grid,this.gridSelection)))})}setAnchorCellForSelection(h){this.isHighlightingCells=!1,this.anchorCell=h,this.anchorX=h.x,this.anchorY=h.y,this.editor.update(()=>{var E=i.$getNearestNodeFromDOMNode(h.elem);v(E)&&(E=E.getKey(),this.gridSelection=this.gridSelection!=null?this.gridSelection.clone():i.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=E)})}formatCells(h){this.editor.update(()=>{let E=i.$getSelection();i.DEPRECATED_$isGridSelection(E)||S(11);let F=i.$createRangeSelection(),V=F.anchor,J=F.focus;E.getNodes().forEach(Z=>{v(Z)&&Z.getTextContentSize()!==0&&(V.set(Z.getKey(),0,"element"),J.set(Z.getKey(),Z.getChildrenSize(),"element"),F.formatText(h))}),i.$setSelection(E),this.editor.dispatchCommand(i.SELECTION_CHANGE_COMMAND,void 0)})}clearText(){let h=this.editor;h.update(()=>{let E=i.$getNodeByKey(this.tableNodeKey);if(!M(E))throw Error("Expected TableNode.");var F=i.$getSelection();i.DEPRECATED_$isGridSelection(F)||S(11),F=F.getNodes().filter(v),F.length===this.grid.columns*this.grid.rows?(E.selectPrevious(),E.remove(),i.$getRoot().selectStart()):(F.forEach(V=>{if(i.$isElementNode(V)){let J=i.$createParagraphNode(),Z=i.$createTextNode();J.append(Z),V.append(J),V.getChildren().forEach(re=>{re!==J&&re.remove()})}}),A(h,this.grid,null),i.$setSelection(null),h.dispatchCommand(i.SELECTION_CHANGE_COMMAND,void 0))})}}function _(d){for(;d!=null;){let h=d.nodeName;if(h==="TD"||h==="TH"){if(d=d._cell,d===void 0)break;return d}d=d.parentNode}return null}function C(d){let h=[],E={cells:h,columns:0,rows:0};var F=d.firstChild;let V=d=0;for(h.length=0;F!=null;){var J=F.nodeName;if(J==="TD"||J==="TH"){J=F,J={elem:J,hasBackgroundColor:J.style.backgroundColor!=="",highlighted:!1,x:d,y:V},F._cell=J;let Z=h[V];Z===void 0&&(Z=h[V]=[]),Z[d]=J}else if(J=F.firstChild,J!=null){F=J;continue}if(J=F.nextSibling,J!=null)d++,F=J;else if(J=F.parentNode,J!=null){if(F=J.nextSibling,F==null)break;V++,d=0}}return E.columns=d+1,E.rows=V+1,E}function A(d,h,E){let F=new Set(E?E.getNodes():[]);y(h,(V,J)=>{let Z=V.elem;F.has(J)?(V.highlighted=!0,X(d,V)):(V.highlighted=!1,B(d,V),Z.getAttribute("style")||Z.removeAttribute("style"))})}function y(d,h){({cells:d}=d);for(let E=0;E<d.length;E++){let F=d[E];if(F)for(let V=0;V<F.length;V++){let J=F[V];if(!J)continue;let Z=i.$getNearestNodeFromDOMNode(J.elem);Z!==null&&h(J,Z,{x:V,y:E})}}}function w(d,h){h.disableHighlightStyle(),y(h.grid,E=>{E.highlighted=!0,X(d,E)})}function k(d,h){h.enableHighlightStyle(),y(h.grid,E=>{let F=E.elem;E.highlighted=!1,B(d,E),F.getAttribute("style")||F.removeAttribute("style")})}let I=(d,h,E,F,V)=>{const J=V==="forward";switch(V){case"backward":case"forward":return E!==(J?d.grid.columns-1:0)?(d=h.getCellNodeFromCordsOrThrow(E+(J?1:-1),F,d.grid),J?d.selectStart():d.selectEnd()):F!==(J?d.grid.rows-1:0)?(d=h.getCellNodeFromCordsOrThrow(J?0:d.grid.columns-1,F+(J?1:-1),d.grid),J?d.selectStart():d.selectEnd()):J?h.selectNext():h.selectPrevious(),!0;case"up":return F!==0?h.getCellNodeFromCordsOrThrow(E,F-1,d.grid).selectEnd():h.selectPrevious(),!0;case"down":return F!==d.grid.rows-1?h.getCellNodeFromCordsOrThrow(E,F+1,d.grid).selectStart():h.selectNext(),!0;default:return!1}},z=(d,h,E,F,V)=>{const J=V==="forward";switch(V){case"backward":case"forward":return E!==(J?d.grid.columns-1:0)&&d.setFocusCellForSelection(h.getCellFromCordsOrThrow(E+(J?1:-1),F,d.grid)),!0;case"up":return F!==0?(d.setFocusCellForSelection(h.getCellFromCordsOrThrow(E,F-1,d.grid)),!0):!1;case"down":return F!==d.grid.rows-1?(d.setFocusCellForSelection(h.getCellFromCordsOrThrow(E,F+1,d.grid)),!0):!1;default:return!1}};function q(d,h){if(i.$isRangeSelection(d)||i.DEPRECATED_$isGridSelection(d)){let E=h.isParentOf(d.anchor.getNode());return d=h.isParentOf(d.focus.getNode()),E&&d}return!1}function X(d,h){d=h.elem,h=i.$getNearestNodeFromDOMNode(d),v(h)||S(131),h.getBackgroundColor()===null?d.style.setProperty("background-color","rgb(172,206,247)"):d.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),d.style.setProperty("caret-color","transparent")}function B(d,h){d=h.elem,h=i.$getNearestNodeFromDOMNode(d),v(h)||S(131),h.getBackgroundColor()===null&&d.style.removeProperty("background-color"),d.style.removeProperty("background-image"),d.style.removeProperty("caret-color")}function R(d){return d=r.$findMatchingParent(d,v),v(d)?d:null}function P(d){return d=r.$findMatchingParent(d,M),M(d)?d:null}function ie(d,h,E,F,V){let J=i.$getSelection();if(!q(J,F))return!1;if(i.$isRangeSelection(J)&&J.isCollapsed()){if(E==="backward"||E==="forward")return!1;let{anchor:me,focus:te}=J;var Z=r.$findMatchingParent(me.getNode(),v),re=r.$findMatchingParent(te.getNode(),v);if(!v(Z)||!Z.is(re))return!1;if(re=P(Z),re!==F&&re!=null){var fe=d.getElementByKey(re.getKey());if(fe!=null)return V.grid=C(fe),ie(d,h,E,re,V)}if(re=d.getElementByKey(Z.__key),fe=d.getElementByKey(me.key),fe==null||re==null)return!1;if(me.type==="element")re=fe.getBoundingClientRect();else{if(re=window.getSelection(),re===null||re.rangeCount===0)return!1;re=re.getRangeAt(0).getBoundingClientRect()}if(fe=E==="up"?Z.getFirstChild():Z.getLastChild(),fe==null||(d=d.getElementByKey(fe.__key),d==null))return!1;if(d=d.getBoundingClientRect(),E==="up"?d.top>re.top-re.height:re.bottom+re.height>d.bottom){if(Ee(h),d=F.getCordsFromCellNode(Z,V.grid),h.shiftKey)E=F.getCellFromCordsOrThrow(d.x,d.y,V.grid),V.setAnchorCellForSelection(E),V.setFocusCellForSelection(E,!0);else return I(V,F,d.x,d.y,E);return!0}}else if(i.DEPRECATED_$isGridSelection(J)){let{anchor:me,focus:te}=J;return fe=r.$findMatchingParent(me.getNode(),v),re=r.$findMatchingParent(te.getNode(),v),[Z]=J.getNodes(),d=d.getElementByKey(Z.getKey()),!v(fe)||!v(re)||!M(Z)||d==null?!1:(V.updateTableGridSelection(J),d=C(d),fe=F.getCordsFromCellNode(fe,d),fe=F.getCellFromCordsOrThrow(fe.x,fe.y,d),V.setAnchorCellForSelection(fe),Ee(h),h.shiftKey?(h=F.getCordsFromCellNode(re,d),z(V,Z,h.x,h.y,E)):(re.selectEnd(),!0))}return!1}function Ee(d){d.preventDefault(),d.stopImmediatePropagation(),d.stopPropagation()}class G extends i.DEPRECATED_GridNode{static getType(){return"table"}static clone(h){return new G(h.__key)}static importDOM(){return{table:()=>({conversion:le,priority:1})}}static importJSON(){return W()}constructor(h){super(h)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(h){let E=document.createElement("table");return r.addClassNamesToElement(E,h.theme.table),E}updateDOM(){return!1}exportDOM(h){return{...super.exportDOM(h),after:E=>{if(E){let F=E.cloneNode(),V=document.createElement("colgroup"),J=document.createElement("tbody");if(r.isHTMLElement(E)&&J.append(...E.children),E=this.getFirstChildOrThrow(),!O(E))throw Error("Expected to find row node.");E=E.getChildrenSize();for(let Z=0;Z<E;Z++){let re=document.createElement("col");V.append(re)}return F.replaceChildren(V,J),F}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(h,E){let{rows:F,cells:V}=E;for(E=0;E<F;E++){var J=V[E];if(J!=null&&(J=J.findIndex(Z=>{if(Z)return{elem:Z}=Z,i.$getNearestNodeFromDOMNode(Z)===h}),J!==-1))return{x:J,y:E}}throw Error("Cell not found in table.")}getCellFromCords(h,E,F){return{cells:F}=F,E=F[E],E==null?null:(h=E[h],h??null)}getCellFromCordsOrThrow(h,E,F){if(h=this.getCellFromCords(h,E,F),!h)throw Error("Cell not found at cords.");return h}getCellNodeFromCords(h,E,F){return h=this.getCellFromCords(h,E,F),h==null?null:(h=i.$getNearestNodeFromDOMNode(h.elem),v(h)?h:null)}getCellNodeFromCordsOrThrow(h,E,F){if(h=this.getCellNodeFromCords(h,E,F),!h)throw Error("Node at cords not TableCellNode.");return h}canSelectBefore(){return!0}canIndent(){return!1}}function le(){return{node:W()}}function W(){return i.$applyNodeReplacement(new G)}function M(d){return d instanceof G}function $(d){if(d=r.$findMatchingParent(d,h=>O(h)),O(d))return d;throw Error("Expected table cell to be inside of table row.")}function j(d){if(d=r.$findMatchingParent(d,h=>M(h)),M(d))return d;throw Error("Expected table cell to be inside of table.")}function K(d,h){let E=j(d),{x:F,y:V}=E.getCordsFromCellNode(d,h);return{above:E.getCellNodeFromCords(F,V-1,h),below:E.getCellNodeFromCords(F,V+1,h),left:E.getCellNodeFromCords(F-1,V,h),right:E.getCellNodeFromCords(F+1,V,h)}}function se(d){let h=d.getFirstDescendant();h==null?d.selectStart():h.getParentOrThrow().selectStart()}function he(d,h){let E=d.getFirstChild();E!==null?E.insertBefore(h):d.append(h)}let H=i.createCommand("INSERT_TABLE_COMMAND");return Se.$createTableCellNode=m,Se.$createTableNode=W,Se.$createTableNodeWithDimensions=function(d,h,E=!0){let F=W();for(let J=0;J<d;J++){let Z=N();for(let re=0;re<h;re++){var V=a.NO_STATUS;typeof E=="object"?(J===0&&E.rows&&(V|=a.ROW),re===0&&E.columns&&(V|=a.COLUMN)):E&&(J===0&&(V|=a.ROW),re===0&&(V|=a.COLUMN)),V=m(V);let fe=i.$createParagraphNode();fe.append(i.$createTextNode()),V.append(fe),Z.append(V)}F.append(Z)}return F},Se.$createTableRowNode=N,Se.$deleteTableColumn=function(d,h){let E=d.getChildren();for(let V=0;V<E.length;V++){var F=E[V];if(O(F)){if(F=F.getChildren(),h>=F.length||0>h)throw Error("Table column target index out of range");F[h].remove()}}return d},Se.$deleteTableColumn__EXPERIMENTAL=function(){var d=i.$getSelection();if(!i.$INTERNAL_isPointSelection(d))throw Error("Expected a INTERNAL_PointSelection");var h=d.anchor.getNode();d=d.focus.getNode();let[E,,F]=i.DEPRECATED_$getNodeTriplet(h);[h]=i.DEPRECATED_$getNodeTriplet(d);let[V,J,Z]=i.DEPRECATED_$computeGridMap(F,E,h);var{startColumn:re}=J;let{startRow:fe,startColumn:me}=Z;d=Math.min(re,me),re=Math.max(re+E.__colSpan-1,me+h.__colSpan-1);let te=re-d+1;if(V[0].length===re-d+1)F.selectPrevious(),F.remove();else{var ue=V.length;for(let pe=0;pe<ue;pe++)for(let ve=d;ve<=re;ve++){let{cell:xe,startColumn:Te}=V[pe][ve];Te<d?ve===d&&xe.setColSpan(xe.__colSpan-Math.min(te,xe.__colSpan-(d-Te))):Te+xe.__colSpan-1>re?ve===re&&xe.setColSpan(xe.__colSpan-(re-Te+1)):xe.remove()}d=V[fe],h=d[me+h.__colSpan],h!==void 0?({cell:h}=h,se(h)):({cell:h}=d[me-1],se(h))}},Se.$deleteTableRow__EXPERIMENTAL=function(){var d=i.$getSelection();if(!i.$INTERNAL_isPointSelection(d))throw Error("Expected a INTERNAL_PointSelection");var h=d.anchor.getNode();d=d.focus.getNode();let[E,,F]=i.DEPRECATED_$getNodeTriplet(h);[d]=i.DEPRECATED_$getNodeTriplet(d);let[V,J,Z]=i.DEPRECATED_$computeGridMap(F,E,d);({startRow:h}=J);var{startRow:re}=Z;if(d=re+d.__rowSpan-1,V.length===d-h+1)F.remove();else{re=V[0].length;var fe=V[d+1],me=F.getChildAtIndex(d+1);for(let ue=d;ue>=h;ue--){for(var te=re-1;0<=te;te--){let{cell:pe,startRow:ve,startColumn:xe}=V[ue][te];if(xe===te&&(ue===h&&ve<h&&pe.setRowSpan(pe.__rowSpan-(ve-h)),ve>=h&&ve+pe.__rowSpan-1>d))if(pe.setRowSpan(pe.__rowSpan-(d-ve+1)),me===null&&S(122),te===0)he(me,pe);else{let{cell:Te}=fe[te-1];Te.insertAfter(pe)}}te=F.getChildAtIndex(ue),i.DEPRECATED_$isGridRowNode(te)||S(123,String(ue)),te.remove()}fe!==void 0?({cell:h}=fe[0],se(h)):({cell:h}=V[h-1][0],se(h))}},Se.$getElementGridForTableNode=function(d,h){if(d=d.getElementByKey(h.getKey()),d==null)throw Error("Table Element Not Found");return C(d)},Se.$getTableCellNodeFromLexicalNode=function(d){return d=r.$findMatchingParent(d,h=>v(h)),v(d)?d:null},Se.$getTableColumnIndexFromTableCellNode=function(d){return $(d).getChildren().findIndex(h=>h.is(d))},Se.$getTableNodeFromLexicalNodeOrThrow=j,Se.$getTableRowIndexFromTableCellNode=function(d){let h=$(d);return j(h).getChildren().findIndex(E=>E.is(h))},Se.$getTableRowNodeFromTableCellNodeOrThrow=$,Se.$insertTableColumn=function(d,h,E=!0,F,V){let J=d.getChildren(),Z=[];for(let me=0;me<J.length;me++){let te=J[me];if(O(te))for(let ue=0;ue<F;ue++){var re=te.getChildren();if(h>=re.length||0>h)throw Error("Table column target index out of range");re=re[h],v(re)||S(12);let{left:pe,right:ve}=K(re,V);var fe=a.NO_STATUS;(pe&&pe.hasHeaderState(a.ROW)||ve&&ve.hasHeaderState(a.ROW))&&(fe|=a.ROW),fe=m(fe),fe.append(i.$createParagraphNode()),Z.push({newTableCell:fe,targetCell:re})}}return Z.forEach(({newTableCell:me,targetCell:te})=>{E?te.insertAfter(me):te.insertBefore(me)}),d},Se.$insertTableColumn__EXPERIMENTAL=function(d=!0){function h(){let ue=m(a.NO_STATUS).append(i.$createParagraphNode());return me===null&&(me=ue),ue}var E=i.$getSelection();if(!i.$INTERNAL_isPointSelection(E))throw Error("Expected a PointSeleciton");var F=E.anchor.getNode();E=E.focus.getNode(),[F]=i.DEPRECATED_$getNodeTriplet(F);let[V,,J]=i.DEPRECATED_$getNodeTriplet(E),[Z,re,fe]=i.DEPRECATED_$computeGridMap(J,V,F);F=Z.length,E=d?Math.max(re.startColumn,fe.startColumn):Math.min(re.startColumn,fe.startColumn),d=d?E+V.__colSpan-1:E-1,E=J.getFirstChild(),i.DEPRECATED_$isGridRowNode(E)||S(120);let me=null;var te=E;e:for(E=0;E<F;E++){E!==0&&(te=te.getNextSibling(),i.DEPRECATED_$isGridRowNode(te)||S(121));let ue=Z[E];if(0>d){he(te,h());continue}let{cell:pe,startColumn:ve,startRow:xe}=ue[d];if(ve+pe.__colSpan-1<=d){let Te=pe,ft=xe,kt=d;for(;ft!==E&&1<Te.__rowSpan;)if(kt-=pe.__colSpan,0<=kt){let{cell:Jt,startRow:Ur}=ue[kt];Te=Jt,ft=Ur}else{te.append(h());continue e}Te.insertAfter(h())}else pe.setColSpan(pe.__colSpan+1)}me!==null&&se(me)},Se.$insertTableRow=function(d,h,E=!0,F,V){var J=d.getChildren();if(h>=J.length||0>h)throw Error("Table row target index out of range");if(h=J[h],O(h))for(J=0;J<F;J++){let re=h.getChildren(),fe=re.length,me=N();for(let te=0;te<fe;te++){var Z=re[te];v(Z)||S(12);let{above:ue,below:pe}=K(Z,V);Z=a.NO_STATUS;let ve=ue&&ue.getWidth()||pe&&pe.getWidth()||void 0;(ue&&ue.hasHeaderState(a.COLUMN)||pe&&pe.hasHeaderState(a.COLUMN))&&(Z|=a.COLUMN),Z=m(Z,1,ve),Z.append(i.$createParagraphNode()),me.append(Z)}E?h.insertAfter(me):h.insertBefore(me)}else throw Error("Row before insertion index does not exist.");return d},Se.$insertTableRow__EXPERIMENTAL=function(d=!0){var h=i.$getSelection();if(!i.$INTERNAL_isPointSelection(h))throw Error("Expected a INTERNAL_PointSelection");h=h.focus.getNode();let[E,,F]=i.DEPRECATED_$getNodeTriplet(h),[V,J]=i.DEPRECATED_$computeGridMap(F,E,E);h=V[0].length;var{startRow:Z}=J;if(d){d=Z+E.__rowSpan-1;var re=V[d];Z=N();for(var fe=0;fe<h;fe++){let{cell:me,startRow:te}=re[fe];te+me.__rowSpan-1<=d?Z.append(m(a.NO_STATUS)):me.setRowSpan(me.__rowSpan+1)}h=F.getChildAtIndex(d),i.DEPRECATED_$isGridRowNode(h)||S(119),h.insertAfter(Z)}else{for(re=V[Z],d=N(),fe=0;fe<h;fe++){let{cell:me,startRow:te}=re[fe];te===Z?d.append(m(a.NO_STATUS)):me.setRowSpan(me.__rowSpan+1)}h=F.getChildAtIndex(Z),i.DEPRECATED_$isGridRowNode(h)||S(119),h.insertBefore(d)}},Se.$isTableCellNode=v,Se.$isTableNode=M,Se.$isTableRowNode=O,Se.$removeTableRowAtIndex=function(d,h){let E=d.getChildren();if(h>=E.length||0>h)throw Error("Expected table cell to be inside of table row.");return E[h].remove(),d},Se.$unmergeCell=function(){var d=i.$getSelection();if(!i.$INTERNAL_isPointSelection(d))throw Error("Expected a INTERNAL_PointSelection");d=d.anchor.getNode();let[h,E,F]=i.DEPRECATED_$getNodeTriplet(d);d=h.__colSpan;let V=h.__rowSpan;if(1<d){for(var J=1;J<d;J++)h.insertAfter(m(a.NO_STATUS));h.setColSpan(1)}if(1<V){let[fe,me]=i.DEPRECATED_$computeGridMap(F,h,h),{startColumn:te,startRow:ue}=me,pe;for(J=1;J<V;J++){var Z=ue+J;let ve=fe[Z];pe=(pe||E).getNextSibling(),i.DEPRECATED_$isGridRowNode(pe)||S(125);var re=null;for(let xe=0;xe<te;xe++){let Te=ve[xe],ft=Te.cell;Te.startRow===Z&&(re=ft),1<ft.__colSpan&&(xe+=ft.__colSpan-1)}if(re===null)for(re=0;re<d;re++)he(pe,m(a.NO_STATUS));else for(Z=0;Z<d;Z++)re.insertAfter(m(a.NO_STATUS))}h.setRowSpan(1)}},Se.INSERT_TABLE_COMMAND=H,Se.TableCellHeaderStates=a,Se.TableCellNode=f,Se.TableNode=G,Se.TableRowNode=x,Se.TableSelection=p,Se.applyTableHandlers=function(d,h,E,F){function V(te){return te=d.getCordsFromCellNode(te,Z.grid),d.getCellFromCordsOrThrow(te.x,te.y,Z.grid)}let J=E.getRootElement();if(J===null)throw Error("No root element.");let Z=new p(E,d.getKey()),re=E._window||window;h.__lexicalTableSelection=Z,h.addEventListener("mousedown",te=>{setTimeout(()=>{if(te.button===0&&re){var ue=_(te.target);ue!==null&&(Ee(te),Z.setAnchorCellForSelection(ue));var pe=()=>{re.removeEventListener("mouseup",pe),re.removeEventListener("mousemove",ve)},ve=xe=>{const Te=_(xe.target);Te===null||Z.anchorX===Te.x&&Z.anchorY===Te.y||(xe.preventDefault(),Z.setFocusCellForSelection(Te))};re.addEventListener("mouseup",pe),re.addEventListener("mousemove",ve)}},0)});let fe=te=>{te.button===0&&E.update(()=>{const ue=i.$getSelection(),pe=te.target;i.DEPRECATED_$isGridSelection(ue)&&ue.gridKey===Z.tableNodeKey&&J.contains(pe)&&Z.clearHighlight()})};re.addEventListener("mousedown",fe),Z.listenersToRemove.add(()=>re.removeEventListener("mousedown",fe)),Z.listenersToRemove.add(E.registerCommand(i.KEY_ARROW_DOWN_COMMAND,te=>ie(E,te,"down",d,Z),i.COMMAND_PRIORITY_HIGH)),Z.listenersToRemove.add(E.registerCommand(i.KEY_ARROW_UP_COMMAND,te=>ie(E,te,"up",d,Z),i.COMMAND_PRIORITY_HIGH)),Z.listenersToRemove.add(E.registerCommand(i.KEY_ARROW_LEFT_COMMAND,te=>ie(E,te,"backward",d,Z),i.COMMAND_PRIORITY_HIGH)),Z.listenersToRemove.add(E.registerCommand(i.KEY_ARROW_RIGHT_COMMAND,te=>ie(E,te,"forward",d,Z),i.COMMAND_PRIORITY_HIGH)),Z.listenersToRemove.add(E.registerCommand(i.KEY_ESCAPE_COMMAND,te=>{var ue=i.$getSelection();return i.DEPRECATED_$isGridSelection(ue)&&(ue=r.$findMatchingParent(ue.focus.getNode(),v),v(ue))?(Ee(te),ue.selectEnd(),!0):!1},i.COMMAND_PRIORITY_HIGH));let me=te=>()=>{var ue=i.$getSelection();if(!q(ue,d))return!1;if(i.DEPRECATED_$isGridSelection(ue))return Z.clearText(),!0;if(i.$isRangeSelection(ue)){const xe=r.$findMatchingParent(ue.anchor.getNode(),Te=>v(Te));if(!v(xe))return!1;var pe=ue.anchor.getNode(),ve=ue.focus.getNode();if(pe=d.isParentOf(pe),ve=d.isParentOf(ve),pe&&!ve||ve&&!pe)return Z.clearText(),!0;if(pe=(ve=r.$findMatchingParent(ue.anchor.getNode(),Te=>i.$isElementNode(Te)))&&r.$findMatchingParent(ve,Te=>i.$isElementNode(Te)&&v(Te.getParent())),!i.$isElementNode(pe)||!i.$isElementNode(ve))return!1;if(te===i.DELETE_LINE_COMMAND&&pe.getPreviousSibling()===null)return!0;if((te===i.DELETE_CHARACTER_COMMAND||te===i.DELETE_WORD_COMMAND)&&ue.isCollapsed()&&ue.anchor.offset===0&&ve!==pe){ue=ve.getChildren();const Te=i.$createParagraphNode();return ue.forEach(ft=>Te.append(ft)),ve.replace(Te),ve.getWritable().__parent=xe.getKey(),!0}}return!1};return[i.DELETE_WORD_COMMAND,i.DELETE_LINE_COMMAND,i.DELETE_CHARACTER_COMMAND].forEach(te=>{Z.listenersToRemove.add(E.registerCommand(te,me(te),i.COMMAND_PRIORITY_CRITICAL))}),h=te=>{const ue=i.$getSelection();return q(ue,d)?i.DEPRECATED_$isGridSelection(ue)?(te.preventDefault(),te.stopPropagation(),Z.clearText(),!0):(i.$isRangeSelection(ue)&&(te=r.$findMatchingParent(ue.anchor.getNode(),pe=>v(pe)),v(te)),!1):!1},Z.listenersToRemove.add(E.registerCommand(i.KEY_BACKSPACE_COMMAND,h,i.COMMAND_PRIORITY_CRITICAL)),Z.listenersToRemove.add(E.registerCommand(i.KEY_DELETE_COMMAND,h,i.COMMAND_PRIORITY_CRITICAL)),Z.listenersToRemove.add(E.registerCommand(i.FORMAT_TEXT_COMMAND,te=>{let ue=i.$getSelection();return q(ue,d)?i.DEPRECATED_$isGridSelection(ue)?(Z.formatCells(te),!0):(i.$isRangeSelection(ue)&&(te=r.$findMatchingParent(ue.anchor.getNode(),pe=>v(pe)),v(te)),!1):!1},i.COMMAND_PRIORITY_CRITICAL)),Z.listenersToRemove.add(E.registerCommand(i.CONTROLLED_TEXT_INSERTION_COMMAND,()=>{var te=i.$getSelection();return q(te,d)&&(i.DEPRECATED_$isGridSelection(te)?Z.clearHighlight():i.$isRangeSelection(te)&&(te=r.$findMatchingParent(te.anchor.getNode(),ue=>v(ue)),v(te))),!1},i.COMMAND_PRIORITY_CRITICAL)),F&&Z.listenersToRemove.add(E.registerCommand(i.KEY_TAB_COMMAND,te=>{var ue=i.$getSelection();return!i.$isRangeSelection(ue)||!ue.isCollapsed()||!q(ue,d)||(ue=R(ue.anchor.getNode()),ue===null)?!1:(Ee(te),ue=d.getCordsFromCellNode(ue,Z.grid),I(Z,d,ue.x,ue.y,te.shiftKey?"backward":"forward"),!0)},i.COMMAND_PRIORITY_CRITICAL)),Z.listenersToRemove.add(E.registerCommand(i.FOCUS_COMMAND,()=>d.isSelected(),i.COMMAND_PRIORITY_HIGH)),Z.listenersToRemove.add(E.registerCommand(i.SELECTION_CHANGE_COMMAND,()=>{let te=i.$getSelection(),ue=i.$getPreviousSelection();if(i.$isRangeSelection(te)){let{anchor:ft,focus:kt}=te;var pe=ft.getNode(),ve=kt.getNode();pe=R(pe),ve=R(ve);var xe=pe&&d.is(P(pe)),Te=ve&&d.is(P(ve));let Jt=xe!==Te;Te=xe&&Te,xe=te.isBackward(),Jt?(pe=te.clone(),pe.focus.set(d.getKey(),xe?0:d.getChildrenSize(),"element"),i.$setSelection(pe),w(E,Z)):Te&&!pe.is(ve)&&(Z.setAnchorCellForSelection(V(pe)),Z.setFocusCellForSelection(V(ve),!0))}return te&&!te.is(ue)&&(i.DEPRECATED_$isGridSelection(te)||i.DEPRECATED_$isGridSelection(ue))&&Z.gridSelection&&!Z.gridSelection.is(ue)?(i.DEPRECATED_$isGridSelection(te)&&te.gridKey===Z.tableNodeKey?Z.updateTableGridSelection(te):!i.DEPRECATED_$isGridSelection(te)&&i.DEPRECATED_$isGridSelection(ue)&&ue.gridKey===Z.tableNodeKey&&Z.updateTableGridSelection(null),!1):(Z.hasHijackedSelectionStyles&&!d.isSelected()?k(E,Z):!Z.hasHijackedSelectionStyles&&d.isSelected()&&w(E,Z),!1)},i.COMMAND_PRIORITY_CRITICAL)),Z},Se.getCellFromTarget=_,Se.getTableSelectionFromTableElement=function(d){return d.__lexicalTableSelection},Se}var za,Ka;function Gl(){return Ka||(Ka=1,za=Fd()),za}var ja;function Bd(){if(ja)return to;ja=1;var i=Mt(),r=Gl(),o=st(),a=Ke(),f=gt;function g(m){let v=new URLSearchParams;v.append("code",m);for(let x=1;x<arguments.length;x++)v.append("v",arguments[x]);throw Error(`Minified Lexical error #${m}; visit https://lexical.dev/docs/error?${v} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}return to.TablePlugin=function({hasCellMerge:m=!0,hasCellBackgroundColor:v=!0,hasTabHandler:x=!0}){let[b]=i.useLexicalComposerContext();return f.useEffect(()=>(b.hasNodes([r.TableNode,r.TableCellNode,r.TableRowNode])||g(10),b.registerCommand(r.INSERT_TABLE_COMMAND,({columns:N,rows:O,includeHeaders:S})=>(N=r.$createTableNodeWithDimensions(Number(O),Number(N),S),o.$insertNodeToNearestRoot(N),N=N.getFirstDescendant(),a.$isTextNode(N)&&N.select(),!0),a.COMMAND_PRIORITY_EDITOR)),[b]),f.useEffect(()=>{let N=new Map,O=D=>{const p=D.getKey(),_=b.getElementByKey(p);_&&!N.has(p)&&(D=r.applyTableHandlers(D,_,b,x),N.set(p,D))};b.getEditorState().read(()=>{let D=a.$nodesOfType(r.TableNode);for(let p of D)r.$isTableNode(p)&&O(p)});let S=b.registerMutationListener(r.TableNode,D=>{for(const[p,_]of D)_==="created"?b.getEditorState().read(()=>{const C=a.$getNodeByKey(p);r.$isTableNode(C)&&O(C)}):_==="destroyed"&&(D=N.get(p),D!==void 0&&(D.removeListeners(),N.delete(p)))});return()=>{S();for(let[,D]of N)D.removeListeners()}},[b,x]),f.useEffect(()=>{if(!m)return b.registerNodeTransform(r.TableCellNode,N=>{if(1<N.getColSpan()||1<N.getRowSpan()){var[,,O]=a.DEPRECATED_$getNodeTriplet(N);[N]=a.DEPRECATED_$computeGridMap(O,N,N);let D=N.length,p=N[0].length;if(O=O.getFirstChild(),!a.DEPRECATED_$isGridRowNode(O))throw Error("Expected TableNode first child to be a RowNode");let _=[];for(let C=0;C<D;C++){if(C!==0&&(O=O.getNextSibling(),!a.DEPRECATED_$isGridRowNode(O)))throw Error("Expected TableNode first child to be a RowNode");let A=null;for(let y=0;y<p;y++){var S=N[C][y];let w=S.cell;S.startRow===C&&S.startColumn===y?(A=w,_.push(w)):(1<w.getColSpan()||1<w.getRowSpan())&&(S=r.$createTableCellNode(w.__headerState),A!==null?A.insertAfter(S):o.$insertFirst(O,S))}}for(let C of _)C.setColSpan(1),C.setRowSpan(1)}})},[b,m]),f.useEffect(()=>{if(!v)return b.registerNodeTransform(r.TableCellNode,N=>{N.getBackgroundColor()!==null&&N.setBackgroundColor(null)})},[b,v,m]),null},to}Bd();var Be={},Wa={exports:{}},Ya;function Hd(){return Ya||(Ya=1,function(i){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=function(a){var f=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,g=0,m={},v={manual:a.Prism&&a.Prism.manual,disableWorkerMessageHandler:a.Prism&&a.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof x?new x(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++g}),y.__id},clone:function y(w,k){k=k||{};var I,z;switch(v.util.type(w)){case"Object":if(z=v.util.objId(w),k[z])return k[z];I={},k[z]=I;for(var q in w)w.hasOwnProperty(q)&&(I[q]=y(w[q],k));return I;case"Array":return z=v.util.objId(w),k[z]?k[z]:(I=[],k[z]=I,w.forEach(function(X,B){I[B]=y(X,k)}),I);default:return w}},getLanguage:function(y){for(;y;){var w=f.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(f,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(I){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(I.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var k in w)if(w[k].src==y)return w[k]}return null}},isActive:function(y,w,k){for(var I="no-"+w;y;){var z=y.classList;if(z.contains(w))return!0;if(z.contains(I))return!1;y=y.parentElement}return!!k}},languages:{plain:m,plaintext:m,text:m,txt:m,extend:function(y,w){var k=v.util.clone(v.languages[y]);for(var I in w)k[I]=w[I];return k},insertBefore:function(y,w,k,I){I=I||v.languages;var z=I[y],q={};for(var X in z)if(z.hasOwnProperty(X)){if(X==w)for(var B in k)k.hasOwnProperty(B)&&(q[B]=k[B]);k.hasOwnProperty(X)||(q[X]=z[X])}var R=I[y];return I[y]=q,v.languages.DFS(v.languages,function(P,ie){ie===R&&P!=y&&(this[P]=q)}),q},DFS:function y(w,k,I,z){z=z||{};var q=v.util.objId;for(var X in w)if(w.hasOwnProperty(X)){k.call(w,X,w[X],I||X);var B=w[X],R=v.util.type(B);R==="Object"&&!z[q(B)]?(z[q(B)]=!0,y(B,k,null,z)):R==="Array"&&!z[q(B)]&&(z[q(B)]=!0,y(B,k,X,z))}}},plugins:{},highlightAll:function(y,w){v.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,k){var I={callback:k,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};v.hooks.run("before-highlightall",I),I.elements=Array.prototype.slice.apply(I.container.querySelectorAll(I.selector)),v.hooks.run("before-all-elements-highlight",I);for(var z=0,q;q=I.elements[z++];)v.highlightElement(q,w===!0,I.callback)},highlightElement:function(y,w,k){var I=v.util.getLanguage(y),z=v.languages[I];v.util.setLanguage(y,I);var q=y.parentElement;q&&q.nodeName.toLowerCase()==="pre"&&v.util.setLanguage(q,I);var X=y.textContent,B={element:y,language:I,grammar:z,code:X};function R(ie){B.highlightedCode=ie,v.hooks.run("before-insert",B),B.element.innerHTML=B.highlightedCode,v.hooks.run("after-highlight",B),v.hooks.run("complete",B),k&&k.call(B.element)}if(v.hooks.run("before-sanity-check",B),q=B.element.parentElement,q&&q.nodeName.toLowerCase()==="pre"&&!q.hasAttribute("tabindex")&&q.setAttribute("tabindex","0"),!B.code){v.hooks.run("complete",B),k&&k.call(B.element);return}if(v.hooks.run("before-highlight",B),!B.grammar){R(v.util.encode(B.code));return}if(w&&a.Worker){var P=new Worker(v.filename);P.onmessage=function(ie){R(ie.data)},P.postMessage(JSON.stringify({language:B.language,code:B.code,immediateClose:!0}))}else R(v.highlight(B.code,B.grammar,B.language))},highlight:function(y,w,k){var I={code:y,grammar:w,language:k};if(v.hooks.run("before-tokenize",I),!I.grammar)throw new Error('The language "'+I.language+'" has no grammar.');return I.tokens=v.tokenize(I.code,I.grammar),v.hooks.run("after-tokenize",I),x.stringify(v.util.encode(I.tokens),I.language)},tokenize:function(y,w){var k=w.rest;if(k){for(var I in k)w[I]=k[I];delete w.rest}var z=new O;return S(z,z.head,y),N(y,z,w,z.head,0),p(z)},hooks:{all:{},add:function(y,w){var k=v.hooks.all;k[y]=k[y]||[],k[y].push(w)},run:function(y,w){var k=v.hooks.all[y];if(!(!k||!k.length))for(var I=0,z;z=k[I++];)z(w)}},Token:x};a.Prism=v;function x(y,w,k,I){this.type=y,this.content=w,this.alias=k,this.length=(I||"").length|0}x.stringify=function y(w,k){if(typeof w=="string")return w;if(Array.isArray(w)){var I="";return w.forEach(function(R){I+=y(R,k)}),I}var z={type:w.type,content:y(w.content,k),tag:"span",classes:["token",w.type],attributes:{},language:k},q=w.alias;q&&(Array.isArray(q)?Array.prototype.push.apply(z.classes,q):z.classes.push(q)),v.hooks.run("wrap",z);var X="";for(var B in z.attributes)X+=" "+B+'="'+(z.attributes[B]||"").replace(/"/g,"&quot;")+'"';return"<"+z.tag+' class="'+z.classes.join(" ")+'"'+X+">"+z.content+"</"+z.tag+">"};function b(y,w,k,I){y.lastIndex=w;var z=y.exec(k);if(z&&I&&z[1]){var q=z[1].length;z.index+=q,z[0]=z[0].slice(q)}return z}function N(y,w,k,I,z,q){for(var X in k)if(!(!k.hasOwnProperty(X)||!k[X])){var B=k[X];B=Array.isArray(B)?B:[B];for(var R=0;R<B.length;++R){if(q&&q.cause==X+","+R)return;var P=B[R],ie=P.inside,Ee=!!P.lookbehind,G=!!P.greedy,le=P.alias;if(G&&!P.pattern.global){var W=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,W+"g")}for(var M=P.pattern||P,$=I.next,j=z;$!==w.tail&&!(q&&j>=q.reach);j+=$.value.length,$=$.next){var K=$.value;if(w.length>y.length)return;if(!(K instanceof x)){var se=1,he;if(G){if(he=b(M,j,y,Ee),!he||he.index>=y.length)break;var E=he.index,H=he.index+he[0].length,d=j;for(d+=$.value.length;E>=d;)$=$.next,d+=$.value.length;if(d-=$.value.length,j=d,$.value instanceof x)continue;for(var h=$;h!==w.tail&&(d<H||typeof h.value=="string");h=h.next)se++,d+=h.value.length;se--,K=y.slice(j,d),he.index-=j}else if(he=b(M,0,K,Ee),!he)continue;var E=he.index,F=he[0],V=K.slice(0,E),J=K.slice(E+F.length),Z=j+K.length;q&&Z>q.reach&&(q.reach=Z);var re=$.prev;V&&(re=S(w,re,V),j+=V.length),D(w,re,se);var fe=new x(X,ie?v.tokenize(F,ie):F,le,F);if($=S(w,re,fe),J&&S(w,$,J),se>1){var me={cause:X+","+R,reach:Z};N(y,w,k,$.prev,j,me),q&&me.reach>q.reach&&(q.reach=me.reach)}}}}}}function O(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function S(y,w,k){var I=w.next,z={value:k,prev:w,next:I};return w.next=z,I.prev=z,y.length++,z}function D(y,w,k){for(var I=w.next,z=0;z<k&&I!==y.tail;z++)I=I.next;w.next=I,I.prev=w,y.length-=z}function p(y){for(var w=[],k=y.head.next;k!==y.tail;)w.push(k.value),k=k.next;return w}if(!a.document)return a.addEventListener&&(v.disableWorkerMessageHandler||a.addEventListener("message",function(y){var w=JSON.parse(y.data),k=w.language,I=w.code,z=w.immediateClose;a.postMessage(v.highlight(I,v.languages[k],k)),z&&a.close()},!1)),v;var _=v.util.currentScript();_&&(v.filename=_.src,_.hasAttribute("data-manual")&&(v.manual=!0));function C(){v.manual||v.highlightAll()}if(!v.manual){var A=document.readyState;A==="loading"||A==="interactive"&&_&&_.defer?document.addEventListener("DOMContentLoaded",C):window.requestAnimationFrame?window.requestAnimationFrame(C):window.setTimeout(C,16)}return v}(r);i.exports&&(i.exports=o),typeof ro<"u"&&(ro.Prism=o),o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(a){a.type==="entity"&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(a,f){var g={};g["language-"+f]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[f]},g.cdata=/^<!\[CDATA\[|\]\]>$/i;var m={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:g}};m["language-"+f]={pattern:/[\s\S]+/,inside:o.languages[f]};var v={};v[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:m},o.languages.insertBefore("markup","cdata",v)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(a,f){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+a+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[f,"language-"+f],inside:o.languages[f]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(a){var f=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;a.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+f.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+f.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+f.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+f.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:f,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},a.languages.css.atrule.inside.rest=a.languages.css;var g=a.languages.markup;g&&(g.tag.addInlined("style","css"),g.tag.addAttribute("style","css"))}(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,function(){if(typeof o>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var a="Loading…",f=function(_,C){return"✖ Error "+_+" while fetching file: "+C},g="✖ Error: File does not exist or is empty",m={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},v="data-src-status",x="loading",b="loaded",N="failed",O="pre[data-src]:not(["+v+'="'+b+'"]):not(['+v+'="'+x+'"])';function S(_,C,A){var y=new XMLHttpRequest;y.open("GET",_,!0),y.onreadystatechange=function(){y.readyState==4&&(y.status<400&&y.responseText?C(y.responseText):y.status>=400?A(f(y.status,y.statusText)):A(g))},y.send(null)}function D(_){var C=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(_||"");if(C){var A=Number(C[1]),y=C[2],w=C[3];return y?w?[A,Number(w)]:[A,void 0]:[A,A]}}o.hooks.add("before-highlightall",function(_){_.selector+=", "+O}),o.hooks.add("before-sanity-check",function(_){var C=_.element;if(C.matches(O)){_.code="",C.setAttribute(v,x);var A=C.appendChild(document.createElement("CODE"));A.textContent=a;var y=C.getAttribute("data-src"),w=_.language;if(w==="none"){var k=(/\.(\w+)$/.exec(y)||[,"none"])[1];w=m[k]||k}o.util.setLanguage(A,w),o.util.setLanguage(C,w);var I=o.plugins.autoloader;I&&I.loadLanguages(w),S(y,function(z){C.setAttribute(v,b);var q=D(C.getAttribute("data-range"));if(q){var X=z.split(/\r\n?|\n/g),B=q[0],R=q[1]==null?X.length:q[1];B<0&&(B+=X.length),B=Math.max(0,Math.min(B-1,X.length)),R<0&&(R+=X.length),R=Math.max(0,Math.min(R,X.length)),z=X.slice(B,R).join(`
`),C.hasAttribute("data-start")||C.setAttribute("data-start",String(B+1))}A.textContent=z,o.highlightElement(A)},function(z){C.setAttribute(v,N),A.textContent=z})}}),o.plugins.fileHighlight={highlight:function(_){for(var C=(_||document).querySelectorAll(O),A=0,y;y=C[A++];)o.highlightElement(y)}};var p=!1;o.fileHighlight=function(){p||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),p=!0),o.plugins.fileHighlight.highlight.apply(this,arguments)}}()}(Wa)),Wa.exports}var Ud={},Ga;function zd(){return Ga||(Ga=1,Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}),Ud}var Kd={},Za;function jd(){return Za||(Za=1,Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript),Kd}var Wd={},Va;function Yd(){return Va||(Va=1,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(i,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var f={};f[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("markup","cdata",f)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(i,r){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:Prism.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml),Wd}var Gd={},Ja;function Zd(){return Ja||(Ja=1,function(i){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function o(N){return N=N.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+N+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,f=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),g=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;i.languages.markdown=i.languages.extend("markup",{}),i.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:i.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+f+g+"(?:"+f+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+f+g+")(?:"+f+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:i.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+f+")"+g+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+f+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:i.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:o(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:o(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:o(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:o(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(N){["url","bold","italic","strike","code-snippet"].forEach(function(O){N!==O&&(i.languages.markdown[N].inside.content.inside[O]=i.languages.markdown[O])})}),i.hooks.add("after-tokenize",function(N){if(N.language!=="markdown"&&N.language!=="md")return;function O(S){if(!(!S||typeof S=="string"))for(var D=0,p=S.length;D<p;D++){var _=S[D];if(_.type!=="code"){O(_.content);continue}var C=_.content[1],A=_.content[3];if(C&&A&&C.type==="code-language"&&A.type==="code-block"&&typeof C.content=="string"){var y=C.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");y=(/[a-z][\w-]*/i.exec(y)||[""])[0].toLowerCase();var w="language-"+y;A.alias?typeof A.alias=="string"?A.alias=[A.alias,w]:A.alias.push(w):A.alias=[w]}}}O(N.tokens)}),i.hooks.add("wrap",function(N){if(N.type==="code-block"){for(var O="",S=0,D=N.classes.length;S<D;S++){var p=N.classes[S],_=/language-(.+)/.exec(p);if(_){O=_[1];break}}var C=i.languages[O];if(C)N.content=i.highlight(b(N.content),C,O);else if(O&&O!=="none"&&i.plugins.autoloader){var A="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);N.attributes.id=A,i.plugins.autoloader.loadLanguages(O,function(){var y=document.getElementById(A);y&&(y.innerHTML=i.highlight(y.textContent,i.languages[O],O))})}}});var m=RegExp(i.languages.markup.tag.pattern.source,"gi"),v={amp:"&",lt:"<",gt:">",quot:'"'},x=String.fromCodePoint||String.fromCharCode;function b(N){var O=N.replace(m,"");return O=O.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(S,D){if(D=D.toLowerCase(),D[0]==="#"){var p;return D[1]==="x"?p=parseInt(D.slice(2),16):p=Number(D.slice(1)),x(p)}else{var _=v[D];return _||S}}),O}i.languages.md=i.languages.markdown}(Prism)),Gd}var Vd={},Qa;function Jd(){return Qa||(Qa=1,Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean),Vd}var Qd={},qa;function qd(){return qa||(qa=1,function(i){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var o=i.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(Prism)),Qd}var Xd={},Xa;function eh(){return Xa||(Xa=1,Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec),Xd}var th={},el;function nh(){return el||(el=1,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}),th}var rh={},tl;function ih(){return tl||(tl=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),rh}var oh={},nl;function sh(){return nl||(nl=1,function(i){for(var r=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,o=0;o<2;o++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,function(){return/[^\s\S]/.source}),i.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+r),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},i.languages.rust["closure-params"].inside.rest=i.languages.rust,i.languages.rust.attribute.inside.string=i.languages.rust.string}(Prism)),oh}var ah={},rl;function lh(){return rl||(rl=1,Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(i){i.inside.interpolation.inside=Prism.languages.swift})),ah}var uh={},il;function ch(){return il||(il=1,function(i){i.languages.typescript=i.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),i.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete i.languages.typescript.parameter,delete i.languages.typescript["literal-property"];var r=i.languages.extend("typescript",{});delete r["class-name"],i.languages.typescript["class-name"].inside=r,i.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),i.languages.ts=i.languages.typescript}(Prism)),uh}var dh={},ol;function hh(){return ol||(ol=1,function(i){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,o=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(/(^|[^\w.])/.source+o+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};i.languages.java=i.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(/(^|[^\w.])/.source+o+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:a.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+o+/[A-Z]\w*\b/.source),lookbehind:!0,inside:a.inside}],keyword:r,function:[i.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),i.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),i.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+o+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:a.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+o+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:a.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),dh}var gh={},sl;function fh(){return sl||(sl=1,function(i){var r=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,o=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return r.source});i.languages.cpp=i.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:r,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),i.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return o})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),i.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:i.languages.cpp}}}}),i.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),i.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:i.languages.extend("cpp",{})}}),i.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},i.languages.cpp["base-clause"])}(Prism)),gh}var al;function ph(){if(al)return Be;al=1;var i=Hd();zd(),jd(),Yd(),Zd(),Jd(),qd(),eh(),nh(),ih(),sh(),lh(),ch(),hh(),fh();var r=st(),o=Ke();let a=H=>H!=null&&i.languages.hasOwnProperty(H)?H:void 0;function f(H,d){for(let h of H.childNodes){if(r.isHTMLElement(h)&&h.tagName===d)return!0;f(h,d)}return!1}class g extends o.ElementNode{static getType(){return"code"}static clone(d){return new g(d.__language,d.__key)}constructor(d,h){super(h),this.__language=a(d)}createDOM(d){let h=document.createElement("code");return r.addClassNamesToElement(h,d.theme.code),h.setAttribute("spellcheck","false"),(d=this.getLanguage())&&h.setAttribute("data-highlight-language",d),h}updateDOM(d,h){let E=this.__language;return d=d.__language,E?E!==d&&h.setAttribute("data-highlight-language",E):d&&h.removeAttribute("data-highlight-language"),!1}exportDOM(){let d=document.createElement("pre");d.setAttribute("spellcheck","false");let h=this.getLanguage();return h&&d.setAttribute("data-highlight-language",h),{element:d}}static importDOM(){return{code:d=>d.textContent!=null&&(/\r?\n/.test(d.textContent)||f(d,"BR"))?{conversion:x,priority:1}:null,div:()=>({conversion:b,priority:1}),pre:()=>({conversion:x,priority:0}),table:d=>p(d)?{conversion:N,priority:3}:null,td:d=>{let h=d.closest("table");return d.classList.contains("js-file-line")?{conversion:S,priority:3}:h&&p(h)?{conversion:O,priority:3}:null},tr:d=>(d=d.closest("table"))&&p(d)?{conversion:O,priority:3}:null}}static importJSON(d){let h=m(d.language);return h.setFormat(d.format),h.setIndent(d.indent),h.setDirection(d.direction),h}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(d,h=!0){var E=this.getChildren(),F=E.length;if(2<=F&&E[F-1].getTextContent()===`
`&&E[F-2].getTextContent()===`
`&&d.isCollapsed()&&d.anchor.key===this.__key&&d.anchor.offset===F)return E[F-1].remove(),E[F-2].remove(),d=o.$createParagraphNode(),this.insertAfter(d,h),d;let{anchor:V,focus:J}=d;if(h=(V.isBefore(J)?V:J).getNode(),o.$isTextNode(h)){for(F=z(h),E=[];;)if(o.$isTabNode(F))E.push(o.$createTabNode()),F=F.getNextSibling();else if(I(F)){for(var Z=0,re=F.getTextContent(),fe=F.getTextContentSize();Z<fe&&re[Z]===" ";Z++);if(Z!==0&&E.push(k(" ".repeat(Z))),Z!==fe)break;F=F.getNextSibling()}else break;F=h.splitText(V.offset)[0],Z=V.offset===0?0:1,Z=F.getIndexWithinParent()+Z,re=h.getParentOrThrow(),fe=[o.$createLineBreakNode(),...E],re.splice(Z,0,fe),(E=E[E.length-1])?E.select():V.offset===0?F.selectPrevious():F.getNextSibling().selectNext(0,0)}return v(h)&&({offset:d}=d.anchor,h.splice(d,0,[o.$createLineBreakNode()]),h.select(d+1,d+1)),null}canIndent(){return!1}collapseAtStart(){let d=o.$createParagraphNode();return this.getChildren().forEach(h=>d.append(h)),this.replace(d),!0}setLanguage(d){this.getWritable().__language=a(d)}getLanguage(){return this.getLatest().__language}}function m(H){return o.$applyNodeReplacement(new g(H))}function v(H){return H instanceof g}function x(H){let d;return r.isHTMLElement(H)&&(d=H.getAttribute("data-highlight-language")),{node:m(d)}}function b(H){let d=H.style.fontFamily.match("monospace")!==null;return d||D(H)?{after:h=>{let E=H.parentNode;return E!=null&&H!==E.lastChild&&h.push(o.$createLineBreakNode()),h},node:d?m():null}:{node:null}}function N(){return{node:m()}}function O(){return{node:null}}function S(H){return{after:d=>(H.parentNode&&H.parentNode.nextSibling&&d.push(o.$createLineBreakNode()),d),node:null}}function D(H){for(H=H.parentElement;H!==null;){if(H.style.fontFamily.match("monospace")!==null)return!0;H=H.parentElement}return!1}function p(H){return H.classList.contains("js-file-line-container")}let _={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},C={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function A(H){return C[H]||H}class y extends o.TextNode{constructor(d,h,E){super(d,E),this.__highlightType=h}static getType(){return"code-highlight"}static clone(d){return new y(d.__text,d.__highlightType||void 0,d.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(d){let h=super.createDOM(d);return d=w(d.theme,this.__highlightType),r.addClassNamesToElement(h,d),h}updateDOM(d,h,E){let F=super.updateDOM(d,h,E);return d=w(E.theme,d.__highlightType),E=w(E.theme,this.__highlightType),d!==E&&(d&&r.removeClassNamesFromElement(h,d),E&&r.addClassNamesToElement(h,E)),F}static importJSON(d){let h=k(d.text,d.highlightType);return h.setFormat(d.format),h.setDetail(d.detail),h.setMode(d.mode),h.setStyle(d.style),h}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return m()}}function w(H,d){return d&&H&&H.codeHighlight&&H.codeHighlight[d]}function k(H,d){return o.$applyNodeReplacement(new y(H,d))}function I(H){return H instanceof y}function z(H){let d=H;for(;I(H)||o.$isTabNode(H);)d=H,H=H.getPreviousSibling();return d}function q(H){let d=H;for(;I(H)||o.$isTabNode(H);)d=H,H=H.getNextSibling();return d}let X={defaultLanguage:"javascript",tokenize(H,d){return i.tokenize(H,i.languages[d||""]||i.languages[this.defaultLanguage])}};function B(H,d){let h=null;var E=null,F=H;let V=d,J=H.getTextContent();for(;;){if(V===0){if(F=F.getPreviousSibling(),F===null)break;if(!(I(F)||o.$isTabNode(F)||o.$isLineBreakNode(F)))throw Error("Expected a valid Code Node: CodeHighlightNode, TabNode, LineBreakNode");if(o.$isLineBreakNode(F)){h={node:F,offset:1};break}V=Math.max(0,F.getTextContentSize()-1),J=F.getTextContent()}else V--;let Z=J[V];I(F)&&Z!==" "&&(E={node:F,offset:V})}if(E!==null)return E;if(E=null,d<H.getTextContentSize()?I(H)&&(E=H.getTextContent()[d]):(F=H.getNextSibling(),I(F)&&(E=F.getTextContent()[0])),E!==null&&E!==" ")return h;e:for(E=H,F=H.getTextContent(),H=H.getTextContentSize();;){if(!I(E)||d===H){if(E=E.getNextSibling(),E===null||o.$isLineBreakNode(E)){H=null;break e}I(E)&&(d=0,F=E.getTextContent(),H=E.getTextContentSize())}if(I(E)){if(F[d]!==" "){H={node:E,offset:d};break e}d++}}return H!==null?H:h}function R(H){if(H=q(H),o.$isLineBreakNode(H))throw Error("Unexpected lineBreakNode in getEndOfCodeInLine");return H}function P(H,d,h){let E=H.getParent();v(E)?Ee(E,d,h):I(H)&&H.replace(o.$createTextNode(H.__text))}let ie=new Set;function Ee(H,d,h){let E=H.getKey();ie.has(E)||(ie.add(E),H.getLanguage()===void 0&&H.setLanguage(h.defaultLanguage),d.update(()=>{le(E,()=>{var F=o.$getNodeByKey(E);if(!v(F)||!F.isAttached())return!1;var V=F.getTextContent();V=h.tokenize(V,F.getLanguage()||h.defaultLanguage),V=G(V);var J=F.getChildren();for(F=0;F<J.length&&W(J[F],V[F]);)F++;var Z=J.length;let re=V.length,fe=Math.min(Z,re)-F,me=0;for(;me<fe;)if(me++,!W(J[Z-me],V[re-me])){me--;break}J=F,Z-=me,V=V.slice(F,re-me);let{from:te,to:ue,nodesForReplacement:pe}={from:J,nodesForReplacement:V,to:Z};return te!==ue||pe.length?(H.splice(te,ue-te,pe),!0):!1})},{onUpdate:()=>{ie.delete(E)},skipTransforms:!0}))}function G(H,d){let h=[];for(let E of H)if(typeof E=="string"){H=E.split(/(\n|\t)/);let F=H.length;for(let V=0;V<F;V++){let J=H[V];J===`
`||J===`\r
`?h.push(o.$createLineBreakNode()):J==="	"?h.push(o.$createTabNode()):0<J.length&&h.push(k(J,d))}}else({content:H}=E),typeof H=="string"?h.push(...G([H],E.type)):Array.isArray(H)&&h.push(...G(H,E.type));return h}function le(H,d){if(H=o.$getNodeByKey(H),v(H)&&H.isAttached()){var h=o.$getSelection();if(o.$isRangeSelection(h)){h=h.anchor;var E=h.offset,F=h.type==="element"&&o.$isLineBreakNode(H.getChildAtIndex(h.offset-1)),V=0;if(!F){let J=h.getNode();V=E+J.getPreviousSiblings().reduce((Z,re)=>Z+re.getTextContentSize(),0)}d()&&(F?h.getNode().select(E,E):H.getChildren().some(J=>{let Z=o.$isTextNode(J);if(Z||o.$isLineBreakNode(J)){let re=J.getTextContentSize();if(Z&&re>=V)return J.select(V,V),!0;V-=re}return!1}))}else d()}}function W(H,d){return I(H)&&I(d)&&H.__text===d.__text&&H.__highlightType===d.__highlightType||o.$isTabNode(H)&&o.$isTabNode(d)||o.$isLineBreakNode(H)&&o.$isLineBreakNode(d)}function M(H){if(!o.$isRangeSelection(H))return!1;var d=H.anchor.getNode();return H=H.focus.getNode(),d.is(H)&&v(d)?!0:(d=d.getParent(),v(d)&&d.is(H.getParent()))}function $(H){H=H.getNodes();let d=[[]];if(H.length===1&&v(H[0]))return d;let h=d[0];for(let E=0;E<H.length;E++){let F=H[E];if(!(I(F)||o.$isTabNode(F)||o.$isLineBreakNode(F)))throw Error("Expected selection to be inside CodeBlock and consisting of CodeHighlightNode, TabNode and LineBreakNode");o.$isLineBreakNode(F)?E!==0&&0<h.length&&(h=[],d.push(h)):h.push(F)}return d}function j(H){var d=o.$getSelection();if(!o.$isRangeSelection(d)||!M(d))return null;let h=H?o.OUTDENT_CONTENT_COMMAND:o.INDENT_CONTENT_COMMAND;if(H=H?o.OUTDENT_CONTENT_COMMAND:o.INSERT_TAB_COMMAND,1<$(d).length)return h;var E=d.getNodes()[0];if(!(v(E)||I(E)||o.$isTabNode(E)||o.$isLineBreakNode(E)))throw Error("Expected selection firstNode to be CodeHighlightNode or TabNode");if(v(E))return h;let F=z(E);E=q(E);var V=d.anchor;let J=d.focus;return J.isBefore(V)?d=J:(d=V,V=J),F!==null&&E!==null&&d.key===F.getKey()&&d.offset===0&&V.key===E.getKey()&&V.offset===E.getTextContentSize()?h:H}function K(H){var d=o.$getSelection();if(!o.$isRangeSelection(d)||!M(d))return!1;var h=$(d);let E=h.length;if(1<h.length){for(d=0;d<E;d++){var F=h[d];0<F.length&&(F=F[0],d===0&&(F=z(F)),F!==null&&(H===o.INDENT_CONTENT_COMMAND?F.insertBefore(o.$createTabNode()):o.$isTabNode(F)&&F.remove()))}return!0}if(h=d.getNodes()[0],!(v(h)||I(h)||o.$isTabNode(h)||o.$isLineBreakNode(h)))throw Error("Expected selection firstNode to be CodeHighlightNode or CodeTabNode");if(v(h))return H===o.INDENT_CONTENT_COMMAND&&d.insertNodes([o.$createTabNode()]),!0;if(h=z(h),h===null)throw Error("Expected getFirstCodeNodeOfLine to return a valid Code Node");return H===o.INDENT_CONTENT_COMMAND?o.$isLineBreakNode(h)?h.insertAfter(o.$createTabNode()):h.insertBefore(o.$createTabNode()):o.$isTabNode(h)&&h.remove(),!0}function se(H,d){let h=o.$getSelection();if(!o.$isRangeSelection(h))return!1;let{anchor:E,focus:F}=h,V=E.offset,J=F.offset,Z=E.getNode(),re=F.getNode();var fe=H===o.KEY_ARROW_UP_COMMAND;if(!M(h)||!I(Z)&&!o.$isTabNode(Z)||!I(re)&&!o.$isTabNode(re))return!1;if(!d.altKey){if(h.isCollapsed()){if(H=Z.getParentOrThrow(),fe&&V===0&&Z.getPreviousSibling()===null){if(H.getPreviousSibling()===null)return H.selectPrevious(),d.preventDefault(),!0}else if(!fe&&V===Z.getTextContentSize()&&Z.getNextSibling()===null&&H.getNextSibling()===null)return H.selectNext(),d.preventDefault(),!0}return!1}let me;if(Z.isBefore(re)){var te=z(Z);me=q(re)}else te=z(re),me=q(Z);if(te==null||me==null)return!1;let ue=te.getNodesBetween(me);for(let ve=0;ve<ue.length;ve++){let xe=ue[ve];if(!I(xe)&&!o.$isTabNode(xe)&&!o.$isLineBreakNode(xe))return!1}if(d.preventDefault(),d.stopPropagation(),d=fe?te.getPreviousSibling():me.getNextSibling(),!o.$isLineBreakNode(d)||(te=fe?d.getPreviousSibling():d.getNextSibling(),te==null))return!0;fe=I(te)||o.$isTabNode(te)||o.$isLineBreakNode(te)?fe?z(te):q(te):null;let pe=fe??te;return d.remove(),ue.forEach(ve=>ve.remove()),H===o.KEY_ARROW_UP_COMMAND?(ue.forEach(ve=>pe.insertBefore(ve)),pe.insertBefore(d)):(pe.insertAfter(d),pe=d,ue.forEach(ve=>{pe.insertAfter(ve),pe=ve})),h.setTextNodeRange(Z,V,re,J),!0}function he(H,d){let h=o.$getSelection();if(!o.$isRangeSelection(h))return!1;let{anchor:E,focus:F}=h;var V=E.getNode();let J=F.getNode();if(H=H===o.MOVE_TO_START,!I(V)&&!o.$isTabNode(V)||!I(J)&&!o.$isTabNode(J))return!1;if(H)if(V=B(J,F.offset),V!==null){let{node:Z,offset:re}=V;o.$isLineBreakNode(Z)?Z.selectNext(0,0):h.setTextNodeRange(Z,re,Z,re)}else J.getParentOrThrow().selectStart();else R(J).select();return d.preventDefault(),d.stopPropagation(),!0}return Be.$createCodeHighlightNode=k,Be.$createCodeNode=m,Be.$isCodeHighlightNode=I,Be.$isCodeNode=v,Be.CODE_LANGUAGE_FRIENDLY_NAME_MAP=_,Be.CODE_LANGUAGE_MAP=C,Be.CodeHighlightNode=y,Be.CodeNode=g,Be.DEFAULT_CODE_LANGUAGE="javascript",Be.PrismTokenizer=X,Be.getCodeLanguages=()=>Object.keys(i.languages).filter(H=>typeof i.languages[H]!="function").sort(),Be.getDefaultCodeLanguage=()=>"javascript",Be.getEndOfCodeInLine=R,Be.getFirstCodeNodeOfLine=z,Be.getLanguageFriendlyName=function(H){return H=A(H),_[H]||H},Be.getLastCodeNodeOfLine=q,Be.getStartOfCodeInLine=B,Be.normalizeCodeLang=A,Be.registerCodeHighlighting=function(H,d){if(!H.hasNodes([g,y]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return d==null&&(d=X),r.mergeRegister(H.registerMutationListener(g,h=>{H.update(()=>{for(let[V,J]of h)if(J!=="destroyed"){var E=o.$getNodeByKey(V);if(E!==null)e:{var F=E;if(E=H.getElementByKey(F.getKey()),E===null)break e;F=F.getChildren();let Z=F.length;if(Z===E.__cachedChildrenLength)break e;E.__cachedChildrenLength=Z;let re="1",fe=1;for(let me=0;me<Z;me++)o.$isLineBreakNode(F[me])&&(re+=`
`+ ++fe);E.setAttribute("data-gutter",re)}}})}),H.registerNodeTransform(g,h=>Ee(h,H,d)),H.registerNodeTransform(o.TextNode,h=>P(h,H,d)),H.registerNodeTransform(y,h=>P(h,H,d)),H.registerCommand(o.KEY_TAB_COMMAND,h=>{let E=j(h.shiftKey);return E===null?!1:(h.preventDefault(),H.dispatchCommand(E,void 0),!0)},o.COMMAND_PRIORITY_LOW),H.registerCommand(o.INSERT_TAB_COMMAND,()=>{let h=o.$getSelection();return M(h)?(o.$insertNodes([o.$createTabNode()]),!0):!1},o.COMMAND_PRIORITY_LOW),H.registerCommand(o.INDENT_CONTENT_COMMAND,()=>K(o.INDENT_CONTENT_COMMAND),o.COMMAND_PRIORITY_LOW),H.registerCommand(o.OUTDENT_CONTENT_COMMAND,()=>K(o.OUTDENT_CONTENT_COMMAND),o.COMMAND_PRIORITY_LOW),H.registerCommand(o.KEY_ARROW_UP_COMMAND,h=>se(o.KEY_ARROW_UP_COMMAND,h),o.COMMAND_PRIORITY_LOW),H.registerCommand(o.KEY_ARROW_DOWN_COMMAND,h=>se(o.KEY_ARROW_DOWN_COMMAND,h),o.COMMAND_PRIORITY_LOW),H.registerCommand(o.MOVE_TO_END,h=>he(o.MOVE_TO_END,h),o.COMMAND_PRIORITY_LOW),H.registerCommand(o.MOVE_TO_START,h=>he(o.MOVE_TO_START,h),o.COMMAND_PRIORITY_LOW))},Be}ph();Mt();st();var yo=Ke();function _h({src:i,altText:r,width:o,height:a,maxWidth:f}){const g=Oe.useMemo(()=>({height:a,width:o,maxWidth:f}),[a,o,f]);return Ae.jsx("img",{src:i,alt:r,style:g})}function mh({altText:i,height:r,maxWidth:o=500,src:a,width:f,key:g}){return yo.$applyNodeReplacement(new vo(a,i,o,f,r,g))}class vo extends yo.DecoratorNode{constructor(r,o,a,f,g,m){super(m),it(this,"__src"),it(this,"__altText"),it(this,"__width"),it(this,"__height"),it(this,"__maxWidth"),this.__src=r,this.__altText=o,this.__maxWidth=a,this.__width=f||"inherit",this.__height=g||"inherit"}static getType(){return"image"}static clone(r){return new vo(r.__src,r.__altText,r.__maxWidth,r.__width,r.__height,r.__key)}getSrc(){return this.getLatest().__src}getAltText(){return this.getLatest().__altText}exportJSON(){return{altText:this.getAltText(),height:this.__height==="inherit"?0:this.__height,maxWidth:this.__maxWidth,src:this.getSrc(),type:"image",version:1,width:this.__width==="inherit"?0:this.__width}}static importJSON(r){return mh(r)}createDOM(r){const o=document.createElement("span"),a=r.theme.image;return a&&(o.className=a),o}updateDOM(){return!1}decorate(){return Ae.jsx(_h,{src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,maxWidth:this.__maxWidth})}}yo.createCommand("INSERT_IMAGE_COMMAND");Wl();Gl();Yl();jl();var Xn={},ll;function yh(){if(ll)return Xn;ll=1;var i=st(),r=Ke();class o extends r.TextNode{static getType(){return"hashtag"}static clone(g){return new o(g.__text,g.__key)}constructor(g,m){super(g,m)}createDOM(g){let m=super.createDOM(g);return i.addClassNamesToElement(m,g.theme.hashtag),m}static importJSON(g){let m=a(g.text);return m.setFormat(g.format),m.setDetail(g.detail),m.setMode(g.mode),m.setStyle(g.style),m}exportJSON(){return{...super.exportJSON(),type:"hashtag"}}canInsertTextBefore(){return!1}isTextEntity(){return!0}}function a(f=""){return r.$applyNodeReplacement(new o(f))}return Xn.$createHashtagNode=a,Xn.$isHashtagNode=function(f){return f instanceof o},Xn.HashtagNode=o,Xn}yh();var Tn={},no={},ul;function vh(){if(ul)return no;ul=1;var i=Mt(),r=Ke(),o=gt;function a(f,g){return f.getEditorState().read(()=>{let m=r.$getNodeByKey(g);return m===null?!1:m.isSelected()})}return no.useLexicalNodeSelection=function(f){let[g]=i.useLexicalComposerContext(),[m,v]=o.useState(()=>a(g,f));o.useEffect(()=>{let N=!0,O=g.registerUpdateListener(()=>{N&&v(a(g,f))});return()=>{N=!1,O()}},[g,f]);let x=o.useCallback(N=>{g.update(()=>{let O=r.$getSelection();r.$isNodeSelection(O)||(O=r.$createNodeSelection(),r.$setSelection(O)),r.$isNodeSelection(O)&&(N?O.add(f):O.delete(f))})},[g,f]),b=o.useCallback(()=>{g.update(()=>{const N=r.$getSelection();r.$isNodeSelection(N)&&N.clear()})},[g]);return[m,x,b]},no}var cl,dl;function Eh(){return dl||(dl=1,cl=vh()),cl}var hl;function Ch(){if(hl)return Tn;hl=1;var i=Mt(),r=Eh(),o=st(),a=Ke(),f=gt;let g=a.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function m({nodeKey:O}){let[S]=i.useLexicalComposerContext(),[D,p,_]=r.useLexicalNodeSelection(O),C=f.useCallback(A=>(D&&a.$isNodeSelection(a.$getSelection())&&(A.preventDefault(),A=a.$getNodeByKey(O),N(A)&&A.remove()),!1),[D,O]);return f.useEffect(()=>o.mergeRegister(S.registerCommand(a.CLICK_COMMAND,A=>{let y=S.getElementByKey(O);return A.target===y?(A.shiftKey||_(),p(!D),!0):!1},a.COMMAND_PRIORITY_LOW),S.registerCommand(a.KEY_DELETE_COMMAND,C,a.COMMAND_PRIORITY_LOW),S.registerCommand(a.KEY_BACKSPACE_COMMAND,C,a.COMMAND_PRIORITY_LOW)),[_,S,D,O,C,p]),f.useEffect(()=>{let A=S.getElementByKey(O);A!==null&&(A.className=D?"selected":"")},[S,D,O]),null}class v extends a.DecoratorNode{static getType(){return"horizontalrule"}static clone(S){return new v(S.__key)}static importJSON(){return b()}static importDOM(){return{hr:()=>({conversion:x,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return f.createElement(m,{nodeKey:this.__key})}}function x(){return{node:b()}}function b(){return a.$applyNodeReplacement(new v)}function N(O){return O instanceof v}return Tn.$createHorizontalRuleNode=b,Tn.$isHorizontalRuleNode=N,Tn.HorizontalRuleNode=v,Tn.INSERT_HORIZONTAL_RULE_COMMAND=g,Tn}Ch();var gl=Object.prototype.hasOwnProperty;function fl(i,r,o){for(o of i.keys())if(nr(o,r))return o}function nr(i,r){var o,a,f;if(i===r)return!0;if(i&&r&&(o=i.constructor)===r.constructor){if(o===Date)return i.getTime()===r.getTime();if(o===RegExp)return i.toString()===r.toString();if(o===Array){if((a=i.length)===r.length)for(;a--&&nr(i[a],r[a]););return a===-1}if(o===Set){if(i.size!==r.size)return!1;for(a of i)if(f=a,f&&typeof f=="object"&&(f=fl(r,f),!f)||!r.has(f))return!1;return!0}if(o===Map){if(i.size!==r.size)return!1;for(a of i)if(f=a[0],f&&typeof f=="object"&&(f=fl(r,f),!f)||!nr(a[1],r.get(f)))return!1;return!0}if(o===ArrayBuffer)i=new Uint8Array(i),r=new Uint8Array(r);else if(o===DataView){if((a=i.byteLength)===r.byteLength)for(;a--&&i.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(i)){if((a=i.byteLength)===r.byteLength)for(;a--&&i[a]===r[a];);return a===-1}if(!o||typeof i=="object"){a=0;for(o in i)if(gl.call(i,o)&&++a&&!gl.call(r,o)||!(o in r)||!nr(i[o],r[o]))return!1;return Object.keys(r).length===a}}return i!==i&&r!==r}let lo,Zl,Vl,Jl,Ql=!0;typeof ht.process<"u"&&({FORCE_COLOR:lo,NODE_DISABLE_COLORS:Zl,NO_COLOR:Vl,TERM:Jl}=bl||{},Ql=ht.process.stdout&&ht.process.stdout.isTTY);const we={enabled:!Zl&&Vl==null&&Jl!=="dumb"&&(lo!=null&&lo!=="0"||Ql),reset:Me(0,0),bold:Me(1,22),dim:Me(2,22),italic:Me(3,23),underline:Me(4,24),inverse:Me(7,27),hidden:Me(8,28),strikethrough:Me(9,29),black:Me(30,39),red:Me(31,39),green:Me(32,39),yellow:Me(33,39),blue:Me(34,39),magenta:Me(35,39),cyan:Me(36,39),white:Me(37,39),gray:Me(90,39),grey:Me(90,39),bgBlack:Me(40,49),bgRed:Me(41,49),bgGreen:Me(42,49),bgYellow:Me(43,49),bgBlue:Me(44,49),bgMagenta:Me(45,49),bgCyan:Me(46,49),bgWhite:Me(47,49)};function pl(i,r){let o=0,a,f="",g="";for(;o<i.length;o++)a=i[o],f+=a.open,g+=a.close,~r.indexOf(a.close)&&(r=r.replace(a.rgx,a.close+a.open));return f+r+g}function Nh(i,r){let o={has:i,keys:r};return o.reset=we.reset.bind(o),o.bold=we.bold.bind(o),o.dim=we.dim.bind(o),o.italic=we.italic.bind(o),o.underline=we.underline.bind(o),o.inverse=we.inverse.bind(o),o.hidden=we.hidden.bind(o),o.strikethrough=we.strikethrough.bind(o),o.black=we.black.bind(o),o.red=we.red.bind(o),o.green=we.green.bind(o),o.yellow=we.yellow.bind(o),o.blue=we.blue.bind(o),o.magenta=we.magenta.bind(o),o.cyan=we.cyan.bind(o),o.white=we.white.bind(o),o.gray=we.gray.bind(o),o.grey=we.grey.bind(o),o.bgBlack=we.bgBlack.bind(o),o.bgRed=we.bgRed.bind(o),o.bgGreen=we.bgGreen.bind(o),o.bgYellow=we.bgYellow.bind(o),o.bgBlue=we.bgBlue.bind(o),o.bgMagenta=we.bgMagenta.bind(o),o.bgCyan=we.bgCyan.bind(o),o.bgWhite=we.bgWhite.bind(o),o}function Me(i,r){let o={open:`\x1B[${i}m`,close:`\x1B[${r}m`,rgx:new RegExp(`\\x1b\\[${r}m`,"g")};return function(a){return this!==void 0&&this.has!==void 0?(~this.has.indexOf(i)||(this.has.push(i),this.keys.push(o)),a===void 0?this:we.enabled?pl(this.keys,a+""):a+""):a===void 0?Nh([i],[o]):we.enabled?pl([o],a+""):a+""}}function Vt(){}Vt.prototype={diff:function(i,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.callback;typeof o=="function"&&(a=o,o={}),this.options=o;var f=this;function g(p){return a?(setTimeout(function(){a(void 0,p)},0),!0):p}i=this.castInput(i),r=this.castInput(r),i=this.removeEmpty(this.tokenize(i)),r=this.removeEmpty(this.tokenize(r));var m=r.length,v=i.length,x=1,b=m+v;o.maxEditLength&&(b=Math.min(b,o.maxEditLength));var N=[{newPos:-1,components:[]}],O=this.extractCommon(N[0],r,i,0);if(N[0].newPos+1>=m&&O+1>=v)return g([{value:this.join(r),count:r.length}]);function S(){for(var p=-1*x;p<=x;p+=2){var _=void 0,C=N[p-1],A=N[p+1],y=(A?A.newPos:0)-p;C&&(N[p-1]=void 0);var w=C&&C.newPos+1<m,k=A&&0<=y&&y<v;if(!w&&!k){N[p]=void 0;continue}if(!w||k&&C.newPos<A.newPos?(_=Th(A),f.pushComponent(_.components,void 0,!0)):(_=C,_.newPos++,f.pushComponent(_.components,!0,void 0)),y=f.extractCommon(_,r,i,p),_.newPos+1>=m&&y+1>=v)return g(bh(f,_.components,r,i,f.useLongestToken));N[p]=_}x++}if(a)(function p(){setTimeout(function(){if(x>b)return a();S()||p()},0)})();else for(;x<=b;){var D=S();if(D)return D}},pushComponent:function(i,r,o){var a=i[i.length-1];a&&a.added===r&&a.removed===o?i[i.length-1]={count:a.count+1,added:r,removed:o}:i.push({count:1,added:r,removed:o})},extractCommon:function(i,r,o,a){for(var f=r.length,g=o.length,m=i.newPos,v=m-a,x=0;m+1<f&&v+1<g&&this.equals(r[m+1],o[v+1]);)m++,v++,x++;return x&&i.components.push({count:x}),i.newPos=m,v},equals:function(i,r){return this.options.comparator?this.options.comparator(i,r):i===r||this.options.ignoreCase&&i.toLowerCase()===r.toLowerCase()},removeEmpty:function(i){for(var r=[],o=0;o<i.length;o++)i[o]&&r.push(i[o]);return r},castInput:function(i){return i},tokenize:function(i){return i.split("")},join:function(i){return i.join("")}};function bh(i,r,o,a,f){for(var g=0,m=r.length,v=0,x=0;g<m;g++){var b=r[g];if(b.removed){if(b.value=i.join(a.slice(x,x+b.count)),x+=b.count,g&&r[g-1].added){var N=r[g-1];r[g-1]=r[g],r[g]=N}}else{if(!b.added&&f){var O=o.slice(v,v+b.count);O=O.map(function(D,p){var _=a[x+p];return _.length>D.length?_:D}),b.value=i.join(O)}else b.value=i.join(o.slice(v,v+b.count));v+=b.count,b.added||(x+=b.count)}}var S=r[m-1];return m>1&&typeof S.value=="string"&&(S.added||S.removed)&&i.equals("",S.value)&&(r[m-2].value+=S.value,r.pop()),r}function Th(i){return{newPos:i.newPos,components:i.components.slice(0)}}var _l=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ml=/\S/,ql=new Vt;ql.equals=function(i,r){return this.options.ignoreCase&&(i=i.toLowerCase(),r=r.toLowerCase()),i===r||this.options.ignoreWhitespace&&!ml.test(i)&&!ml.test(r)};ql.tokenize=function(i){for(var r=i.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),o=0;o<r.length-1;o++)!r[o+1]&&r[o+2]&&_l.test(r[o])&&_l.test(r[o+2])&&(r[o]+=r[o+2],r.splice(o+1,2),o--);return r};var Xl=new Vt;Xl.tokenize=function(i){var r=[],o=i.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var f=o[a];a%2&&!this.options.newlineIsToken?r[r.length-1]+=f:(this.options.ignoreWhitespace&&(f=f.trim()),r.push(f))}return r};var wh=new Vt;wh.tokenize=function(i){return i.split(/(\S.+?[.!?])(?=\s+|$)/)};var xh=new Vt;xh.tokenize=function(i){return i.split(/([{}:;,]|\s+)/)};function Lr(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lr=function(r){return typeof r}:Lr=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lr(i)}var Sh=Object.prototype.toString,rr=new Vt;rr.useLongestToken=!0;rr.tokenize=Xl.tokenize;rr.castInput=function(i){var r=this.options,o=r.undefinedReplacement,a=r.stringifyReplacer,f=a===void 0?function(g,m){return typeof m>"u"?o:m}:a;return typeof i=="string"?i:JSON.stringify(uo(i,null,null,f),f,"  ")};rr.equals=function(i,r){return Vt.prototype.equals.call(rr,i.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"))};function uo(i,r,o,a,f){r=r||[],o=o||[],a&&(i=a(f,i));var g;for(g=0;g<r.length;g+=1)if(r[g]===i)return o[g];var m;if(Sh.call(i)==="[object Array]"){for(r.push(i),m=new Array(i.length),o.push(m),g=0;g<i.length;g+=1)m[g]=uo(i[g],r,o,a,f);return r.pop(),o.pop(),m}if(i&&i.toJSON&&(i=i.toJSON()),Lr(i)==="object"&&i!==null){r.push(i),m={},o.push(m);var v=[],x;for(x in i)i.hasOwnProperty(x)&&v.push(x);for(v.sort(),g=0;g<v.length;g+=1)x=v[g],m[x]=uo(i[x],r,o,a,x);r.pop(),o.pop()}else m=i;return m}var co=new Vt;co.tokenize=function(i){return i.slice()};co.join=co.removeEmpty=function(i){return i};we.red,we.grey,we.green;we.dim().italic;we.dim("→");we.dim("·");we.dim("↵");function $r(i){i=i.replace(/\r?\n/g,`
`);let r=i.match(/^[ \t]*(?=\S)/gm),o=0,a=1/0,f=(r||[]).length;for(;o<f;o++)a=Math.min(a,r[o].length);return f&&a?i.replace(new RegExp(`^[ \\t]{${a}}`,"gm"),""):i}class Oh extends Error{constructor(r={}){super(r.message),this.name="Assertion",this.code="ERR_ASSERTION",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.details=r.details||!1,this.generated=!!r.generated,this.operator=r.operator,this.expects=r.expects,this.actual=r.actual}}function Ct(i,r,o,a,f,g,m){if(i)return;let v=m||g;if(m instanceof Error)throw m;let x=f&&f(r,o);throw new Oh({actual:r,expects:o,operator:a,message:v,details:x,generated:!m})}function Bt(i,r){Ct(!i,!0,!1,"not",!1,"Expected value to be falsey",r)}Bt.ok=Bt;Bt.equal=function(i,r,o){Ct(!nr(i,r),i,r,"not.equal",!1,"Expected values not to be deeply equal",o)};Bt.type=function(i,r,o){let a=typeof i;Ct(a!==r,a,r,"not.type",!1,`Expected "${a}" not to be "${r}"`,o)};Bt.instance=function(i,r,o){let a="`"+(r.name||r.constructor.name)+"`";Ct(!(i instanceof r),i,r,"not.instance",!1,`Expected value not to be an instance of ${a}`,o)};Bt.snapshot=function(i,r,o){i=$r(i),r=$r(r),Ct(i!==r,i,r,"not.snapshot",!1,"Expected value not to match snapshot",o)};Bt.fixture=function(i,r,o){i=$r(i),r=$r(r),Ct(i!==r,i,r,"not.fixture",!1,"Expected value not to match fixture",o)};Bt.match=function(i,r,o){typeof r=="string"?Ct(!i.includes(r),i,r,"not.match",!1,`Expected value not to include "${r}" substring`,o):Ct(!r.test(i),i,r,"not.match",!1,`Expected value not to match \`${String(r)}\` pattern`,o)};Bt.throws=function(i,r,o){!o&&typeof r=="string"&&(o=r,r=null);try{i()}catch(a){typeof r=="function"?Ct(!r(a),!0,!1,"not.throws",!1,"Expected function not to throw matching exception",o):r instanceof RegExp?Ct(!r.test(a.message),!0,!1,"not.throws",!1,`Expected function not to throw exception matching \`${String(r)}\` pattern`,o):r||Ct(!1,!0,!1,"not.throws",!1,"Expected function not to throw",o)}};const eu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function On(...i){const r=i.reduce((o,a)=>o+a.source,"");return RegExp(`^${r}$`)}const tu=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ah=`(?:${tu.source}?(?:\\[(${eu.source})\\])?)?`,nu=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ru=RegExp(`${nu.source}${Ah}`),Eo=RegExp(`(?:T${ru.source})?`),Rh=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mh=/(\d{4})-?W(\d\d)(?:-?(\d))?/,kh=/(\d{4})-?(\d{3})/,Ph=/(\d{4})-(\d\d)-(\d\d)/,iu=RegExp(`${nu.source} ?(?:${tu.source}|(${eu.source}))?`),Ih=RegExp(`(?: ${iu.source})?`);On(Rh,Eo);On(Mh,Eo);On(kh,Eo);On(ru);On(Ph,Ih);On(iu);const ho=Math.log2(1.6745627884839434),Dh=4,Lh=19,go="js-baidu-neg-lng-fix";let ou;const $h=new Promise(i=>ou=i),Fh="https://api.map.baidu.com/geoconv/v1/";let er=[];const Bh="gcj02ToBD09Callback_b872c21c";let Hh=0,yl;async function su(i){return await new Promise((r,o)=>{er.push({coordinates:i,resolve:r,reject:o}),er.length===1&&(yl=setTimeout(a,100)),er.length>40&&(clearTimeout(yl),a());function a(){const f=er;er=[];const g=[].concat(...f.map(x=>x.coordinates)),m=Bh+"_"+Hh++,v=document.createElement("script");window[m]=x=>{if(x.status){const O=new Error(`Unable to convert coordinates to BD-09: Received status code ${x.status}${x.message?": "+x.message:""}`);f.forEach(S=>S.reject(O))}const b=x.result.map(O=>new ke(O.y,O.x));let N=0;f.forEach(O=>{O.resolve(b.slice(N,N+=O.coordinates.length))}),delete window[m],v.parentNode.removeChild(v)},$h.then(x=>{const b={ak:x,callback:m,coords:g.map(N=>`${N.longitude},${N.latitude}`).join(";"),from:3,to:5};v.src=Fh+"?"+Object.entries(b).map(([N,O])=>N+"="+O).join("&"),document.head.appendChild(v)})}})}class Uh extends Sn{constructor(r){super(r);const o=!!(window.MSInputMethodContext&&document.documentMode);this._wrapper=r.wrapper,this.map=new BMap.Map(this._wrapper,{enableMapClick:r.controlEnabled,maxZoom:o?14:18,...r.providerOptions}),r.controlEnabled?(this.map.enableScrollWheelZoom(),this.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM}))):(this.map.disableDragging(),this.map.disableDoubleClickZoom(),this.map.disablePinchToZoom()),this.map.addEventListener("movestart",()=>this._panStartHandler()),this.map.addEventListener("moveend",()=>this._panHandler()),this.map.addEventListener("zoomstart",()=>this._panStartHandler()),this.map.addEventListener("zoomend",()=>{this._wrapper.dataset.baiduZoom=this.map.getZoom(),this._panHandler()}),this._centerReady=Promise.resolve()}getCenter(){return new ke(this.map.getCenter())}getZoom(){return this.map.getZoom()-ho}setCenter(r,o){this._centerReady=su([r]).then(([a])=>{const f=new BMap.Point(a.longitude,a.latitude);this.map.panTo(f,{noAnimation:!o})})}setZoom(r,o){this._centerReady.then(()=>{this.map.setViewport({center:this.map.getCenter(),zoom:Math.floor(r+ho)},{enableAnimation:o})})}}class zh extends Br{constructor(r){super(r),this._wrapper=null,this._zIndex=0,this._wrapperClass="",this._originalWrapperClass="",this._element=this._pinEl,this._coordinateReady=Promise.resolve(),this._negativeLngFix=!1;const o=this;class a extends BMap.Marker{initialize(m){return o._wrapper=super.initialize(m),o._wrapper&&(o._wrapper.style.zIndex=o._zIndex,o._originalWrapperClass=o._wrapper.getAttribute("class"),o._wrapper.setAttribute("class",o._getClass()),o._wrapper.appendChild(o._element),o.addListeners()),o._wrapper}draw(){if(o._wrapper){const m=o._wrapper.style.zIndex;super.draw(),o._wrapper.style.height="",o._wrapper.style.width="",o._wrapper.style.pointerEvents="none",o._wrapper.style.zIndex=m}else super.draw()}}this.pin=new a(new BMap.Point(0,0));const f=new BMap.Icon("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",{height:0,width:0});this.pin.setIcon(f),this.pin.setShadow(f)}addListeners(){super.addListeners(),this._wrapper.addEventListener("touchend",()=>this._clickHandler())}setCoordinate(r){this._coordinateReady=su([r]).then(([o])=>{this._negativeLngFix=o.longitude<0,this.pin.setPosition(new BMap.Point(o.longitude+(this._negativeLngFix?180:0),o.latitude)),this._wrapper&&this._wrapper.classList[this._negativeLngFix?"add":"remove"](go)})}setMap(r,o){this._coordinateReady.then(()=>{o&&o.getProviderMap().map.removeOverlay(this.pin),r&&r.getProviderMap().map.addOverlay(this.pin)})}setProperties(r){super.setProperties(r),this._wrapperClass=r.getClass(),this._element=r.getElement()||this._pinEl,this._zIndex=r.getZIndex(),this._wrapper&&this._wrapper.setAttribute("class",this._getClass())}_getClass(){return`${this._originalWrapperClass} ${this._negativeLngFix?go:""} ${this._wrapperClass}`}}const Kh="https://api.map.baidu.com/getscript";function jh(i,r,o,{params:a={},version:f="3.0"}={}){window.BMAP_PROTOCOL="https",window.BMap_loadScriptTime=new Date().getTime();const g=o,m={ak:g,v:f,...a};ou(g);const v=document.createElement("script");v.src=Kh+"?"+Object.entries(m).map(([N,O])=>N+"="+O).join("&"),v.onload=()=>i(),document.head.appendChild(v);let x="";for(let N=Dh;N<=Lh;N++){const O=2**(N-ho+7);x+=`[data-baidu-zoom="${N}"] .${go}{transform:translateX(-${O}px);}`}const b=document.createElement("style");b.innerHTML=x,document.head.appendChild(b)}new dn().withLoadFunction(jh).withMapClass(Uh).withPinClass(zh).withProviderName("Baidu").build();let au;function Wh(){class i extends Microsoft.Maps.CustomOverlay{constructor(){super({beneathLabels:!1}),this._container=document.createElement("div"),this._map=null,this._pins=new Set,this._viewChangeEventHandler=null,this._container.style.position="absolute",this._container.style.left="0",this._container.style.top="0"}addPin(o){this._pins.add(o),o._wrapper.style.position="absolute",this._container.appendChild(o._wrapper),this._map&&this.updatePinPosition(o)}onAdd(){this._map=this.getMap(),this.setHtmlElement(this._container)}onLoad(){this._viewChangeEventHandler=Microsoft.Maps.Events.addHandler(this._map,"viewchange",()=>this.updatePinPositions()),this.updatePinPositions()}onRemove(){Microsoft.Maps.Events.removeHandler(this._viewChangeEventHandler),this._map=null}removePin(o){this._pins.delete(o),this._container.removeChild(o._wrapper)}updatePinPosition(o){if(!this._map)return;const a=this._map.tryLocationToPixel(o._location,Microsoft.Maps.PixelReference.control);o._wrapper.style.left=a.x+"px",o._wrapper.style.top=a.y+"px"}updatePinPositions(){this._pins.forEach(o=>this.updatePinPosition(o))}}au=i}class Yh extends Sn{constructor(r){super(r),this.wrapper=r.wrapper,this.map=new Microsoft.Maps.Map(this.wrapper,{disablePanning:!r.controlEnabled,disableZooming:!r.controlEnabled,showLocateMeButton:!1,showMapTypeSelector:!1,showScalebar:!1,showTrafficButton:!1,...r.providerOptions}),this.pinOverlay=new au(this.map),this.map.layers.insert(this.pinOverlay),Microsoft.Maps.Events.addHandler(this.map,"viewchangestart",()=>this._panStartHandler()),Microsoft.Maps.Events.addHandler(this.map,"viewchangeend",()=>this._panHandler())}getCenter(){return new ke(this.map.getCenter())}getZoom(){return this.map.getZoom()}setCenter(r,o){const a=new Microsoft.Maps.Location(r.latitude,r.longitude);this.map.setView({center:a}),this.pinOverlay.updatePinPositions()}setZoom(r,o){this.map.setView({zoom:Math.floor(r)}),this.pinOverlay.updatePinPositions()}}class Gh extends Br{static getId(){return this._pinId=(this._pinId||0)+1,this._pinId}constructor(r){super(r),this._map=null,this._location=new Microsoft.Maps.Location(0,0)}setCoordinate(r){this._location=new Microsoft.Maps.Location(r.latitude,r.longitude),this._map&&this._map.getProviderMap().pinOverlay.updatePinPosition(this)}setMap(r,o){o&&o.getProviderMap().pinOverlay.removePin(this),r&&r.getProviderMap().pinOverlay.addPin(this),this._map=r}}const vl="BingMapsCallback_593d7d33",Zh="https://www.bing.com/api/maps/mapcontrol";function Vh(i,r,o,{params:a={}}={}){window[vl]=()=>{Wh(),i()};const f={callback:vl,key:o,...a};Ll(Zh+"?"+Object.entries(f).map(([g,m])=>g+"="+m).join("&"))}new dn().withLoadFunction(Vh).withMapClass(Yh).withPinClass(Gh).withProviderName("Bing").build();class Jh extends Sn{constructor(r){if(super(r),this.map=new mapboxgl.Map({container:r.wrapper,interactive:r.controlEnabled,style:"mapbox://styles/mapbox/streets-v9",...r.providerOptions}),r.controlEnabled){const o=new mapboxgl.NavigationControl({showCompass:!1});this.map.addControl(o)}this.map.on("movestart",()=>this._panStartHandler()),this.map.on("moveend",()=>this._panHandler())}getCenter(){return new ke(this.map.getCenter())}getZoom(){return this.map.getZoom()+1}setCenter(r,o){const a=new mapboxgl.LngLat(r.longitude,r.latitude);this.map[o?"panTo":"setCenter"](a)}setZoom(r,o){this.map[o?"zoomTo":"setZoom"](r-1)}setZoomCenter(r,o,a){const f=new mapboxgl.LngLat(o.longitude,o.latitude);this.map[a?"easeTo":"jumpTo"]({center:f,zoom:r-1})}}class Qh extends Br{constructor(r){super(r),this._wrapper.style.position="relative",this.pin=new mapboxgl.Marker({anchor:"top-left",element:this._wrapper})}setCoordinate(r){this.pin.setLngLat(new mapboxgl.LngLat(r.longitude,r.latitude))}setMap(r,o){r?this.pin.addTo(r.getProviderMap().map):this.pin.remove()}}function qh(i,r,o,{version:a="v1.13.0"}={}){const f=`https://api.mapbox.com/mapbox-gl-js/${a}/mapbox-gl`,g=document.createElement("link");g.rel="stylesheet",g.href=f+".css";const m=document.createElement("script");m.src=f+".js",m.onload=()=>{mapboxgl.accessToken=o,i()},document.head.appendChild(g),document.head.appendChild(m)}new dn().withLoadFunction(qh).withMapClass(Jh).withPinClass(Qh).withProviderName("Mapbox").build();let lu=class extends Sn{constructor(i){super(i),this._initMap(i),i.controlEnabled&&this.map.zoomControl.setPosition("topright"),this.map.on("movestart",()=>this._panStartHandler()),this.map.on("moveend",()=>this._panHandler())}getCenter(){return new ke(this.map.getCenter())}getZoom(){return this.map.getZoom()}setCenter(i,r){const o=new L.latLng(i.latitude,i.longitude);this.map.panTo(o,{animate:r})}setZoom(i,r){this.map.setZoom(i,{animate:r})}setZoomCenter(i,r,o){const a=new L.latLng(r.latitude,r.longitude);this.map.setView(a,i,{animate:o})}_initMap(i){this.map=new L.map(i.wrapper,{boxZoom:i.controlEnabled,doubleClickZoom:i.controlEnabled,dragging:i.controlEnabled,zoom:0,zoomControl:i.controlEnabled,zoomSnap:0,...i.providerOptions});const r=i.providerOptions,o=r.tileLayerSrc||"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",a=r.tileLayerOptions||{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/streets-v11"};a.accessToken=this.constructor.apiKey,L.tileLayer(o,a).addTo(this.map)}},Xh=class extends po{constructor(i){super(i),this.pin=new L.marker,this.pin.on("click",()=>this._clickHandler()),this.pin.on("mouseover",()=>this._hoverHandler(!0)),this.pin.on("mouseout",()=>this._hoverHandler(!1))}setCoordinate(i){const r=new L.latLng(i.latitude,i.longitude);this.pin.setLatLng(r)}setMap(i,r){i?this.pin.addTo(i.getProviderMap().map):this.pin.remove()}setProperties(i){const r=i.getWidth(),o=i.getHeight(),a=i.getAnchorX(),f=i.getAnchorY();this.pin.setIcon(new L.icon({iconUrl:this._icons[i.getIcon()],iconSize:[r,o],iconAnchor:[a*r,f*o],className:i.getClass()})),this.pin.setZIndexOffset(i.getZIndex())}};function eg(i,r,o,{version:a="1.7.1"}={}){const f=`https://unpkg.com/leaflet@${a}/dist/leaflet`;lu.apiKey=o;const g=document.createElement("link");g.rel="stylesheet",g.href=f+".css";const m=document.createElement("script");m.src=f+".js",m.onload=()=>i(),document.head.appendChild(g),document.head.appendChild(m)}const uu=new dn().withLoadFunction(eg).withMapClass(lu).withPinClass(Xh).withProviderName("Leaflet").build(),tg=uu.getMapClass(),ng=uu.getPinClass();class rg extends tg{_initMap(r){this.map=L.mapquest.map(r.wrapper,{boxZoom:r.controlEnabled,center:new L.latLng(0,0),doubleClickZoom:r.controlEnabled,dragging:r.controlEnabled,layers:L.mapquest.tileLayer("map"),zoom:0,zoomControl:r.controlEnabled,zoomSnap:0,...r.providerOptions})}}class ig extends ng{}function og(i,r,o,{version:a="v1.3.2"}={}){const f=`https://api.mqcdn.com/sdk/mapquest-js/${a}/mapquest-maps`,g=document.createElement("link");g.rel="stylesheet",g.href=f+".css";const m=document.createElement("script");m.src=f+".js",m.onload=()=>{L.mapquest.key=o,i()},document.head.appendChild(g),document.head.appendChild(m)}new dn().withLoadFunction(og).withMapClass(rg).withPinClass(ig).withProviderName("MapQuest").build();var An={};Object.defineProperty(An,"__esModule",{value:!0});var sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ag=typeof window<"u"&&typeof window.document<"u",lg=typeof ht.process<"u"&&ht.process.versions!=null&&ht.process.versions.node!=null,ug=(typeof self>"u"?"undefined":sg(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",cg=typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),dg=typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u",hg=An.isBrowser=ag;An.isWebWorker=ug;var gg=An.isNode=lg;An.isJsDom=cg;var fg=An.isDeno=dg;class pg{constructor(){Pr(this,"name");Pr(this,"isServerSide");Pr(this,"version");fg?(this.name="deno",this.version=(Deno==null?void 0:Deno.version.deno)||"",this.isServerSide=!0):gg?(this.name="node",this.version=ht.process.versions.node,this.isServerSide=!0):hg?(this.name="browser",this.version=navigator.userAgent,this.isServerSide=!1):(this.name="unknown",this.version="",this.isServerSide=!1)}getNodeMajorVersion(){if(this.name!="node")throw new Error("Not running in Node.");return+this.version.split(".")[0]}}const _g=()=>new pg,Og=(...i)=>{var a;if(_g().name!=="browser")return!1;const o=(a=window==null?void 0:window.location)==null?void 0:a.hostname;return i.length===0?o!=="localhost"&&!o.includes("preview.pagescdn.com"):i.some(f=>f==null?void 0:f.includes(o))};export{Xc as U,Il as X,bg as a,Bl as b,Kl as c,Tg as d,wg as f,_g as g,xg as h,Og as i,Cg as j,Ae as l,Sg as m,fd as o,cn as p,Ng as s,kl as t,zl as y};
